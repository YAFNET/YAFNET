{"version":3,"file":"forumExtensions.min.js","mappings":"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","sources":["webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/AbortController.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/AccessTokenHttpClient.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/DefaultReconnectPolicy.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/Errors.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/FetchHttpClient.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/HandshakeProtocol.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/HttpClient.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/HttpConnection.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/HubConnection.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/HubConnectionBuilder.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/ILogger.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/ITransport.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/Loggers.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/LongPollingTransport.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/MessageBuffer.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/ServerSentEventsTransport.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/Subject.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/Utils.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/WebSocketTransport.js","webpack://yetanotherforum-net/./node_modules/@microsoft/signalr/dist/esm/XhrHttpClient.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/createPopper.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/enums.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/flip.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/hide.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/offset.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/popper-lite.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/popper.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/debounce.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/getVariation.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/math.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/userAgent.js","webpack://yetanotherforum-net/./node_modules/@popperjs/core/lib/utils/within.js","webpack://yetanotherforum-net/./node_modules/@w8tcha/bootstrap-notify/dist/bootstrap-notify.css?083c","webpack://yetanotherforum-net/./node_modules/@w8tcha/bootstrap-notify/dist/bootstrap-notify.js","webpack://yetanotherforum-net/./node_modules/bootstrap/dist/js/bootstrap.esm.js","webpack://yetanotherforum-net/./node_modules/@w8tcha/bootstrap-notify/dist/bootstrap-notify.css","webpack://yetanotherforum-net/./node_modules/css-loader/dist/runtime/api.js","webpack://yetanotherforum-net/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://yetanotherforum-net/./node_modules/long-press-event/src/long-press-event.js","webpack://yetanotherforum-net/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://yetanotherforum-net/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://yetanotherforum-net/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://yetanotherforum-net/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://yetanotherforum-net/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://yetanotherforum-net/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://yetanotherforum-net/./wwwroot/lib/bootbox.js","webpack://yetanotherforum-net/./wwwroot/lib/bs5-lightbox/index.js","webpack://yetanotherforum-net/./wwwroot/lib/choices/assets/scripts/choices.js","webpack://yetanotherforum-net/./wwwroot/lib/forum/albums.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/attachments.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/bootstrap-touchspin.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/contextMenu.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/hoverCard.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/modals.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/notificationHub.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/notifications.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/paging.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/similarTitles.ts","webpack://yetanotherforum-net/./wwwroot/lib/forum/utilities.ts","webpack://yetanotherforum-net/./wwwroot/lib/prism.js","webpack://yetanotherforum-net/webpack/bootstrap","webpack://yetanotherforum-net/webpack/runtime/compat get default export","webpack://yetanotherforum-net/webpack/runtime/define property getters","webpack://yetanotherforum-net/webpack/runtime/global","webpack://yetanotherforum-net/webpack/runtime/hasOwnProperty shorthand","webpack://yetanotherforum-net/webpack/runtime/make namespace object","webpack://yetanotherforum-net/webpack/runtime/nonce","webpack://yetanotherforum-net/./wwwroot/lib/forumExtensions.ts"],"sourcesContent":["// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\r\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\r\n// it's a very new API right now.\r\n// Not exported from index.\r\n/** @private */\r\nexport class AbortController {\r\n    constructor() {\r\n        this._isAborted = false;\r\n        this.onabort = null;\r\n    }\r\n    abort() {\r\n        if (!this._isAborted) {\r\n            this._isAborted = true;\r\n            if (this.onabort) {\r\n                this.onabort();\r\n            }\r\n        }\r\n    }\r\n    get signal() {\r\n        return this;\r\n    }\r\n    get aborted() {\r\n        return this._isAborted;\r\n    }\r\n}\r\n//# sourceMappingURL=AbortController.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HeaderNames } from \"./HeaderNames\";\r\nimport { HttpClient } from \"./HttpClient\";\r\n/** @private */\r\nexport class AccessTokenHttpClient extends HttpClient {\r\n    constructor(innerClient, accessTokenFactory) {\r\n        super();\r\n        this._innerClient = innerClient;\r\n        this._accessTokenFactory = accessTokenFactory;\r\n    }\r\n    async send(request) {\r\n        let allowRetry = true;\r\n        if (this._accessTokenFactory && (!this._accessToken || (request.url && request.url.indexOf(\"/negotiate?\") > 0))) {\r\n            // don't retry if the request is a negotiate or if we just got a potentially new token from the access token factory\r\n            allowRetry = false;\r\n            this._accessToken = await this._accessTokenFactory();\r\n        }\r\n        this._setAuthorizationHeader(request);\r\n        const response = await this._innerClient.send(request);\r\n        if (allowRetry && response.statusCode === 401 && this._accessTokenFactory) {\r\n            this._accessToken = await this._accessTokenFactory();\r\n            this._setAuthorizationHeader(request);\r\n            return await this._innerClient.send(request);\r\n        }\r\n        return response;\r\n    }\r\n    _setAuthorizationHeader(request) {\r\n        if (!request.headers) {\r\n            request.headers = {};\r\n        }\r\n        if (this._accessToken) {\r\n            request.headers[HeaderNames.Authorization] = `Bearer ${this._accessToken}`;\r\n        }\r\n        // don't remove the header if there isn't an access token factory, the user manually added the header in this case\r\n        else if (this._accessTokenFactory) {\r\n            if (request.headers[HeaderNames.Authorization]) {\r\n                delete request.headers[HeaderNames.Authorization];\r\n            }\r\n        }\r\n    }\r\n    getCookieString(url) {\r\n        return this._innerClient.getCookieString(url);\r\n    }\r\n}\r\n//# sourceMappingURL=AccessTokenHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError } from \"./Errors\";\r\nimport { FetchHttpClient } from \"./FetchHttpClient\";\r\nimport { HttpClient } from \"./HttpClient\";\r\nimport { Platform } from \"./Utils\";\r\nimport { XhrHttpClient } from \"./XhrHttpClient\";\r\n/** Default implementation of {@link @microsoft/signalr.HttpClient}. */\r\nexport class DefaultHttpClient extends HttpClient {\r\n    /** Creates a new instance of the {@link @microsoft/signalr.DefaultHttpClient}, using the provided {@link @microsoft/signalr.ILogger} to log messages. */\r\n    constructor(logger) {\r\n        super();\r\n        if (typeof fetch !== \"undefined\" || Platform.isNode) {\r\n            this._httpClient = new FetchHttpClient(logger);\r\n        }\r\n        else if (typeof XMLHttpRequest !== \"undefined\") {\r\n            this._httpClient = new XhrHttpClient(logger);\r\n        }\r\n        else {\r\n            throw new Error(\"No usable HttpClient found.\");\r\n        }\r\n    }\r\n    /** @inheritDoc */\r\n    send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return this._httpClient.send(request);\r\n    }\r\n    getCookieString(url) {\r\n        return this._httpClient.getCookieString(url);\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// 0, 2, 10, 30 second delays before reconnect attempts.\r\nconst DEFAULT_RETRY_DELAYS_IN_MILLISECONDS = [0, 2000, 10000, 30000, null];\r\n/** @private */\r\nexport class DefaultReconnectPolicy {\r\n    constructor(retryDelays) {\r\n        this._retryDelays = retryDelays !== undefined ? [...retryDelays, null] : DEFAULT_RETRY_DELAYS_IN_MILLISECONDS;\r\n    }\r\n    nextRetryDelayInMilliseconds(retryContext) {\r\n        return this._retryDelays[retryContext.previousRetryCount];\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultReconnectPolicy.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Error thrown when an HTTP request fails. */\r\nexport class HttpError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.HttpError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     * @param {number} statusCode The HTTP status code represented by this error.\r\n     */\r\n    constructor(errorMessage, statusCode) {\r\n        const trueProto = new.target.prototype;\r\n        super(`${errorMessage}: Status code '${statusCode}'`);\r\n        this.statusCode = statusCode;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when a timeout elapses. */\r\nexport class TimeoutError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.TimeoutError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    constructor(errorMessage = \"A timeout occurred.\") {\r\n        const trueProto = new.target.prototype;\r\n        super(errorMessage);\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when an action is aborted. */\r\nexport class AbortError extends Error {\r\n    /** Constructs a new instance of {@link AbortError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    constructor(errorMessage = \"An abort occurred.\") {\r\n        const trueProto = new.target.prototype;\r\n        super(errorMessage);\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport is unsupported by the browser. */\r\n/** @private */\r\nexport class UnsupportedTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.UnsupportedTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'UnsupportedTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport is disabled by the browser. */\r\n/** @private */\r\nexport class DisabledTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.DisabledTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'DisabledTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport cannot be started. */\r\n/** @private */\r\nexport class FailedToStartTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.FailedToStartTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'FailedToStartTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the negotiation with the server failed to complete. */\r\n/** @private */\r\nexport class FailedToNegotiateWithServerError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.FailedToNegotiateWithServerError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     */\r\n    constructor(message) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.errorType = 'FailedToNegotiateWithServerError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when multiple errors have occurred. */\r\n/** @private */\r\nexport class AggregateErrors extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.AggregateErrors}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {Error[]} innerErrors The collection of errors this error is aggregating.\r\n     */\r\n    constructor(message, innerErrors) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.innerErrors = innerErrors;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n//# sourceMappingURL=Errors.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nimport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { Platform, getGlobalThis, isArrayBuffer } from \"./Utils\";\r\nexport class FetchHttpClient extends HttpClient {\r\n    constructor(logger) {\r\n        super();\r\n        this._logger = logger;\r\n        // Node added a fetch implementation to the global scope starting in v18.\r\n        // We need to add a cookie jar in node to be able to share cookies with WebSocket\r\n        if (typeof fetch === \"undefined\" || Platform.isNode) {\r\n            // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n            // @ts-ignore: TS doesn't know about these names\r\n            const requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n            // Cookies aren't automatically handled in Node so we need to add a CookieJar to preserve cookies across requests\r\n            this._jar = new (requireFunc(\"tough-cookie\")).CookieJar();\r\n            if (typeof fetch === \"undefined\") {\r\n                this._fetchType = requireFunc(\"node-fetch\");\r\n            }\r\n            else {\r\n                // Use fetch from Node if available\r\n                this._fetchType = fetch;\r\n            }\r\n            // node-fetch doesn't have a nice API for getting and setting cookies\r\n            // fetch-cookie will wrap a fetch implementation with a default CookieJar or a provided one\r\n            this._fetchType = requireFunc(\"fetch-cookie\")(this._fetchType, this._jar);\r\n        }\r\n        else {\r\n            this._fetchType = fetch.bind(getGlobalThis());\r\n        }\r\n        if (typeof AbortController === \"undefined\") {\r\n            // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n            // @ts-ignore: TS doesn't know about these names\r\n            const requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n            // Node needs EventListener methods on AbortController which our custom polyfill doesn't provide\r\n            this._abortControllerType = requireFunc(\"abort-controller\");\r\n        }\r\n        else {\r\n            this._abortControllerType = AbortController;\r\n        }\r\n    }\r\n    /** @inheritDoc */\r\n    async send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            throw new AbortError();\r\n        }\r\n        if (!request.method) {\r\n            throw new Error(\"No method defined.\");\r\n        }\r\n        if (!request.url) {\r\n            throw new Error(\"No url defined.\");\r\n        }\r\n        const abortController = new this._abortControllerType();\r\n        let error;\r\n        // Hook our abortSignal into the abort controller\r\n        if (request.abortSignal) {\r\n            request.abortSignal.onabort = () => {\r\n                abortController.abort();\r\n                error = new AbortError();\r\n            };\r\n        }\r\n        // If a timeout has been passed in, setup a timeout to call abort\r\n        // Type needs to be any to fit window.setTimeout and NodeJS.setTimeout\r\n        let timeoutId = null;\r\n        if (request.timeout) {\r\n            const msTimeout = request.timeout;\r\n            timeoutId = setTimeout(() => {\r\n                abortController.abort();\r\n                this._logger.log(LogLevel.Warning, `Timeout from HTTP request.`);\r\n                error = new TimeoutError();\r\n            }, msTimeout);\r\n        }\r\n        if (request.content === \"\") {\r\n            request.content = undefined;\r\n        }\r\n        if (request.content) {\r\n            // Explicitly setting the Content-Type header for React Native on Android platform.\r\n            request.headers = request.headers || {};\r\n            if (isArrayBuffer(request.content)) {\r\n                request.headers[\"Content-Type\"] = \"application/octet-stream\";\r\n            }\r\n            else {\r\n                request.headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\r\n            }\r\n        }\r\n        let response;\r\n        try {\r\n            response = await this._fetchType(request.url, {\r\n                body: request.content,\r\n                cache: \"no-cache\",\r\n                credentials: request.withCredentials === true ? \"include\" : \"same-origin\",\r\n                headers: {\r\n                    \"X-Requested-With\": \"XMLHttpRequest\",\r\n                    ...request.headers,\r\n                },\r\n                method: request.method,\r\n                mode: \"cors\",\r\n                redirect: \"follow\",\r\n                signal: abortController.signal,\r\n            });\r\n        }\r\n        catch (e) {\r\n            if (error) {\r\n                throw error;\r\n            }\r\n            this._logger.log(LogLevel.Warning, `Error from HTTP request. ${e}.`);\r\n            throw e;\r\n        }\r\n        finally {\r\n            if (timeoutId) {\r\n                clearTimeout(timeoutId);\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = null;\r\n            }\r\n        }\r\n        if (!response.ok) {\r\n            const errorMessage = await deserializeContent(response, \"text\");\r\n            throw new HttpError(errorMessage || response.statusText, response.status);\r\n        }\r\n        const content = deserializeContent(response, request.responseType);\r\n        const payload = await content;\r\n        return new HttpResponse(response.status, response.statusText, payload);\r\n    }\r\n    getCookieString(url) {\r\n        let cookies = \"\";\r\n        if (Platform.isNode && this._jar) {\r\n            // @ts-ignore: unused variable\r\n            this._jar.getCookies(url, (e, c) => cookies = c.join(\"; \"));\r\n        }\r\n        return cookies;\r\n    }\r\n}\r\nfunction deserializeContent(response, responseType) {\r\n    let content;\r\n    switch (responseType) {\r\n        case \"arraybuffer\":\r\n            content = response.arrayBuffer();\r\n            break;\r\n        case \"text\":\r\n            content = response.text();\r\n            break;\r\n        case \"blob\":\r\n        case \"document\":\r\n        case \"json\":\r\n            throw new Error(`${responseType} is not supported.`);\r\n        default:\r\n            content = response.text();\r\n            break;\r\n    }\r\n    return content;\r\n}\r\n//# sourceMappingURL=FetchHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { TextMessageFormat } from \"./TextMessageFormat\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\n/** @private */\r\nexport class HandshakeProtocol {\r\n    // Handshake request is always JSON\r\n    writeHandshakeRequest(handshakeRequest) {\r\n        return TextMessageFormat.write(JSON.stringify(handshakeRequest));\r\n    }\r\n    parseHandshakeResponse(data) {\r\n        let messageData;\r\n        let remainingData;\r\n        if (isArrayBuffer(data)) {\r\n            // Format is binary but still need to read JSON text from handshake response\r\n            const binaryData = new Uint8Array(data);\r\n            const separatorIndex = binaryData.indexOf(TextMessageFormat.RecordSeparatorCode);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            const responseLength = separatorIndex + 1;\r\n            messageData = String.fromCharCode.apply(null, Array.prototype.slice.call(binaryData.slice(0, responseLength)));\r\n            remainingData = (binaryData.byteLength > responseLength) ? binaryData.slice(responseLength).buffer : null;\r\n        }\r\n        else {\r\n            const textData = data;\r\n            const separatorIndex = textData.indexOf(TextMessageFormat.RecordSeparator);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            const responseLength = separatorIndex + 1;\r\n            messageData = textData.substring(0, responseLength);\r\n            remainingData = (textData.length > responseLength) ? textData.substring(responseLength) : null;\r\n        }\r\n        // At this point we should have just the single handshake message\r\n        const messages = TextMessageFormat.parse(messageData);\r\n        const response = JSON.parse(messages[0]);\r\n        if (response.type) {\r\n            throw new Error(\"Expected a handshake response from the server.\");\r\n        }\r\n        const responseMessage = response;\r\n        // multiple messages could have arrived with handshake\r\n        // return additional data to be parsed as usual, or null if all parsed\r\n        return [remainingData, responseMessage];\r\n    }\r\n}\r\n//# sourceMappingURL=HandshakeProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nexport class HeaderNames {\r\n}\r\nHeaderNames.Authorization = \"Authorization\";\r\nHeaderNames.Cookie = \"Cookie\";\r\n//# sourceMappingURL=HeaderNames.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Represents an HTTP response. */\r\nexport class HttpResponse {\r\n    constructor(statusCode, statusText, content) {\r\n        this.statusCode = statusCode;\r\n        this.statusText = statusText;\r\n        this.content = content;\r\n    }\r\n}\r\n/** Abstraction over an HTTP client.\r\n *\r\n * This class provides an abstraction over an HTTP client so that a different implementation can be provided on different platforms.\r\n */\r\nexport class HttpClient {\r\n    get(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"GET\",\r\n            url,\r\n        });\r\n    }\r\n    post(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"POST\",\r\n            url,\r\n        });\r\n    }\r\n    delete(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"DELETE\",\r\n            url,\r\n        });\r\n    }\r\n    /** Gets all cookies that apply to the specified URL.\r\n     *\r\n     * @param url The URL that the cookies are valid for.\r\n     * @returns {string} A string containing all the key-value cookie pairs for the specified URL.\r\n     */\r\n    // @ts-ignore\r\n    getCookieString(url) {\r\n        return \"\";\r\n    }\r\n}\r\n//# sourceMappingURL=HttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AccessTokenHttpClient } from \"./AccessTokenHttpClient\";\r\nimport { DefaultHttpClient } from \"./DefaultHttpClient\";\r\nimport { AggregateErrors, DisabledTransportError, FailedToNegotiateWithServerError, FailedToStartTransportError, HttpError, UnsupportedTransportError, AbortError } from \"./Errors\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { HttpTransportType, TransferFormat } from \"./ITransport\";\r\nimport { LongPollingTransport } from \"./LongPollingTransport\";\r\nimport { ServerSentEventsTransport } from \"./ServerSentEventsTransport\";\r\nimport { Arg, createLogger, getUserAgentHeader, Platform } from \"./Utils\";\r\nimport { WebSocketTransport } from \"./WebSocketTransport\";\r\nconst MAX_REDIRECTS = 100;\r\n/** @private */\r\nexport class HttpConnection {\r\n    constructor(url, options = {}) {\r\n        this._stopPromiseResolver = () => { };\r\n        this.features = {};\r\n        this._negotiateVersion = 1;\r\n        Arg.isRequired(url, \"url\");\r\n        this._logger = createLogger(options.logger);\r\n        this.baseUrl = this._resolveUrl(url);\r\n        options = options || {};\r\n        options.logMessageContent = options.logMessageContent === undefined ? false : options.logMessageContent;\r\n        if (typeof options.withCredentials === \"boolean\" || options.withCredentials === undefined) {\r\n            options.withCredentials = options.withCredentials === undefined ? true : options.withCredentials;\r\n        }\r\n        else {\r\n            throw new Error(\"withCredentials option was not a 'boolean' or 'undefined' value\");\r\n        }\r\n        options.timeout = options.timeout === undefined ? 100 * 1000 : options.timeout;\r\n        let webSocketModule = null;\r\n        let eventSourceModule = null;\r\n        if (Platform.isNode && typeof require !== \"undefined\") {\r\n            // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n            // @ts-ignore: TS doesn't know about these names\r\n            const requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n            webSocketModule = requireFunc(\"ws\");\r\n            eventSourceModule = requireFunc(\"eventsource\");\r\n        }\r\n        if (!Platform.isNode && typeof WebSocket !== \"undefined\" && !options.WebSocket) {\r\n            options.WebSocket = WebSocket;\r\n        }\r\n        else if (Platform.isNode && !options.WebSocket) {\r\n            if (webSocketModule) {\r\n                options.WebSocket = webSocketModule;\r\n            }\r\n        }\r\n        if (!Platform.isNode && typeof EventSource !== \"undefined\" && !options.EventSource) {\r\n            options.EventSource = EventSource;\r\n        }\r\n        else if (Platform.isNode && !options.EventSource) {\r\n            if (typeof eventSourceModule !== \"undefined\") {\r\n                options.EventSource = eventSourceModule;\r\n            }\r\n        }\r\n        this._httpClient = new AccessTokenHttpClient(options.httpClient || new DefaultHttpClient(this._logger), options.accessTokenFactory);\r\n        this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n        this._connectionStarted = false;\r\n        this._options = options;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async start(transferFormat) {\r\n        transferFormat = transferFormat || TransferFormat.Binary;\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Debug, `Starting connection with transfer format '${TransferFormat[transferFormat]}'.`);\r\n        if (this._connectionState !== \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            return Promise.reject(new Error(\"Cannot start an HttpConnection that is not in the 'Disconnected' state.\"));\r\n        }\r\n        this._connectionState = \"Connecting\" /* ConnectionState.Connecting */;\r\n        this._startInternalPromise = this._startInternal(transferFormat);\r\n        await this._startInternalPromise;\r\n        // The TypeScript compiler thinks that connectionState must be Connecting here. The TypeScript compiler is wrong.\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            // stop() was called and transitioned the client into the Disconnecting state.\r\n            const message = \"Failed to start the HttpConnection before stop() was called.\";\r\n            this._logger.log(LogLevel.Error, message);\r\n            // We cannot await stopPromise inside startInternal since stopInternal awaits the startInternalPromise.\r\n            await this._stopPromise;\r\n            return Promise.reject(new AbortError(message));\r\n        }\r\n        else if (this._connectionState !== \"Connected\" /* ConnectionState.Connected */) {\r\n            // stop() was called and transitioned the client into the Disconnecting state.\r\n            const message = \"HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!\";\r\n            this._logger.log(LogLevel.Error, message);\r\n            return Promise.reject(new AbortError(message));\r\n        }\r\n        this._connectionStarted = true;\r\n    }\r\n    send(data) {\r\n        if (this._connectionState !== \"Connected\" /* ConnectionState.Connected */) {\r\n            return Promise.reject(new Error(\"Cannot send data if the connection is not in the 'Connected' State.\"));\r\n        }\r\n        if (!this._sendQueue) {\r\n            this._sendQueue = new TransportSendQueue(this.transport);\r\n        }\r\n        // Transport will not be null if state is connected\r\n        return this._sendQueue.send(data);\r\n    }\r\n    async stop(error) {\r\n        if (this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnected state.`);\r\n            return Promise.resolve();\r\n        }\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnecting state.`);\r\n            return this._stopPromise;\r\n        }\r\n        this._connectionState = \"Disconnecting\" /* ConnectionState.Disconnecting */;\r\n        this._stopPromise = new Promise((resolve) => {\r\n            // Don't complete stop() until stopConnection() completes.\r\n            this._stopPromiseResolver = resolve;\r\n        });\r\n        // stopInternal should never throw so just observe it.\r\n        await this._stopInternal(error);\r\n        await this._stopPromise;\r\n    }\r\n    async _stopInternal(error) {\r\n        // Set error as soon as possible otherwise there is a race between\r\n        // the transport closing and providing an error and the error from a close message\r\n        // We would prefer the close message error.\r\n        this._stopError = error;\r\n        try {\r\n            await this._startInternalPromise;\r\n        }\r\n        catch (e) {\r\n            // This exception is returned to the user as a rejected Promise from the start method.\r\n        }\r\n        // The transport's onclose will trigger stopConnection which will run our onclose event.\r\n        // The transport should always be set if currently connected. If it wasn't set, it's likely because\r\n        // stop was called during start() and start() failed.\r\n        if (this.transport) {\r\n            try {\r\n                await this.transport.stop();\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `HttpConnection.transport.stop() threw error '${e}'.`);\r\n                this._stopConnection();\r\n            }\r\n            this.transport = undefined;\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Debug, \"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.\");\r\n        }\r\n    }\r\n    async _startInternal(transferFormat) {\r\n        // Store the original base url and the access token factory since they may change\r\n        // as part of negotiating\r\n        let url = this.baseUrl;\r\n        this._accessTokenFactory = this._options.accessTokenFactory;\r\n        this._httpClient._accessTokenFactory = this._accessTokenFactory;\r\n        try {\r\n            if (this._options.skipNegotiation) {\r\n                if (this._options.transport === HttpTransportType.WebSockets) {\r\n                    // No need to add a connection ID in this case\r\n                    this.transport = this._constructTransport(HttpTransportType.WebSockets);\r\n                    // We should just call connect directly in this case.\r\n                    // No fallback or negotiate in this case.\r\n                    await this._startTransport(url, transferFormat);\r\n                }\r\n                else {\r\n                    throw new Error(\"Negotiation can only be skipped when using the WebSocket transport directly.\");\r\n                }\r\n            }\r\n            else {\r\n                let negotiateResponse = null;\r\n                let redirects = 0;\r\n                do {\r\n                    negotiateResponse = await this._getNegotiationResponse(url);\r\n                    // the user tries to stop the connection when it is being started\r\n                    if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */ || this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n                        throw new AbortError(\"The connection was stopped during negotiation.\");\r\n                    }\r\n                    if (negotiateResponse.error) {\r\n                        throw new Error(negotiateResponse.error);\r\n                    }\r\n                    if (negotiateResponse.ProtocolVersion) {\r\n                        throw new Error(\"Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.\");\r\n                    }\r\n                    if (negotiateResponse.url) {\r\n                        url = negotiateResponse.url;\r\n                    }\r\n                    if (negotiateResponse.accessToken) {\r\n                        // Replace the current access token factory with one that uses\r\n                        // the returned access token\r\n                        const accessToken = negotiateResponse.accessToken;\r\n                        this._accessTokenFactory = () => accessToken;\r\n                        // set the factory to undefined so the AccessTokenHttpClient won't retry with the same token, since we know it won't change until a connection restart\r\n                        this._httpClient._accessToken = accessToken;\r\n                        this._httpClient._accessTokenFactory = undefined;\r\n                    }\r\n                    redirects++;\r\n                } while (negotiateResponse.url && redirects < MAX_REDIRECTS);\r\n                if (redirects === MAX_REDIRECTS && negotiateResponse.url) {\r\n                    throw new Error(\"Negotiate redirection limit exceeded.\");\r\n                }\r\n                await this._createTransport(url, this._options.transport, negotiateResponse, transferFormat);\r\n            }\r\n            if (this.transport instanceof LongPollingTransport) {\r\n                this.features.inherentKeepAlive = true;\r\n            }\r\n            if (this._connectionState === \"Connecting\" /* ConnectionState.Connecting */) {\r\n                // Ensure the connection transitions to the connected state prior to completing this.startInternalPromise.\r\n                // start() will handle the case when stop was called and startInternal exits still in the disconnecting state.\r\n                this._logger.log(LogLevel.Debug, \"The HttpConnection connected successfully.\");\r\n                this._connectionState = \"Connected\" /* ConnectionState.Connected */;\r\n            }\r\n            // stop() is waiting on us via this.startInternalPromise so keep this.transport around so it can clean up.\r\n            // This is the only case startInternal can exit in neither the connected nor disconnected state because stopConnection()\r\n            // will transition to the disconnected state. start() will wait for the transition using the stopPromise.\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Error, \"Failed to start the connection: \" + e);\r\n            this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n            this.transport = undefined;\r\n            // if start fails, any active calls to stop assume that start will complete the stop promise\r\n            this._stopPromiseResolver();\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    async _getNegotiationResponse(url) {\r\n        const headers = {};\r\n        const [name, value] = getUserAgentHeader();\r\n        headers[name] = value;\r\n        const negotiateUrl = this._resolveNegotiateUrl(url);\r\n        this._logger.log(LogLevel.Debug, `Sending negotiation request: ${negotiateUrl}.`);\r\n        try {\r\n            const response = await this._httpClient.post(negotiateUrl, {\r\n                content: \"\",\r\n                headers: { ...headers, ...this._options.headers },\r\n                timeout: this._options.timeout,\r\n                withCredentials: this._options.withCredentials,\r\n            });\r\n            if (response.statusCode !== 200) {\r\n                return Promise.reject(new Error(`Unexpected status code returned from negotiate '${response.statusCode}'`));\r\n            }\r\n            const negotiateResponse = JSON.parse(response.content);\r\n            if (!negotiateResponse.negotiateVersion || negotiateResponse.negotiateVersion < 1) {\r\n                // Negotiate version 0 doesn't use connectionToken\r\n                // So we set it equal to connectionId so all our logic can use connectionToken without being aware of the negotiate version\r\n                negotiateResponse.connectionToken = negotiateResponse.connectionId;\r\n            }\r\n            if (negotiateResponse.useStatefulReconnect && this._options._useStatefulReconnect !== true) {\r\n                return Promise.reject(new FailedToNegotiateWithServerError(\"Client didn't negotiate Stateful Reconnect but the server did.\"));\r\n            }\r\n            return negotiateResponse;\r\n        }\r\n        catch (e) {\r\n            let errorMessage = \"Failed to complete negotiation with the server: \" + e;\r\n            if (e instanceof HttpError) {\r\n                if (e.statusCode === 404) {\r\n                    errorMessage = errorMessage + \" Either this is not a SignalR endpoint or there is a proxy blocking the connection.\";\r\n                }\r\n            }\r\n            this._logger.log(LogLevel.Error, errorMessage);\r\n            return Promise.reject(new FailedToNegotiateWithServerError(errorMessage));\r\n        }\r\n    }\r\n    _createConnectUrl(url, connectionToken) {\r\n        if (!connectionToken) {\r\n            return url;\r\n        }\r\n        return url + (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + `id=${connectionToken}`;\r\n    }\r\n    async _createTransport(url, requestedTransport, negotiateResponse, requestedTransferFormat) {\r\n        let connectUrl = this._createConnectUrl(url, negotiateResponse.connectionToken);\r\n        if (this._isITransport(requestedTransport)) {\r\n            this._logger.log(LogLevel.Debug, \"Connection was provided an instance of ITransport, using that directly.\");\r\n            this.transport = requestedTransport;\r\n            await this._startTransport(connectUrl, requestedTransferFormat);\r\n            this.connectionId = negotiateResponse.connectionId;\r\n            return;\r\n        }\r\n        const transportExceptions = [];\r\n        const transports = negotiateResponse.availableTransports || [];\r\n        let negotiate = negotiateResponse;\r\n        for (const endpoint of transports) {\r\n            const transportOrError = this._resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat, (negotiate === null || negotiate === void 0 ? void 0 : negotiate.useStatefulReconnect) === true);\r\n            if (transportOrError instanceof Error) {\r\n                // Store the error and continue, we don't want to cause a re-negotiate in these cases\r\n                transportExceptions.push(`${endpoint.transport} failed:`);\r\n                transportExceptions.push(transportOrError);\r\n            }\r\n            else if (this._isITransport(transportOrError)) {\r\n                this.transport = transportOrError;\r\n                if (!negotiate) {\r\n                    try {\r\n                        negotiate = await this._getNegotiationResponse(url);\r\n                    }\r\n                    catch (ex) {\r\n                        return Promise.reject(ex);\r\n                    }\r\n                    connectUrl = this._createConnectUrl(url, negotiate.connectionToken);\r\n                }\r\n                try {\r\n                    await this._startTransport(connectUrl, requestedTransferFormat);\r\n                    this.connectionId = negotiate.connectionId;\r\n                    return;\r\n                }\r\n                catch (ex) {\r\n                    this._logger.log(LogLevel.Error, `Failed to start the transport '${endpoint.transport}': ${ex}`);\r\n                    negotiate = undefined;\r\n                    transportExceptions.push(new FailedToStartTransportError(`${endpoint.transport} failed: ${ex}`, HttpTransportType[endpoint.transport]));\r\n                    if (this._connectionState !== \"Connecting\" /* ConnectionState.Connecting */) {\r\n                        const message = \"Failed to select transport before stop() was called.\";\r\n                        this._logger.log(LogLevel.Debug, message);\r\n                        return Promise.reject(new AbortError(message));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (transportExceptions.length > 0) {\r\n            return Promise.reject(new AggregateErrors(`Unable to connect to the server with any of the available transports. ${transportExceptions.join(\" \")}`, transportExceptions));\r\n        }\r\n        return Promise.reject(new Error(\"None of the transports supported by the client are supported by the server.\"));\r\n    }\r\n    _constructTransport(transport) {\r\n        switch (transport) {\r\n            case HttpTransportType.WebSockets:\r\n                if (!this._options.WebSocket) {\r\n                    throw new Error(\"'WebSocket' is not supported in your environment.\");\r\n                }\r\n                return new WebSocketTransport(this._httpClient, this._accessTokenFactory, this._logger, this._options.logMessageContent, this._options.WebSocket, this._options.headers || {});\r\n            case HttpTransportType.ServerSentEvents:\r\n                if (!this._options.EventSource) {\r\n                    throw new Error(\"'EventSource' is not supported in your environment.\");\r\n                }\r\n                return new ServerSentEventsTransport(this._httpClient, this._httpClient._accessToken, this._logger, this._options);\r\n            case HttpTransportType.LongPolling:\r\n                return new LongPollingTransport(this._httpClient, this._logger, this._options);\r\n            default:\r\n                throw new Error(`Unknown transport: ${transport}.`);\r\n        }\r\n    }\r\n    _startTransport(url, transferFormat) {\r\n        this.transport.onreceive = this.onreceive;\r\n        if (this.features.reconnect) {\r\n            this.transport.onclose = async (e) => {\r\n                let callStop = false;\r\n                if (this.features.reconnect) {\r\n                    try {\r\n                        this.features.disconnected();\r\n                        await this.transport.connect(url, transferFormat);\r\n                        await this.features.resend();\r\n                    }\r\n                    catch {\r\n                        callStop = true;\r\n                    }\r\n                }\r\n                else {\r\n                    this._stopConnection(e);\r\n                    return;\r\n                }\r\n                if (callStop) {\r\n                    this._stopConnection(e);\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            this.transport.onclose = (e) => this._stopConnection(e);\r\n        }\r\n        return this.transport.connect(url, transferFormat);\r\n    }\r\n    _resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat, useStatefulReconnect) {\r\n        const transport = HttpTransportType[endpoint.transport];\r\n        if (transport === null || transport === undefined) {\r\n            this._logger.log(LogLevel.Debug, `Skipping transport '${endpoint.transport}' because it is not supported by this client.`);\r\n            return new Error(`Skipping transport '${endpoint.transport}' because it is not supported by this client.`);\r\n        }\r\n        else {\r\n            if (transportMatches(requestedTransport, transport)) {\r\n                const transferFormats = endpoint.transferFormats.map((s) => TransferFormat[s]);\r\n                if (transferFormats.indexOf(requestedTransferFormat) >= 0) {\r\n                    if ((transport === HttpTransportType.WebSockets && !this._options.WebSocket) ||\r\n                        (transport === HttpTransportType.ServerSentEvents && !this._options.EventSource)) {\r\n                        this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it is not supported in your environment.'`);\r\n                        return new UnsupportedTransportError(`'${HttpTransportType[transport]}' is not supported in your environment.`, transport);\r\n                    }\r\n                    else {\r\n                        this._logger.log(LogLevel.Debug, `Selecting transport '${HttpTransportType[transport]}'.`);\r\n                        try {\r\n                            this.features.reconnect = transport === HttpTransportType.WebSockets ? useStatefulReconnect : undefined;\r\n                            return this._constructTransport(transport);\r\n                        }\r\n                        catch (ex) {\r\n                            return ex;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it does not support the requested transfer format '${TransferFormat[requestedTransferFormat]}'.`);\r\n                    return new Error(`'${HttpTransportType[transport]}' does not support ${TransferFormat[requestedTransferFormat]}.`);\r\n                }\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it was disabled by the client.`);\r\n                return new DisabledTransportError(`'${HttpTransportType[transport]}' is disabled by the client.`, transport);\r\n            }\r\n        }\r\n    }\r\n    _isITransport(transport) {\r\n        return transport && typeof (transport) === \"object\" && \"connect\" in transport;\r\n    }\r\n    _stopConnection(error) {\r\n        this._logger.log(LogLevel.Debug, `HttpConnection.stopConnection(${error}) called while in state ${this._connectionState}.`);\r\n        this.transport = undefined;\r\n        // If we have a stopError, it takes precedence over the error from the transport\r\n        error = this._stopError || error;\r\n        this._stopError = undefined;\r\n        if (this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stopConnection(${error}) was ignored because the connection is already in the disconnected state.`);\r\n            return;\r\n        }\r\n        if (this._connectionState === \"Connecting\" /* ConnectionState.Connecting */) {\r\n            this._logger.log(LogLevel.Warning, `Call to HttpConnection.stopConnection(${error}) was ignored because the connection is still in the connecting state.`);\r\n            throw new Error(`HttpConnection.stopConnection(${error}) was called while the connection is still in the connecting state.`);\r\n        }\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            // A call to stop() induced this call to stopConnection and needs to be completed.\r\n            // Any stop() awaiters will be scheduled to continue after the onclose callback fires.\r\n            this._stopPromiseResolver();\r\n        }\r\n        if (error) {\r\n            this._logger.log(LogLevel.Error, `Connection disconnected with error '${error}'.`);\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Information, \"Connection disconnected.\");\r\n        }\r\n        if (this._sendQueue) {\r\n            this._sendQueue.stop().catch((e) => {\r\n                this._logger.log(LogLevel.Error, `TransportSendQueue.stop() threw error '${e}'.`);\r\n            });\r\n            this._sendQueue = undefined;\r\n        }\r\n        this.connectionId = undefined;\r\n        this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n        if (this._connectionStarted) {\r\n            this._connectionStarted = false;\r\n            try {\r\n                if (this.onclose) {\r\n                    this.onclose(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `HttpConnection.onclose(${error}) threw error '${e}'.`);\r\n            }\r\n        }\r\n    }\r\n    _resolveUrl(url) {\r\n        // startsWith is not supported in IE\r\n        if (url.lastIndexOf(\"https://\", 0) === 0 || url.lastIndexOf(\"http://\", 0) === 0) {\r\n            return url;\r\n        }\r\n        if (!Platform.isBrowser) {\r\n            throw new Error(`Cannot resolve '${url}'.`);\r\n        }\r\n        // Setting the url to the href propery of an anchor tag handles normalization\r\n        // for us. There are 3 main cases.\r\n        // 1. Relative path normalization e.g \"b\" -> \"http://localhost:5000/a/b\"\r\n        // 2. Absolute path normalization e.g \"/a/b\" -> \"http://localhost:5000/a/b\"\r\n        // 3. Networkpath reference normalization e.g \"//localhost:5000/a/b\" -> \"http://localhost:5000/a/b\"\r\n        const aTag = window.document.createElement(\"a\");\r\n        aTag.href = url;\r\n        this._logger.log(LogLevel.Information, `Normalizing '${url}' to '${aTag.href}'.`);\r\n        return aTag.href;\r\n    }\r\n    _resolveNegotiateUrl(url) {\r\n        const negotiateUrl = new URL(url);\r\n        if (negotiateUrl.pathname.endsWith('/')) {\r\n            negotiateUrl.pathname += \"negotiate\";\r\n        }\r\n        else {\r\n            negotiateUrl.pathname += \"/negotiate\";\r\n        }\r\n        const searchParams = new URLSearchParams(negotiateUrl.searchParams);\r\n        if (!searchParams.has(\"negotiateVersion\")) {\r\n            searchParams.append(\"negotiateVersion\", this._negotiateVersion.toString());\r\n        }\r\n        if (searchParams.has(\"useStatefulReconnect\")) {\r\n            if (searchParams.get(\"useStatefulReconnect\") === \"true\") {\r\n                this._options._useStatefulReconnect = true;\r\n            }\r\n        }\r\n        else if (this._options._useStatefulReconnect === true) {\r\n            searchParams.append(\"useStatefulReconnect\", \"true\");\r\n        }\r\n        negotiateUrl.search = searchParams.toString();\r\n        return negotiateUrl.toString();\r\n    }\r\n}\r\nfunction transportMatches(requestedTransport, actualTransport) {\r\n    return !requestedTransport || ((actualTransport & requestedTransport) !== 0);\r\n}\r\n/** @private */\r\nexport class TransportSendQueue {\r\n    constructor(_transport) {\r\n        this._transport = _transport;\r\n        this._buffer = [];\r\n        this._executing = true;\r\n        this._sendBufferedData = new PromiseSource();\r\n        this._transportResult = new PromiseSource();\r\n        this._sendLoopPromise = this._sendLoop();\r\n    }\r\n    send(data) {\r\n        this._bufferData(data);\r\n        if (!this._transportResult) {\r\n            this._transportResult = new PromiseSource();\r\n        }\r\n        return this._transportResult.promise;\r\n    }\r\n    stop() {\r\n        this._executing = false;\r\n        this._sendBufferedData.resolve();\r\n        return this._sendLoopPromise;\r\n    }\r\n    _bufferData(data) {\r\n        if (this._buffer.length && typeof (this._buffer[0]) !== typeof (data)) {\r\n            throw new Error(`Expected data to be of type ${typeof (this._buffer)} but was of type ${typeof (data)}`);\r\n        }\r\n        this._buffer.push(data);\r\n        this._sendBufferedData.resolve();\r\n    }\r\n    async _sendLoop() {\r\n        while (true) {\r\n            await this._sendBufferedData.promise;\r\n            if (!this._executing) {\r\n                if (this._transportResult) {\r\n                    this._transportResult.reject(\"Connection stopped.\");\r\n                }\r\n                break;\r\n            }\r\n            this._sendBufferedData = new PromiseSource();\r\n            const transportResult = this._transportResult;\r\n            this._transportResult = undefined;\r\n            const data = typeof (this._buffer[0]) === \"string\" ?\r\n                this._buffer.join(\"\") :\r\n                TransportSendQueue._concatBuffers(this._buffer);\r\n            this._buffer.length = 0;\r\n            try {\r\n                await this._transport.send(data);\r\n                transportResult.resolve();\r\n            }\r\n            catch (error) {\r\n                transportResult.reject(error);\r\n            }\r\n        }\r\n    }\r\n    static _concatBuffers(arrayBuffers) {\r\n        const totalLength = arrayBuffers.map((b) => b.byteLength).reduce((a, b) => a + b);\r\n        const result = new Uint8Array(totalLength);\r\n        let offset = 0;\r\n        for (const item of arrayBuffers) {\r\n            result.set(new Uint8Array(item), offset);\r\n            offset += item.byteLength;\r\n        }\r\n        return result.buffer;\r\n    }\r\n}\r\nclass PromiseSource {\r\n    constructor() {\r\n        this.promise = new Promise((resolve, reject) => [this._resolver, this._rejecter] = [resolve, reject]);\r\n    }\r\n    resolve() {\r\n        this._resolver();\r\n    }\r\n    reject(reason) {\r\n        this._rejecter(reason);\r\n    }\r\n}\r\n//# sourceMappingURL=HttpConnection.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HandshakeProtocol } from \"./HandshakeProtocol\";\r\nimport { AbortError } from \"./Errors\";\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { Subject } from \"./Subject\";\r\nimport { Arg, getErrorString, Platform } from \"./Utils\";\r\nimport { MessageBuffer } from \"./MessageBuffer\";\r\nconst DEFAULT_TIMEOUT_IN_MS = 30 * 1000;\r\nconst DEFAULT_PING_INTERVAL_IN_MS = 15 * 1000;\r\nconst DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE = 100000;\r\n/** Describes the current state of the {@link HubConnection} to the server. */\r\nexport var HubConnectionState;\r\n(function (HubConnectionState) {\r\n    /** The hub connection is disconnected. */\r\n    HubConnectionState[\"Disconnected\"] = \"Disconnected\";\r\n    /** The hub connection is connecting. */\r\n    HubConnectionState[\"Connecting\"] = \"Connecting\";\r\n    /** The hub connection is connected. */\r\n    HubConnectionState[\"Connected\"] = \"Connected\";\r\n    /** The hub connection is disconnecting. */\r\n    HubConnectionState[\"Disconnecting\"] = \"Disconnecting\";\r\n    /** The hub connection is reconnecting. */\r\n    HubConnectionState[\"Reconnecting\"] = \"Reconnecting\";\r\n})(HubConnectionState || (HubConnectionState = {}));\r\n/** Represents a connection to a SignalR Hub. */\r\nexport class HubConnection {\r\n    /** @internal */\r\n    // Using a public static factory method means we can have a private constructor and an _internal_\r\n    // create method that can be used by HubConnectionBuilder. An \"internal\" constructor would just\r\n    // be stripped away and the '.d.ts' file would have no constructor, which is interpreted as a\r\n    // public parameter-less constructor.\r\n    static create(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize) {\r\n        return new HubConnection(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize);\r\n    }\r\n    constructor(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize) {\r\n        this._nextKeepAlive = 0;\r\n        this._freezeEventListener = () => {\r\n            this._logger.log(LogLevel.Warning, \"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep\");\r\n        };\r\n        Arg.isRequired(connection, \"connection\");\r\n        Arg.isRequired(logger, \"logger\");\r\n        Arg.isRequired(protocol, \"protocol\");\r\n        this.serverTimeoutInMilliseconds = serverTimeoutInMilliseconds !== null && serverTimeoutInMilliseconds !== void 0 ? serverTimeoutInMilliseconds : DEFAULT_TIMEOUT_IN_MS;\r\n        this.keepAliveIntervalInMilliseconds = keepAliveIntervalInMilliseconds !== null && keepAliveIntervalInMilliseconds !== void 0 ? keepAliveIntervalInMilliseconds : DEFAULT_PING_INTERVAL_IN_MS;\r\n        this._statefulReconnectBufferSize = statefulReconnectBufferSize !== null && statefulReconnectBufferSize !== void 0 ? statefulReconnectBufferSize : DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE;\r\n        this._logger = logger;\r\n        this._protocol = protocol;\r\n        this.connection = connection;\r\n        this._reconnectPolicy = reconnectPolicy;\r\n        this._handshakeProtocol = new HandshakeProtocol();\r\n        this.connection.onreceive = (data) => this._processIncomingData(data);\r\n        this.connection.onclose = (error) => this._connectionClosed(error);\r\n        this._callbacks = {};\r\n        this._methods = {};\r\n        this._closedCallbacks = [];\r\n        this._reconnectingCallbacks = [];\r\n        this._reconnectedCallbacks = [];\r\n        this._invocationId = 0;\r\n        this._receivedHandshakeResponse = false;\r\n        this._connectionState = HubConnectionState.Disconnected;\r\n        this._connectionStarted = false;\r\n        this._cachedPingMessage = this._protocol.writeMessage({ type: MessageType.Ping });\r\n    }\r\n    /** Indicates the state of the {@link HubConnection} to the server. */\r\n    get state() {\r\n        return this._connectionState;\r\n    }\r\n    /** Represents the connection id of the {@link HubConnection} on the server. The connection id will be null when the connection is either\r\n     *  in the disconnected state or if the negotiation step was skipped.\r\n     */\r\n    get connectionId() {\r\n        return this.connection ? (this.connection.connectionId || null) : null;\r\n    }\r\n    /** Indicates the url of the {@link HubConnection} to the server. */\r\n    get baseUrl() {\r\n        return this.connection.baseUrl || \"\";\r\n    }\r\n    /**\r\n     * Sets a new url for the HubConnection. Note that the url can only be changed when the connection is in either the Disconnected or\r\n     * Reconnecting states.\r\n     * @param {string} url The url to connect to.\r\n     */\r\n    set baseUrl(url) {\r\n        if (this._connectionState !== HubConnectionState.Disconnected && this._connectionState !== HubConnectionState.Reconnecting) {\r\n            throw new Error(\"The HubConnection must be in the Disconnected or Reconnecting state to change the url.\");\r\n        }\r\n        if (!url) {\r\n            throw new Error(\"The HubConnection url must be a valid url.\");\r\n        }\r\n        this.connection.baseUrl = url;\r\n    }\r\n    /** Starts the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully established, or rejects with an error.\r\n     */\r\n    start() {\r\n        this._startPromise = this._startWithStateTransitions();\r\n        return this._startPromise;\r\n    }\r\n    async _startWithStateTransitions() {\r\n        if (this._connectionState !== HubConnectionState.Disconnected) {\r\n            return Promise.reject(new Error(\"Cannot start a HubConnection that is not in the 'Disconnected' state.\"));\r\n        }\r\n        this._connectionState = HubConnectionState.Connecting;\r\n        this._logger.log(LogLevel.Debug, \"Starting HubConnection.\");\r\n        try {\r\n            await this._startInternal();\r\n            if (Platform.isBrowser) {\r\n                // Log when the browser freezes the tab so users know why their connection unexpectedly stopped working\r\n                window.document.addEventListener(\"freeze\", this._freezeEventListener);\r\n            }\r\n            this._connectionState = HubConnectionState.Connected;\r\n            this._connectionStarted = true;\r\n            this._logger.log(LogLevel.Debug, \"HubConnection connected successfully.\");\r\n        }\r\n        catch (e) {\r\n            this._connectionState = HubConnectionState.Disconnected;\r\n            this._logger.log(LogLevel.Debug, `HubConnection failed to start successfully because of error '${e}'.`);\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    async _startInternal() {\r\n        this._stopDuringStartError = undefined;\r\n        this._receivedHandshakeResponse = false;\r\n        // Set up the promise before any connection is (re)started otherwise it could race with received messages\r\n        const handshakePromise = new Promise((resolve, reject) => {\r\n            this._handshakeResolver = resolve;\r\n            this._handshakeRejecter = reject;\r\n        });\r\n        await this.connection.start(this._protocol.transferFormat);\r\n        try {\r\n            let version = this._protocol.version;\r\n            if (!this.connection.features.reconnect) {\r\n                // Stateful Reconnect starts with HubProtocol version 2, newer clients connecting to older servers will fail to connect due to\r\n                // the handshake only supporting version 1, so we will try to send version 1 during the handshake to keep old servers working.\r\n                version = 1;\r\n            }\r\n            const handshakeRequest = {\r\n                protocol: this._protocol.name,\r\n                version,\r\n            };\r\n            this._logger.log(LogLevel.Debug, \"Sending handshake request.\");\r\n            await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(handshakeRequest));\r\n            this._logger.log(LogLevel.Information, `Using HubProtocol '${this._protocol.name}'.`);\r\n            // defensively cleanup timeout in case we receive a message from the server before we finish start\r\n            this._cleanupTimeout();\r\n            this._resetTimeoutPeriod();\r\n            this._resetKeepAliveInterval();\r\n            await handshakePromise;\r\n            // It's important to check the stopDuringStartError instead of just relying on the handshakePromise\r\n            // being rejected on close, because this continuation can run after both the handshake completed successfully\r\n            // and the connection was closed.\r\n            if (this._stopDuringStartError) {\r\n                // It's important to throw instead of returning a rejected promise, because we don't want to allow any state\r\n                // transitions to occur between now and the calling code observing the exceptions. Returning a rejected promise\r\n                // will cause the calling continuation to get scheduled to run later.\r\n                // eslint-disable-next-line @typescript-eslint/no-throw-literal\r\n                throw this._stopDuringStartError;\r\n            }\r\n            const useStatefulReconnect = this.connection.features.reconnect || false;\r\n            if (useStatefulReconnect) {\r\n                this._messageBuffer = new MessageBuffer(this._protocol, this.connection, this._statefulReconnectBufferSize);\r\n                this.connection.features.disconnected = this._messageBuffer._disconnected.bind(this._messageBuffer);\r\n                this.connection.features.resend = () => {\r\n                    if (this._messageBuffer) {\r\n                        return this._messageBuffer._resend();\r\n                    }\r\n                };\r\n            }\r\n            if (!this.connection.features.inherentKeepAlive) {\r\n                await this._sendMessage(this._cachedPingMessage);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Debug, `Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`);\r\n            this._cleanupTimeout();\r\n            this._cleanupPingTimer();\r\n            // HttpConnection.stop() should not complete until after the onclose callback is invoked.\r\n            // This will transition the HubConnection to the disconnected state before HttpConnection.stop() completes.\r\n            await this.connection.stop(e);\r\n            throw e;\r\n        }\r\n    }\r\n    /** Stops the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully terminated, or rejects with an error.\r\n     */\r\n    async stop() {\r\n        // Capture the start promise before the connection might be restarted in an onclose callback.\r\n        const startPromise = this._startPromise;\r\n        this.connection.features.reconnect = false;\r\n        this._stopPromise = this._stopInternal();\r\n        await this._stopPromise;\r\n        try {\r\n            // Awaiting undefined continues immediately\r\n            await startPromise;\r\n        }\r\n        catch (e) {\r\n            // This exception is returned to the user as a rejected Promise from the start method.\r\n        }\r\n    }\r\n    _stopInternal(error) {\r\n        if (this._connectionState === HubConnectionState.Disconnected) {\r\n            this._logger.log(LogLevel.Debug, `Call to HubConnection.stop(${error}) ignored because it is already in the disconnected state.`);\r\n            return Promise.resolve();\r\n        }\r\n        if (this._connectionState === HubConnectionState.Disconnecting) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnecting state.`);\r\n            return this._stopPromise;\r\n        }\r\n        const state = this._connectionState;\r\n        this._connectionState = HubConnectionState.Disconnecting;\r\n        this._logger.log(LogLevel.Debug, \"Stopping HubConnection.\");\r\n        if (this._reconnectDelayHandle) {\r\n            // We're in a reconnect delay which means the underlying connection is currently already stopped.\r\n            // Just clear the handle to stop the reconnect loop (which no one is waiting on thankfully) and\r\n            // fire the onclose callbacks.\r\n            this._logger.log(LogLevel.Debug, \"Connection stopped during reconnect delay. Done reconnecting.\");\r\n            clearTimeout(this._reconnectDelayHandle);\r\n            this._reconnectDelayHandle = undefined;\r\n            this._completeClose();\r\n            return Promise.resolve();\r\n        }\r\n        if (state === HubConnectionState.Connected) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._sendCloseMessage();\r\n        }\r\n        this._cleanupTimeout();\r\n        this._cleanupPingTimer();\r\n        this._stopDuringStartError = error || new AbortError(\"The connection was stopped before the hub handshake could complete.\");\r\n        // HttpConnection.stop() should not complete until after either HttpConnection.start() fails\r\n        // or the onclose callback is invoked. The onclose callback will transition the HubConnection\r\n        // to the disconnected state if need be before HttpConnection.stop() completes.\r\n        return this.connection.stop(error);\r\n    }\r\n    async _sendCloseMessage() {\r\n        try {\r\n            await this._sendWithProtocol(this._createCloseMessage());\r\n        }\r\n        catch {\r\n            // Ignore, this is a best effort attempt to let the server know the client closed gracefully.\r\n        }\r\n    }\r\n    /** Invokes a streaming hub method on the server using the specified name and arguments.\r\n     *\r\n     * @typeparam T The type of the items returned by the server.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {IStreamResult<T>} An object that yields results from the server as they are received.\r\n     */\r\n    stream(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const invocationDescriptor = this._createStreamInvocation(methodName, args, streamIds);\r\n        // eslint-disable-next-line prefer-const\r\n        let promiseQueue;\r\n        const subject = new Subject();\r\n        subject.cancelCallback = () => {\r\n            const cancelInvocation = this._createCancelInvocation(invocationDescriptor.invocationId);\r\n            delete this._callbacks[invocationDescriptor.invocationId];\r\n            return promiseQueue.then(() => {\r\n                return this._sendWithProtocol(cancelInvocation);\r\n            });\r\n        };\r\n        this._callbacks[invocationDescriptor.invocationId] = (invocationEvent, error) => {\r\n            if (error) {\r\n                subject.error(error);\r\n                return;\r\n            }\r\n            else if (invocationEvent) {\r\n                // invocationEvent will not be null when an error is not passed to the callback\r\n                if (invocationEvent.type === MessageType.Completion) {\r\n                    if (invocationEvent.error) {\r\n                        subject.error(new Error(invocationEvent.error));\r\n                    }\r\n                    else {\r\n                        subject.complete();\r\n                    }\r\n                }\r\n                else {\r\n                    subject.next((invocationEvent.item));\r\n                }\r\n            }\r\n        };\r\n        promiseQueue = this._sendWithProtocol(invocationDescriptor)\r\n            .catch((e) => {\r\n            subject.error(e);\r\n            delete this._callbacks[invocationDescriptor.invocationId];\r\n        });\r\n        this._launchStreams(streams, promiseQueue);\r\n        return subject;\r\n    }\r\n    _sendMessage(message) {\r\n        this._resetKeepAliveInterval();\r\n        return this.connection.send(message);\r\n    }\r\n    /**\r\n     * Sends a js object to the server.\r\n     * @param message The js object to serialize and send.\r\n     */\r\n    _sendWithProtocol(message) {\r\n        if (this._messageBuffer) {\r\n            return this._messageBuffer._send(message);\r\n        }\r\n        else {\r\n            return this._sendMessage(this._protocol.writeMessage(message));\r\n        }\r\n    }\r\n    /** Invokes a hub method on the server using the specified name and arguments. Does not wait for a response from the receiver.\r\n     *\r\n     * The Promise returned by this method resolves when the client has sent the invocation to the server. The server may still\r\n     * be processing the invocation.\r\n     *\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<void>} A Promise that resolves when the invocation has been successfully sent, or rejects with an error.\r\n     */\r\n    send(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const sendPromise = this._sendWithProtocol(this._createInvocation(methodName, args, true, streamIds));\r\n        this._launchStreams(streams, sendPromise);\r\n        return sendPromise;\r\n    }\r\n    /** Invokes a hub method on the server using the specified name and arguments.\r\n     *\r\n     * The Promise returned by this method resolves when the server indicates it has finished invoking the method. When the promise\r\n     * resolves, the server has finished invoking the method. If the server method returns a result, it is produced as the result of\r\n     * resolving the Promise.\r\n     *\r\n     * @typeparam T The expected return type.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<T>} A Promise that resolves with the result of the server method (if any), or rejects with an error.\r\n     */\r\n    invoke(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const invocationDescriptor = this._createInvocation(methodName, args, false, streamIds);\r\n        const p = new Promise((resolve, reject) => {\r\n            // invocationId will always have a value for a non-blocking invocation\r\n            this._callbacks[invocationDescriptor.invocationId] = (invocationEvent, error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                    return;\r\n                }\r\n                else if (invocationEvent) {\r\n                    // invocationEvent will not be null when an error is not passed to the callback\r\n                    if (invocationEvent.type === MessageType.Completion) {\r\n                        if (invocationEvent.error) {\r\n                            reject(new Error(invocationEvent.error));\r\n                        }\r\n                        else {\r\n                            resolve(invocationEvent.result);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(new Error(`Unexpected message type: ${invocationEvent.type}`));\r\n                    }\r\n                }\r\n            };\r\n            const promiseQueue = this._sendWithProtocol(invocationDescriptor)\r\n                .catch((e) => {\r\n                reject(e);\r\n                // invocationId will always have a value for a non-blocking invocation\r\n                delete this._callbacks[invocationDescriptor.invocationId];\r\n            });\r\n            this._launchStreams(streams, promiseQueue);\r\n        });\r\n        return p;\r\n    }\r\n    on(methodName, newMethod) {\r\n        if (!methodName || !newMethod) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        if (!this._methods[methodName]) {\r\n            this._methods[methodName] = [];\r\n        }\r\n        // Preventing adding the same handler multiple times.\r\n        if (this._methods[methodName].indexOf(newMethod) !== -1) {\r\n            return;\r\n        }\r\n        this._methods[methodName].push(newMethod);\r\n    }\r\n    off(methodName, method) {\r\n        if (!methodName) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        const handlers = this._methods[methodName];\r\n        if (!handlers) {\r\n            return;\r\n        }\r\n        if (method) {\r\n            const removeIdx = handlers.indexOf(method);\r\n            if (removeIdx !== -1) {\r\n                handlers.splice(removeIdx, 1);\r\n                if (handlers.length === 0) {\r\n                    delete this._methods[methodName];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            delete this._methods[methodName];\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection is closed.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection is closed. Optionally receives a single argument containing the error that caused the connection to close (if any).\r\n     */\r\n    onclose(callback) {\r\n        if (callback) {\r\n            this._closedCallbacks.push(callback);\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection starts reconnecting.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection starts reconnecting. Optionally receives a single argument containing the error that caused the connection to start reconnecting (if any).\r\n     */\r\n    onreconnecting(callback) {\r\n        if (callback) {\r\n            this._reconnectingCallbacks.push(callback);\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection successfully reconnects.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection successfully reconnects.\r\n     */\r\n    onreconnected(callback) {\r\n        if (callback) {\r\n            this._reconnectedCallbacks.push(callback);\r\n        }\r\n    }\r\n    _processIncomingData(data) {\r\n        this._cleanupTimeout();\r\n        if (!this._receivedHandshakeResponse) {\r\n            data = this._processHandshakeResponse(data);\r\n            this._receivedHandshakeResponse = true;\r\n        }\r\n        // Data may have all been read when processing handshake response\r\n        if (data) {\r\n            // Parse the messages\r\n            const messages = this._protocol.parseMessages(data, this._logger);\r\n            for (const message of messages) {\r\n                if (this._messageBuffer && !this._messageBuffer._shouldProcessMessage(message)) {\r\n                    // Don't process the message, we are either waiting for a SequenceMessage or received a duplicate message\r\n                    continue;\r\n                }\r\n                switch (message.type) {\r\n                    case MessageType.Invocation:\r\n                        this._invokeClientMethod(message)\r\n                            .catch((e) => {\r\n                            this._logger.log(LogLevel.Error, `Invoke client method threw error: ${getErrorString(e)}`);\r\n                        });\r\n                        break;\r\n                    case MessageType.StreamItem:\r\n                    case MessageType.Completion: {\r\n                        const callback = this._callbacks[message.invocationId];\r\n                        if (callback) {\r\n                            if (message.type === MessageType.Completion) {\r\n                                delete this._callbacks[message.invocationId];\r\n                            }\r\n                            try {\r\n                                callback(message);\r\n                            }\r\n                            catch (e) {\r\n                                this._logger.log(LogLevel.Error, `Stream callback threw error: ${getErrorString(e)}`);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case MessageType.Ping:\r\n                        // Don't care about pings\r\n                        break;\r\n                    case MessageType.Close: {\r\n                        this._logger.log(LogLevel.Information, \"Close message received from server.\");\r\n                        const error = message.error ? new Error(\"Server returned an error on close: \" + message.error) : undefined;\r\n                        if (message.allowReconnect === true) {\r\n                            // It feels wrong not to await connection.stop() here, but processIncomingData is called as part of an onreceive callback which is not async,\r\n                            // this is already the behavior for serverTimeout(), and HttpConnection.Stop() should catch and log all possible exceptions.\r\n                            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n                            this.connection.stop(error);\r\n                        }\r\n                        else {\r\n                            // We cannot await stopInternal() here, but subsequent calls to stop() will await this if stopInternal() is still ongoing.\r\n                            this._stopPromise = this._stopInternal(error);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case MessageType.Ack:\r\n                        if (this._messageBuffer) {\r\n                            this._messageBuffer._ack(message);\r\n                        }\r\n                        break;\r\n                    case MessageType.Sequence:\r\n                        if (this._messageBuffer) {\r\n                            this._messageBuffer._resetSequence(message);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        this._logger.log(LogLevel.Warning, `Invalid message type: ${message.type}.`);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        this._resetTimeoutPeriod();\r\n    }\r\n    _processHandshakeResponse(data) {\r\n        let responseMessage;\r\n        let remainingData;\r\n        try {\r\n            [remainingData, responseMessage] = this._handshakeProtocol.parseHandshakeResponse(data);\r\n        }\r\n        catch (e) {\r\n            const message = \"Error parsing handshake response: \" + e;\r\n            this._logger.log(LogLevel.Error, message);\r\n            const error = new Error(message);\r\n            this._handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        if (responseMessage.error) {\r\n            const message = \"Server returned handshake error: \" + responseMessage.error;\r\n            this._logger.log(LogLevel.Error, message);\r\n            const error = new Error(message);\r\n            this._handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Debug, \"Server handshake complete.\");\r\n        }\r\n        this._handshakeResolver();\r\n        return remainingData;\r\n    }\r\n    _resetKeepAliveInterval() {\r\n        if (this.connection.features.inherentKeepAlive) {\r\n            return;\r\n        }\r\n        // Set the time we want the next keep alive to be sent\r\n        // Timer will be setup on next message receive\r\n        this._nextKeepAlive = new Date().getTime() + this.keepAliveIntervalInMilliseconds;\r\n        this._cleanupPingTimer();\r\n    }\r\n    _resetTimeoutPeriod() {\r\n        if (!this.connection.features || !this.connection.features.inherentKeepAlive) {\r\n            // Set the timeout timer\r\n            this._timeoutHandle = setTimeout(() => this.serverTimeout(), this.serverTimeoutInMilliseconds);\r\n            // Set keepAlive timer if there isn't one\r\n            if (this._pingServerHandle === undefined) {\r\n                let nextPing = this._nextKeepAlive - new Date().getTime();\r\n                if (nextPing < 0) {\r\n                    nextPing = 0;\r\n                }\r\n                // The timer needs to be set from a networking callback to avoid Chrome timer throttling from causing timers to run once a minute\r\n                this._pingServerHandle = setTimeout(async () => {\r\n                    if (this._connectionState === HubConnectionState.Connected) {\r\n                        try {\r\n                            await this._sendMessage(this._cachedPingMessage);\r\n                        }\r\n                        catch {\r\n                            // We don't care about the error. It should be seen elsewhere in the client.\r\n                            // The connection is probably in a bad or closed state now, cleanup the timer so it stops triggering\r\n                            this._cleanupPingTimer();\r\n                        }\r\n                    }\r\n                }, nextPing);\r\n            }\r\n        }\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    serverTimeout() {\r\n        // The server hasn't talked to us in a while. It doesn't like us anymore ... :(\r\n        // Terminate the connection, but we don't need to wait on the promise. This could trigger reconnecting.\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.connection.stop(new Error(\"Server timeout elapsed without receiving a message from the server.\"));\r\n    }\r\n    async _invokeClientMethod(invocationMessage) {\r\n        const methodName = invocationMessage.target.toLowerCase();\r\n        const methods = this._methods[methodName];\r\n        if (!methods) {\r\n            this._logger.log(LogLevel.Warning, `No client method with the name '${methodName}' found.`);\r\n            // No handlers provided by client but the server is expecting a response still, so we send an error\r\n            if (invocationMessage.invocationId) {\r\n                this._logger.log(LogLevel.Warning, `No result given for '${methodName}' method and invocation ID '${invocationMessage.invocationId}'.`);\r\n                await this._sendWithProtocol(this._createCompletionMessage(invocationMessage.invocationId, \"Client didn't provide a result.\", null));\r\n            }\r\n            return;\r\n        }\r\n        // Avoid issues with handlers removing themselves thus modifying the list while iterating through it\r\n        const methodsCopy = methods.slice();\r\n        // Server expects a response\r\n        const expectsResponse = invocationMessage.invocationId ? true : false;\r\n        // We preserve the last result or exception but still call all handlers\r\n        let res;\r\n        let exception;\r\n        let completionMessage;\r\n        for (const m of methodsCopy) {\r\n            try {\r\n                const prevRes = res;\r\n                res = await m.apply(this, invocationMessage.arguments);\r\n                if (expectsResponse && res && prevRes) {\r\n                    this._logger.log(LogLevel.Error, `Multiple results provided for '${methodName}'. Sending error to server.`);\r\n                    completionMessage = this._createCompletionMessage(invocationMessage.invocationId, `Client provided multiple results.`, null);\r\n                }\r\n                // Ignore exception if we got a result after, the exception will be logged\r\n                exception = undefined;\r\n            }\r\n            catch (e) {\r\n                exception = e;\r\n                this._logger.log(LogLevel.Error, `A callback for the method '${methodName}' threw error '${e}'.`);\r\n            }\r\n        }\r\n        if (completionMessage) {\r\n            await this._sendWithProtocol(completionMessage);\r\n        }\r\n        else if (expectsResponse) {\r\n            // If there is an exception that means either no result was given or a handler after a result threw\r\n            if (exception) {\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, `${exception}`, null);\r\n            }\r\n            else if (res !== undefined) {\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, null, res);\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Warning, `No result given for '${methodName}' method and invocation ID '${invocationMessage.invocationId}'.`);\r\n                // Client didn't provide a result or throw from a handler, server expects a response so we send an error\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, \"Client didn't provide a result.\", null);\r\n            }\r\n            await this._sendWithProtocol(completionMessage);\r\n        }\r\n        else {\r\n            if (res) {\r\n                this._logger.log(LogLevel.Error, `Result given for '${methodName}' method but server is not expecting a result.`);\r\n            }\r\n        }\r\n    }\r\n    _connectionClosed(error) {\r\n        this._logger.log(LogLevel.Debug, `HubConnection.connectionClosed(${error}) called while in state ${this._connectionState}.`);\r\n        // Triggering this.handshakeRejecter is insufficient because it could already be resolved without the continuation having run yet.\r\n        this._stopDuringStartError = this._stopDuringStartError || error || new AbortError(\"The underlying connection was closed before the hub handshake could complete.\");\r\n        // If the handshake is in progress, start will be waiting for the handshake promise, so we complete it.\r\n        // If it has already completed, this should just noop.\r\n        if (this._handshakeResolver) {\r\n            this._handshakeResolver();\r\n        }\r\n        this._cancelCallbacksWithError(error || new Error(\"Invocation canceled due to the underlying connection being closed.\"));\r\n        this._cleanupTimeout();\r\n        this._cleanupPingTimer();\r\n        if (this._connectionState === HubConnectionState.Disconnecting) {\r\n            this._completeClose(error);\r\n        }\r\n        else if (this._connectionState === HubConnectionState.Connected && this._reconnectPolicy) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._reconnect(error);\r\n        }\r\n        else if (this._connectionState === HubConnectionState.Connected) {\r\n            this._completeClose(error);\r\n        }\r\n        // If none of the above if conditions were true were called the HubConnection must be in either:\r\n        // 1. The Connecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail it.\r\n        // 2. The Reconnecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail the current reconnect attempt\r\n        //    and potentially continue the reconnect() loop.\r\n        // 3. The Disconnected state in which case we're already done.\r\n    }\r\n    _completeClose(error) {\r\n        if (this._connectionStarted) {\r\n            this._connectionState = HubConnectionState.Disconnected;\r\n            this._connectionStarted = false;\r\n            if (this._messageBuffer) {\r\n                this._messageBuffer._dispose(error !== null && error !== void 0 ? error : new Error(\"Connection closed.\"));\r\n                this._messageBuffer = undefined;\r\n            }\r\n            if (Platform.isBrowser) {\r\n                window.document.removeEventListener(\"freeze\", this._freezeEventListener);\r\n            }\r\n            try {\r\n                this._closedCallbacks.forEach((c) => c.apply(this, [error]));\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `An onclose callback called with error '${error}' threw error '${e}'.`);\r\n            }\r\n        }\r\n    }\r\n    async _reconnect(error) {\r\n        const reconnectStartTime = Date.now();\r\n        let previousReconnectAttempts = 0;\r\n        let retryError = error !== undefined ? error : new Error(\"Attempting to reconnect due to a unknown error.\");\r\n        let nextRetryDelay = this._getNextRetryDelay(previousReconnectAttempts++, 0, retryError);\r\n        if (nextRetryDelay === null) {\r\n            this._logger.log(LogLevel.Debug, \"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt.\");\r\n            this._completeClose(error);\r\n            return;\r\n        }\r\n        this._connectionState = HubConnectionState.Reconnecting;\r\n        if (error) {\r\n            this._logger.log(LogLevel.Information, `Connection reconnecting because of error '${error}'.`);\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Information, \"Connection reconnecting.\");\r\n        }\r\n        if (this._reconnectingCallbacks.length !== 0) {\r\n            try {\r\n                this._reconnectingCallbacks.forEach((c) => c.apply(this, [error]));\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `An onreconnecting callback called with error '${error}' threw error '${e}'.`);\r\n            }\r\n            // Exit early if an onreconnecting callback called connection.stop().\r\n            if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                this._logger.log(LogLevel.Debug, \"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.\");\r\n                return;\r\n            }\r\n        }\r\n        while (nextRetryDelay !== null) {\r\n            this._logger.log(LogLevel.Information, `Reconnect attempt number ${previousReconnectAttempts} will start in ${nextRetryDelay} ms.`);\r\n            await new Promise((resolve) => {\r\n                this._reconnectDelayHandle = setTimeout(resolve, nextRetryDelay);\r\n            });\r\n            this._reconnectDelayHandle = undefined;\r\n            if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                this._logger.log(LogLevel.Debug, \"Connection left the reconnecting state during reconnect delay. Done reconnecting.\");\r\n                return;\r\n            }\r\n            try {\r\n                await this._startInternal();\r\n                this._connectionState = HubConnectionState.Connected;\r\n                this._logger.log(LogLevel.Information, \"HubConnection reconnected successfully.\");\r\n                if (this._reconnectedCallbacks.length !== 0) {\r\n                    try {\r\n                        this._reconnectedCallbacks.forEach((c) => c.apply(this, [this.connection.connectionId]));\r\n                    }\r\n                    catch (e) {\r\n                        this._logger.log(LogLevel.Error, `An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Information, `Reconnect attempt failed because of error '${e}'.`);\r\n                if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                    this._logger.log(LogLevel.Debug, `Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`);\r\n                    // The TypeScript compiler thinks that connectionState must be Connected here. The TypeScript compiler is wrong.\r\n                    if (this._connectionState === HubConnectionState.Disconnecting) {\r\n                        this._completeClose();\r\n                    }\r\n                    return;\r\n                }\r\n                retryError = e instanceof Error ? e : new Error(e.toString());\r\n                nextRetryDelay = this._getNextRetryDelay(previousReconnectAttempts++, Date.now() - reconnectStartTime, retryError);\r\n            }\r\n        }\r\n        this._logger.log(LogLevel.Information, `Reconnect retries have been exhausted after ${Date.now() - reconnectStartTime} ms and ${previousReconnectAttempts} failed attempts. Connection disconnecting.`);\r\n        this._completeClose();\r\n    }\r\n    _getNextRetryDelay(previousRetryCount, elapsedMilliseconds, retryReason) {\r\n        try {\r\n            return this._reconnectPolicy.nextRetryDelayInMilliseconds({\r\n                elapsedMilliseconds,\r\n                previousRetryCount,\r\n                retryReason,\r\n            });\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Error, `IRetryPolicy.nextRetryDelayInMilliseconds(${previousRetryCount}, ${elapsedMilliseconds}) threw error '${e}'.`);\r\n            return null;\r\n        }\r\n    }\r\n    _cancelCallbacksWithError(error) {\r\n        const callbacks = this._callbacks;\r\n        this._callbacks = {};\r\n        Object.keys(callbacks)\r\n            .forEach((key) => {\r\n            const callback = callbacks[key];\r\n            try {\r\n                callback(null, error);\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `Stream 'error' callback called with '${error}' threw error: ${getErrorString(e)}`);\r\n            }\r\n        });\r\n    }\r\n    _cleanupPingTimer() {\r\n        if (this._pingServerHandle) {\r\n            clearTimeout(this._pingServerHandle);\r\n            this._pingServerHandle = undefined;\r\n        }\r\n    }\r\n    _cleanupTimeout() {\r\n        if (this._timeoutHandle) {\r\n            clearTimeout(this._timeoutHandle);\r\n        }\r\n    }\r\n    _createInvocation(methodName, args, nonblocking, streamIds) {\r\n        if (nonblocking) {\r\n            if (streamIds.length !== 0) {\r\n                return {\r\n                    arguments: args,\r\n                    streamIds,\r\n                    target: methodName,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    arguments: args,\r\n                    target: methodName,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n        }\r\n        else {\r\n            const invocationId = this._invocationId;\r\n            this._invocationId++;\r\n            if (streamIds.length !== 0) {\r\n                return {\r\n                    arguments: args,\r\n                    invocationId: invocationId.toString(),\r\n                    streamIds,\r\n                    target: methodName,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    arguments: args,\r\n                    invocationId: invocationId.toString(),\r\n                    target: methodName,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n        }\r\n    }\r\n    _launchStreams(streams, promiseQueue) {\r\n        if (streams.length === 0) {\r\n            return;\r\n        }\r\n        // Synchronize stream data so they arrive in-order on the server\r\n        if (!promiseQueue) {\r\n            promiseQueue = Promise.resolve();\r\n        }\r\n        // We want to iterate over the keys, since the keys are the stream ids\r\n        // eslint-disable-next-line guard-for-in\r\n        for (const streamId in streams) {\r\n            streams[streamId].subscribe({\r\n                complete: () => {\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createCompletionMessage(streamId)));\r\n                },\r\n                error: (err) => {\r\n                    let message;\r\n                    if (err instanceof Error) {\r\n                        message = err.message;\r\n                    }\r\n                    else if (err && err.toString) {\r\n                        message = err.toString();\r\n                    }\r\n                    else {\r\n                        message = \"Unknown error\";\r\n                    }\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createCompletionMessage(streamId, message)));\r\n                },\r\n                next: (item) => {\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createStreamItemMessage(streamId, item)));\r\n                },\r\n            });\r\n        }\r\n    }\r\n    _replaceStreamingParams(args) {\r\n        const streams = [];\r\n        const streamIds = [];\r\n        for (let i = 0; i < args.length; i++) {\r\n            const argument = args[i];\r\n            if (this._isObservable(argument)) {\r\n                const streamId = this._invocationId;\r\n                this._invocationId++;\r\n                // Store the stream for later use\r\n                streams[streamId] = argument;\r\n                streamIds.push(streamId.toString());\r\n                // remove stream from args\r\n                args.splice(i, 1);\r\n            }\r\n        }\r\n        return [streams, streamIds];\r\n    }\r\n    _isObservable(arg) {\r\n        // This allows other stream implementations to just work (like rxjs)\r\n        return arg && arg.subscribe && typeof arg.subscribe === \"function\";\r\n    }\r\n    _createStreamInvocation(methodName, args, streamIds) {\r\n        const invocationId = this._invocationId;\r\n        this._invocationId++;\r\n        if (streamIds.length !== 0) {\r\n            return {\r\n                arguments: args,\r\n                invocationId: invocationId.toString(),\r\n                streamIds,\r\n                target: methodName,\r\n                type: MessageType.StreamInvocation,\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                arguments: args,\r\n                invocationId: invocationId.toString(),\r\n                target: methodName,\r\n                type: MessageType.StreamInvocation,\r\n            };\r\n        }\r\n    }\r\n    _createCancelInvocation(id) {\r\n        return {\r\n            invocationId: id,\r\n            type: MessageType.CancelInvocation,\r\n        };\r\n    }\r\n    _createStreamItemMessage(id, item) {\r\n        return {\r\n            invocationId: id,\r\n            item,\r\n            type: MessageType.StreamItem,\r\n        };\r\n    }\r\n    _createCompletionMessage(id, error, result) {\r\n        if (error) {\r\n            return {\r\n                error,\r\n                invocationId: id,\r\n                type: MessageType.Completion,\r\n            };\r\n        }\r\n        return {\r\n            invocationId: id,\r\n            result,\r\n            type: MessageType.Completion,\r\n        };\r\n    }\r\n    _createCloseMessage() {\r\n        return { type: MessageType.Close };\r\n    }\r\n}\r\n//# sourceMappingURL=HubConnection.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { DefaultReconnectPolicy } from \"./DefaultReconnectPolicy\";\r\nimport { HttpConnection } from \"./HttpConnection\";\r\nimport { HubConnection } from \"./HubConnection\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { JsonHubProtocol } from \"./JsonHubProtocol\";\r\nimport { NullLogger } from \"./Loggers\";\r\nimport { Arg, ConsoleLogger } from \"./Utils\";\r\nconst LogLevelNameMapping = {\r\n    trace: LogLevel.Trace,\r\n    debug: LogLevel.Debug,\r\n    info: LogLevel.Information,\r\n    information: LogLevel.Information,\r\n    warn: LogLevel.Warning,\r\n    warning: LogLevel.Warning,\r\n    error: LogLevel.Error,\r\n    critical: LogLevel.Critical,\r\n    none: LogLevel.None,\r\n};\r\nfunction parseLogLevel(name) {\r\n    // Case-insensitive matching via lower-casing\r\n    // Yes, I know case-folding is a complicated problem in Unicode, but we only support\r\n    // the ASCII strings defined in LogLevelNameMapping anyway, so it's fine -anurse.\r\n    const mapping = LogLevelNameMapping[name.toLowerCase()];\r\n    if (typeof mapping !== \"undefined\") {\r\n        return mapping;\r\n    }\r\n    else {\r\n        throw new Error(`Unknown log level: ${name}`);\r\n    }\r\n}\r\n/** A builder for configuring {@link @microsoft/signalr.HubConnection} instances. */\r\nexport class HubConnectionBuilder {\r\n    configureLogging(logging) {\r\n        Arg.isRequired(logging, \"logging\");\r\n        if (isLogger(logging)) {\r\n            this.logger = logging;\r\n        }\r\n        else if (typeof logging === \"string\") {\r\n            const logLevel = parseLogLevel(logging);\r\n            this.logger = new ConsoleLogger(logLevel);\r\n        }\r\n        else {\r\n            this.logger = new ConsoleLogger(logging);\r\n        }\r\n        return this;\r\n    }\r\n    withUrl(url, transportTypeOrOptions) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isNotEmpty(url, \"url\");\r\n        this.url = url;\r\n        // Flow-typing knows where it's at. Since HttpTransportType is a number and IHttpConnectionOptions is guaranteed\r\n        // to be an object, we know (as does TypeScript) this comparison is all we need to figure out which overload was called.\r\n        if (typeof transportTypeOrOptions === \"object\") {\r\n            this.httpConnectionOptions = { ...this.httpConnectionOptions, ...transportTypeOrOptions };\r\n        }\r\n        else {\r\n            this.httpConnectionOptions = {\r\n                ...this.httpConnectionOptions,\r\n                transport: transportTypeOrOptions,\r\n            };\r\n        }\r\n        return this;\r\n    }\r\n    /** Configures the {@link @microsoft/signalr.HubConnection} to use the specified Hub Protocol.\r\n     *\r\n     * @param {IHubProtocol} protocol The {@link @microsoft/signalr.IHubProtocol} implementation to use.\r\n     */\r\n    withHubProtocol(protocol) {\r\n        Arg.isRequired(protocol, \"protocol\");\r\n        this.protocol = protocol;\r\n        return this;\r\n    }\r\n    withAutomaticReconnect(retryDelaysOrReconnectPolicy) {\r\n        if (this.reconnectPolicy) {\r\n            throw new Error(\"A reconnectPolicy has already been set.\");\r\n        }\r\n        if (!retryDelaysOrReconnectPolicy) {\r\n            this.reconnectPolicy = new DefaultReconnectPolicy();\r\n        }\r\n        else if (Array.isArray(retryDelaysOrReconnectPolicy)) {\r\n            this.reconnectPolicy = new DefaultReconnectPolicy(retryDelaysOrReconnectPolicy);\r\n        }\r\n        else {\r\n            this.reconnectPolicy = retryDelaysOrReconnectPolicy;\r\n        }\r\n        return this;\r\n    }\r\n    /** Configures {@link @microsoft/signalr.HubConnection.serverTimeoutInMilliseconds} for the {@link @microsoft/signalr.HubConnection}.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withServerTimeout(milliseconds) {\r\n        Arg.isRequired(milliseconds, \"milliseconds\");\r\n        this._serverTimeoutInMilliseconds = milliseconds;\r\n        return this;\r\n    }\r\n    /** Configures {@link @microsoft/signalr.HubConnection.keepAliveIntervalInMilliseconds} for the {@link @microsoft/signalr.HubConnection}.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withKeepAliveInterval(milliseconds) {\r\n        Arg.isRequired(milliseconds, \"milliseconds\");\r\n        this._keepAliveIntervalInMilliseconds = milliseconds;\r\n        return this;\r\n    }\r\n    /** Enables and configures options for the Stateful Reconnect feature.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withStatefulReconnect(options) {\r\n        if (this.httpConnectionOptions === undefined) {\r\n            this.httpConnectionOptions = {};\r\n        }\r\n        this.httpConnectionOptions._useStatefulReconnect = true;\r\n        this._statefulReconnectBufferSize = options === null || options === void 0 ? void 0 : options.bufferSize;\r\n        return this;\r\n    }\r\n    /** Creates a {@link @microsoft/signalr.HubConnection} from the configuration options specified in this builder.\r\n     *\r\n     * @returns {HubConnection} The configured {@link @microsoft/signalr.HubConnection}.\r\n     */\r\n    build() {\r\n        // If httpConnectionOptions has a logger, use it. Otherwise, override it with the one\r\n        // provided to configureLogger\r\n        const httpConnectionOptions = this.httpConnectionOptions || {};\r\n        // If it's 'null', the user **explicitly** asked for null, don't mess with it.\r\n        if (httpConnectionOptions.logger === undefined) {\r\n            // If our logger is undefined or null, that's OK, the HttpConnection constructor will handle it.\r\n            httpConnectionOptions.logger = this.logger;\r\n        }\r\n        // Now create the connection\r\n        if (!this.url) {\r\n            throw new Error(\"The 'HubConnectionBuilder.withUrl' method must be called before building the connection.\");\r\n        }\r\n        const connection = new HttpConnection(this.url, httpConnectionOptions);\r\n        return HubConnection.create(connection, this.logger || NullLogger.instance, this.protocol || new JsonHubProtocol(), this.reconnectPolicy, this._serverTimeoutInMilliseconds, this._keepAliveIntervalInMilliseconds, this._statefulReconnectBufferSize);\r\n    }\r\n}\r\nfunction isLogger(logger) {\r\n    return logger.log !== undefined;\r\n}\r\n//# sourceMappingURL=HubConnectionBuilder.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Defines the type of a Hub Message. */\r\nexport var MessageType;\r\n(function (MessageType) {\r\n    /** Indicates the message is an Invocation message and implements the {@link @microsoft/signalr.InvocationMessage} interface. */\r\n    MessageType[MessageType[\"Invocation\"] = 1] = \"Invocation\";\r\n    /** Indicates the message is a StreamItem message and implements the {@link @microsoft/signalr.StreamItemMessage} interface. */\r\n    MessageType[MessageType[\"StreamItem\"] = 2] = \"StreamItem\";\r\n    /** Indicates the message is a Completion message and implements the {@link @microsoft/signalr.CompletionMessage} interface. */\r\n    MessageType[MessageType[\"Completion\"] = 3] = \"Completion\";\r\n    /** Indicates the message is a Stream Invocation message and implements the {@link @microsoft/signalr.StreamInvocationMessage} interface. */\r\n    MessageType[MessageType[\"StreamInvocation\"] = 4] = \"StreamInvocation\";\r\n    /** Indicates the message is a Cancel Invocation message and implements the {@link @microsoft/signalr.CancelInvocationMessage} interface. */\r\n    MessageType[MessageType[\"CancelInvocation\"] = 5] = \"CancelInvocation\";\r\n    /** Indicates the message is a Ping message and implements the {@link @microsoft/signalr.PingMessage} interface. */\r\n    MessageType[MessageType[\"Ping\"] = 6] = \"Ping\";\r\n    /** Indicates the message is a Close message and implements the {@link @microsoft/signalr.CloseMessage} interface. */\r\n    MessageType[MessageType[\"Close\"] = 7] = \"Close\";\r\n    MessageType[MessageType[\"Ack\"] = 8] = \"Ack\";\r\n    MessageType[MessageType[\"Sequence\"] = 9] = \"Sequence\";\r\n})(MessageType || (MessageType = {}));\r\n//# sourceMappingURL=IHubProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// These values are designed to match the ASP.NET Log Levels since that's the pattern we're emulating here.\r\n/** Indicates the severity of a log message.\r\n *\r\n * Log Levels are ordered in increasing severity. So `Debug` is more severe than `Trace`, etc.\r\n */\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    /** Log level for very low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\r\n    /** Log level for low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\r\n    /** Log level for informational diagnostic messages. */\r\n    LogLevel[LogLevel[\"Information\"] = 2] = \"Information\";\r\n    /** Log level for diagnostic messages that indicate a non-fatal problem. */\r\n    LogLevel[LogLevel[\"Warning\"] = 3] = \"Warning\";\r\n    /** Log level for diagnostic messages that indicate a failure in the current operation. */\r\n    LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\r\n    /** Log level for diagnostic messages that indicate a failure that will terminate the entire application. */\r\n    LogLevel[LogLevel[\"Critical\"] = 5] = \"Critical\";\r\n    /** The highest possible log level. Used when configuring logging to indicate that no log messages should be emitted. */\r\n    LogLevel[LogLevel[\"None\"] = 6] = \"None\";\r\n})(LogLevel || (LogLevel = {}));\r\n//# sourceMappingURL=ILogger.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// This will be treated as a bit flag in the future, so we keep it using power-of-two values.\r\n/** Specifies a specific HTTP transport type. */\r\nexport var HttpTransportType;\r\n(function (HttpTransportType) {\r\n    /** Specifies no transport preference. */\r\n    HttpTransportType[HttpTransportType[\"None\"] = 0] = \"None\";\r\n    /** Specifies the WebSockets transport. */\r\n    HttpTransportType[HttpTransportType[\"WebSockets\"] = 1] = \"WebSockets\";\r\n    /** Specifies the Server-Sent Events transport. */\r\n    HttpTransportType[HttpTransportType[\"ServerSentEvents\"] = 2] = \"ServerSentEvents\";\r\n    /** Specifies the Long Polling transport. */\r\n    HttpTransportType[HttpTransportType[\"LongPolling\"] = 4] = \"LongPolling\";\r\n})(HttpTransportType || (HttpTransportType = {}));\r\n/** Specifies the transfer format for a connection. */\r\nexport var TransferFormat;\r\n(function (TransferFormat) {\r\n    /** Specifies that only text data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Text\"] = 1] = \"Text\";\r\n    /** Specifies that binary data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Binary\"] = 2] = \"Binary\";\r\n})(TransferFormat || (TransferFormat = {}));\r\n//# sourceMappingURL=ITransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { NullLogger } from \"./Loggers\";\r\nimport { TextMessageFormat } from \"./TextMessageFormat\";\r\nconst JSON_HUB_PROTOCOL_NAME = \"json\";\r\n/** Implements the JSON Hub Protocol. */\r\nexport class JsonHubProtocol {\r\n    constructor() {\r\n        /** @inheritDoc */\r\n        this.name = JSON_HUB_PROTOCOL_NAME;\r\n        /** @inheritDoc */\r\n        this.version = 2;\r\n        /** @inheritDoc */\r\n        this.transferFormat = TransferFormat.Text;\r\n    }\r\n    /** Creates an array of {@link @microsoft/signalr.HubMessage} objects from the specified serialized representation.\r\n     *\r\n     * @param {string} input A string containing the serialized representation.\r\n     * @param {ILogger} logger A logger that will be used to log messages that occur during parsing.\r\n     */\r\n    parseMessages(input, logger) {\r\n        // The interface does allow \"ArrayBuffer\" to be passed in, but this implementation does not. So let's throw a useful error.\r\n        if (typeof input !== \"string\") {\r\n            throw new Error(\"Invalid input for JSON hub protocol. Expected a string.\");\r\n        }\r\n        if (!input) {\r\n            return [];\r\n        }\r\n        if (logger === null) {\r\n            logger = NullLogger.instance;\r\n        }\r\n        // Parse the messages\r\n        const messages = TextMessageFormat.parse(input);\r\n        const hubMessages = [];\r\n        for (const message of messages) {\r\n            const parsedMessage = JSON.parse(message);\r\n            if (typeof parsedMessage.type !== \"number\") {\r\n                throw new Error(\"Invalid payload.\");\r\n            }\r\n            switch (parsedMessage.type) {\r\n                case MessageType.Invocation:\r\n                    this._isInvocationMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.StreamItem:\r\n                    this._isStreamItemMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Completion:\r\n                    this._isCompletionMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Ping:\r\n                    // Single value, no need to validate\r\n                    break;\r\n                case MessageType.Close:\r\n                    // All optional values, no need to validate\r\n                    break;\r\n                case MessageType.Ack:\r\n                    this._isAckMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Sequence:\r\n                    this._isSequenceMessage(parsedMessage);\r\n                    break;\r\n                default:\r\n                    // Future protocol changes can add message types, old clients can ignore them\r\n                    logger.log(LogLevel.Information, \"Unknown message type '\" + parsedMessage.type + \"' ignored.\");\r\n                    continue;\r\n            }\r\n            hubMessages.push(parsedMessage);\r\n        }\r\n        return hubMessages;\r\n    }\r\n    /** Writes the specified {@link @microsoft/signalr.HubMessage} to a string and returns it.\r\n     *\r\n     * @param {HubMessage} message The message to write.\r\n     * @returns {string} A string containing the serialized representation of the message.\r\n     */\r\n    writeMessage(message) {\r\n        return TextMessageFormat.write(JSON.stringify(message));\r\n    }\r\n    _isInvocationMessage(message) {\r\n        this._assertNotEmptyString(message.target, \"Invalid payload for Invocation message.\");\r\n        if (message.invocationId !== undefined) {\r\n            this._assertNotEmptyString(message.invocationId, \"Invalid payload for Invocation message.\");\r\n        }\r\n    }\r\n    _isStreamItemMessage(message) {\r\n        this._assertNotEmptyString(message.invocationId, \"Invalid payload for StreamItem message.\");\r\n        if (message.item === undefined) {\r\n            throw new Error(\"Invalid payload for StreamItem message.\");\r\n        }\r\n    }\r\n    _isCompletionMessage(message) {\r\n        if (message.result && message.error) {\r\n            throw new Error(\"Invalid payload for Completion message.\");\r\n        }\r\n        if (!message.result && message.error) {\r\n            this._assertNotEmptyString(message.error, \"Invalid payload for Completion message.\");\r\n        }\r\n        this._assertNotEmptyString(message.invocationId, \"Invalid payload for Completion message.\");\r\n    }\r\n    _isAckMessage(message) {\r\n        if (typeof message.sequenceId !== 'number') {\r\n            throw new Error(\"Invalid SequenceId for Ack message.\");\r\n        }\r\n    }\r\n    _isSequenceMessage(message) {\r\n        if (typeof message.sequenceId !== 'number') {\r\n            throw new Error(\"Invalid SequenceId for Sequence message.\");\r\n        }\r\n    }\r\n    _assertNotEmptyString(value, errorMessage) {\r\n        if (typeof value !== \"string\" || value === \"\") {\r\n            throw new Error(errorMessage);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=JsonHubProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** A logger that does nothing when log messages are sent to it. */\r\nexport class NullLogger {\r\n    constructor() { }\r\n    /** @inheritDoc */\r\n    // eslint-disable-next-line\r\n    log(_logLevel, _message) {\r\n    }\r\n}\r\n/** The singleton instance of the {@link @microsoft/signalr.NullLogger}. */\r\nNullLogger.instance = new NullLogger();\r\n//# sourceMappingURL=Loggers.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortController } from \"./AbortController\";\r\nimport { HttpError, TimeoutError } from \"./Errors\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, sendMessage } from \"./Utils\";\r\n// Not exported from 'index', this type is internal.\r\n/** @private */\r\nexport class LongPollingTransport {\r\n    // This is an internal type, not exported from 'index' so this is really just internal.\r\n    get pollAborted() {\r\n        return this._pollAbort.aborted;\r\n    }\r\n    constructor(httpClient, logger, options) {\r\n        this._httpClient = httpClient;\r\n        this._logger = logger;\r\n        this._pollAbort = new AbortController();\r\n        this._options = options;\r\n        this._running = false;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._url = url;\r\n        this._logger.log(LogLevel.Trace, \"(LongPolling transport) Connecting.\");\r\n        // Allow binary format on Node and Browsers that support binary content (indicated by the presence of responseType property)\r\n        if (transferFormat === TransferFormat.Binary &&\r\n            (typeof XMLHttpRequest !== \"undefined\" && typeof new XMLHttpRequest().responseType !== \"string\")) {\r\n            throw new Error(\"Binary protocols over XmlHttpRequest not implementing advanced features are not supported.\");\r\n        }\r\n        const [name, value] = getUserAgentHeader();\r\n        const headers = { [name]: value, ...this._options.headers };\r\n        const pollOptions = {\r\n            abortSignal: this._pollAbort.signal,\r\n            headers,\r\n            timeout: 100000,\r\n            withCredentials: this._options.withCredentials,\r\n        };\r\n        if (transferFormat === TransferFormat.Binary) {\r\n            pollOptions.responseType = \"arraybuffer\";\r\n        }\r\n        // Make initial long polling request\r\n        // Server uses first long polling request to finish initializing connection and it returns without data\r\n        const pollUrl = `${url}&_=${Date.now()}`;\r\n        this._logger.log(LogLevel.Trace, `(LongPolling transport) polling: ${pollUrl}.`);\r\n        const response = await this._httpClient.get(pollUrl, pollOptions);\r\n        if (response.statusCode !== 200) {\r\n            this._logger.log(LogLevel.Error, `(LongPolling transport) Unexpected response code: ${response.statusCode}.`);\r\n            // Mark running as false so that the poll immediately ends and runs the close logic\r\n            this._closeError = new HttpError(response.statusText || \"\", response.statusCode);\r\n            this._running = false;\r\n        }\r\n        else {\r\n            this._running = true;\r\n        }\r\n        this._receiving = this._poll(this._url, pollOptions);\r\n    }\r\n    async _poll(url, pollOptions) {\r\n        try {\r\n            while (this._running) {\r\n                try {\r\n                    const pollUrl = `${url}&_=${Date.now()}`;\r\n                    this._logger.log(LogLevel.Trace, `(LongPolling transport) polling: ${pollUrl}.`);\r\n                    const response = await this._httpClient.get(pollUrl, pollOptions);\r\n                    if (response.statusCode === 204) {\r\n                        this._logger.log(LogLevel.Information, \"(LongPolling transport) Poll terminated by server.\");\r\n                        this._running = false;\r\n                    }\r\n                    else if (response.statusCode !== 200) {\r\n                        this._logger.log(LogLevel.Error, `(LongPolling transport) Unexpected response code: ${response.statusCode}.`);\r\n                        // Unexpected status code\r\n                        this._closeError = new HttpError(response.statusText || \"\", response.statusCode);\r\n                        this._running = false;\r\n                    }\r\n                    else {\r\n                        // Process the response\r\n                        if (response.content) {\r\n                            this._logger.log(LogLevel.Trace, `(LongPolling transport) data received. ${getDataDetail(response.content, this._options.logMessageContent)}.`);\r\n                            if (this.onreceive) {\r\n                                this.onreceive(response.content);\r\n                            }\r\n                        }\r\n                        else {\r\n                            // This is another way timeout manifest.\r\n                            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    if (!this._running) {\r\n                        // Log but disregard errors that occur after stopping\r\n                        this._logger.log(LogLevel.Trace, `(LongPolling transport) Poll errored after shutdown: ${e.message}`);\r\n                    }\r\n                    else {\r\n                        if (e instanceof TimeoutError) {\r\n                            // Ignore timeouts and reissue the poll.\r\n                            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                        }\r\n                        else {\r\n                            // Close the connection with the error as the result.\r\n                            this._closeError = e;\r\n                            this._running = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Polling complete.\");\r\n            // We will reach here with pollAborted==false when the server returned a response causing the transport to stop.\r\n            // If pollAborted==true then client initiated the stop and the stop method will raise the close event after DELETE is sent.\r\n            if (!this.pollAborted) {\r\n                this._raiseOnClose();\r\n            }\r\n        }\r\n    }\r\n    async send(data) {\r\n        if (!this._running) {\r\n            return Promise.reject(new Error(\"Cannot send until the transport is connected\"));\r\n        }\r\n        return sendMessage(this._logger, \"LongPolling\", this._httpClient, this._url, data, this._options);\r\n    }\r\n    async stop() {\r\n        this._logger.log(LogLevel.Trace, \"(LongPolling transport) Stopping polling.\");\r\n        // Tell receiving loop to stop, abort any current request, and then wait for it to finish\r\n        this._running = false;\r\n        this._pollAbort.abort();\r\n        try {\r\n            await this._receiving;\r\n            // Send DELETE to clean up long polling on the server\r\n            this._logger.log(LogLevel.Trace, `(LongPolling transport) sending DELETE request to ${this._url}.`);\r\n            const headers = {};\r\n            const [name, value] = getUserAgentHeader();\r\n            headers[name] = value;\r\n            const deleteOptions = {\r\n                headers: { ...headers, ...this._options.headers },\r\n                timeout: this._options.timeout,\r\n                withCredentials: this._options.withCredentials,\r\n            };\r\n            let error;\r\n            try {\r\n                await this._httpClient.delete(this._url, deleteOptions);\r\n            }\r\n            catch (err) {\r\n                error = err;\r\n            }\r\n            if (error) {\r\n                if (error instanceof HttpError) {\r\n                    if (error.statusCode === 404) {\r\n                        this._logger.log(LogLevel.Trace, \"(LongPolling transport) A 404 response was returned from sending a DELETE request.\");\r\n                    }\r\n                    else {\r\n                        this._logger.log(LogLevel.Trace, `(LongPolling transport) Error sending a DELETE request: ${error}`);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Trace, \"(LongPolling transport) DELETE request accepted.\");\r\n            }\r\n        }\r\n        finally {\r\n            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Stop finished.\");\r\n            // Raise close event here instead of in polling\r\n            // It needs to happen after the DELETE request is sent\r\n            this._raiseOnClose();\r\n        }\r\n    }\r\n    _raiseOnClose() {\r\n        if (this.onclose) {\r\n            let logMessage = \"(LongPolling transport) Firing onclose event.\";\r\n            if (this._closeError) {\r\n                logMessage += \" Error: \" + this._closeError;\r\n            }\r\n            this._logger.log(LogLevel.Trace, logMessage);\r\n            this.onclose(this._closeError);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=LongPollingTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\n/** @private */\r\nexport class MessageBuffer {\r\n    constructor(protocol, connection, bufferSize) {\r\n        this._bufferSize = 100000;\r\n        this._messages = [];\r\n        this._totalMessageCount = 0;\r\n        this._waitForSequenceMessage = false;\r\n        // Message IDs start at 1 and always increment by 1\r\n        this._nextReceivingSequenceId = 1;\r\n        this._latestReceivedSequenceId = 0;\r\n        this._bufferedByteCount = 0;\r\n        this._reconnectInProgress = false;\r\n        this._protocol = protocol;\r\n        this._connection = connection;\r\n        this._bufferSize = bufferSize;\r\n    }\r\n    async _send(message) {\r\n        const serializedMessage = this._protocol.writeMessage(message);\r\n        let backpressurePromise = Promise.resolve();\r\n        // Only count invocation messages. Acks, pings, etc. don't need to be resent on reconnect\r\n        if (this._isInvocationMessage(message)) {\r\n            this._totalMessageCount++;\r\n            let backpressurePromiseResolver = () => { };\r\n            let backpressurePromiseRejector = () => { };\r\n            if (isArrayBuffer(serializedMessage)) {\r\n                this._bufferedByteCount += serializedMessage.byteLength;\r\n            }\r\n            else {\r\n                this._bufferedByteCount += serializedMessage.length;\r\n            }\r\n            if (this._bufferedByteCount >= this._bufferSize) {\r\n                backpressurePromise = new Promise((resolve, reject) => {\r\n                    backpressurePromiseResolver = resolve;\r\n                    backpressurePromiseRejector = reject;\r\n                });\r\n            }\r\n            this._messages.push(new BufferedItem(serializedMessage, this._totalMessageCount, backpressurePromiseResolver, backpressurePromiseRejector));\r\n        }\r\n        try {\r\n            // If this is set it means we are reconnecting or resending\r\n            // We don't want to send on a disconnected connection\r\n            // And we don't want to send if resend is running since that would mean sending\r\n            // this message twice\r\n            if (!this._reconnectInProgress) {\r\n                await this._connection.send(serializedMessage);\r\n            }\r\n        }\r\n        catch {\r\n            this._disconnected();\r\n        }\r\n        await backpressurePromise;\r\n    }\r\n    _ack(ackMessage) {\r\n        let newestAckedMessage = -1;\r\n        // Find index of newest message being acked\r\n        for (let index = 0; index < this._messages.length; index++) {\r\n            const element = this._messages[index];\r\n            if (element._id <= ackMessage.sequenceId) {\r\n                newestAckedMessage = index;\r\n                if (isArrayBuffer(element._message)) {\r\n                    this._bufferedByteCount -= element._message.byteLength;\r\n                }\r\n                else {\r\n                    this._bufferedByteCount -= element._message.length;\r\n                }\r\n                // resolve items that have already been sent and acked\r\n                element._resolver();\r\n            }\r\n            else if (this._bufferedByteCount < this._bufferSize) {\r\n                // resolve items that now fall under the buffer limit but haven't been acked\r\n                element._resolver();\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        if (newestAckedMessage !== -1) {\r\n            // We're removing everything including the message pointed to, so add 1\r\n            this._messages = this._messages.slice(newestAckedMessage + 1);\r\n        }\r\n    }\r\n    _shouldProcessMessage(message) {\r\n        if (this._waitForSequenceMessage) {\r\n            if (message.type !== MessageType.Sequence) {\r\n                return false;\r\n            }\r\n            else {\r\n                this._waitForSequenceMessage = false;\r\n                return true;\r\n            }\r\n        }\r\n        // No special processing for acks, pings, etc.\r\n        if (!this._isInvocationMessage(message)) {\r\n            return true;\r\n        }\r\n        const currentId = this._nextReceivingSequenceId;\r\n        this._nextReceivingSequenceId++;\r\n        if (currentId <= this._latestReceivedSequenceId) {\r\n            if (currentId === this._latestReceivedSequenceId) {\r\n                // Should only hit this if we just reconnected and the server is sending\r\n                // Messages it has buffered, which would mean it hasn't seen an Ack for these messages\r\n                this._ackTimer();\r\n            }\r\n            // Ignore, this is a duplicate message\r\n            return false;\r\n        }\r\n        this._latestReceivedSequenceId = currentId;\r\n        // Only start the timer for sending an Ack message when we have a message to ack. This also conveniently solves\r\n        // timer throttling by not having a recursive timer, and by starting the timer via a network call (recv)\r\n        this._ackTimer();\r\n        return true;\r\n    }\r\n    _resetSequence(message) {\r\n        if (message.sequenceId > this._nextReceivingSequenceId) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._connection.stop(new Error(\"Sequence ID greater than amount of messages we've received.\"));\r\n            return;\r\n        }\r\n        this._nextReceivingSequenceId = message.sequenceId;\r\n    }\r\n    _disconnected() {\r\n        this._reconnectInProgress = true;\r\n        this._waitForSequenceMessage = true;\r\n    }\r\n    async _resend() {\r\n        const sequenceId = this._messages.length !== 0\r\n            ? this._messages[0]._id\r\n            : this._totalMessageCount + 1;\r\n        await this._connection.send(this._protocol.writeMessage({ type: MessageType.Sequence, sequenceId }));\r\n        // Get a local variable to the _messages, just in case messages are acked while resending\r\n        // Which would slice the _messages array (which creates a new copy)\r\n        const messages = this._messages;\r\n        for (const element of messages) {\r\n            await this._connection.send(element._message);\r\n        }\r\n        this._reconnectInProgress = false;\r\n    }\r\n    _dispose(error) {\r\n        error !== null && error !== void 0 ? error : (error = new Error(\"Unable to reconnect to server.\"));\r\n        // Unblock backpressure if any\r\n        for (const element of this._messages) {\r\n            element._rejector(error);\r\n        }\r\n    }\r\n    _isInvocationMessage(message) {\r\n        // There is no way to check if something implements an interface.\r\n        // So we individually check the messages in a switch statement.\r\n        // To make sure we don't miss any message types we rely on the compiler\r\n        // seeing the function returns a value and it will do the\r\n        // exhaustive check for us on the switch statement, since we don't use 'case default'\r\n        switch (message.type) {\r\n            case MessageType.Invocation:\r\n            case MessageType.StreamItem:\r\n            case MessageType.Completion:\r\n            case MessageType.StreamInvocation:\r\n            case MessageType.CancelInvocation:\r\n                return true;\r\n            case MessageType.Close:\r\n            case MessageType.Sequence:\r\n            case MessageType.Ping:\r\n            case MessageType.Ack:\r\n                return false;\r\n        }\r\n    }\r\n    _ackTimer() {\r\n        if (this._ackTimerHandle === undefined) {\r\n            this._ackTimerHandle = setTimeout(async () => {\r\n                try {\r\n                    if (!this._reconnectInProgress) {\r\n                        await this._connection.send(this._protocol.writeMessage({ type: MessageType.Ack, sequenceId: this._latestReceivedSequenceId }));\r\n                    }\r\n                    // Ignore errors, that means the connection is closed and we don't care about the Ack message anymore.\r\n                }\r\n                catch { }\r\n                clearTimeout(this._ackTimerHandle);\r\n                this._ackTimerHandle = undefined;\r\n                // 1 second delay so we don't spam Ack messages if there are many messages being received at once.\r\n            }, 1000);\r\n        }\r\n    }\r\n}\r\nclass BufferedItem {\r\n    constructor(message, id, resolver, rejector) {\r\n        this._message = message;\r\n        this._id = id;\r\n        this._resolver = resolver;\r\n        this._rejector = rejector;\r\n    }\r\n}\r\n//# sourceMappingURL=MessageBuffer.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, Platform, sendMessage } from \"./Utils\";\r\n/** @private */\r\nexport class ServerSentEventsTransport {\r\n    constructor(httpClient, accessToken, logger, options) {\r\n        this._httpClient = httpClient;\r\n        this._accessToken = accessToken;\r\n        this._logger = logger;\r\n        this._options = options;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Trace, \"(SSE transport) Connecting.\");\r\n        // set url before accessTokenFactory because this._url is only for send and we set the auth header instead of the query string for send\r\n        this._url = url;\r\n        if (this._accessToken) {\r\n            url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + `access_token=${encodeURIComponent(this._accessToken)}`;\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            let opened = false;\r\n            if (transferFormat !== TransferFormat.Text) {\r\n                reject(new Error(\"The Server-Sent Events transport only supports the 'Text' transfer format\"));\r\n                return;\r\n            }\r\n            let eventSource;\r\n            if (Platform.isBrowser || Platform.isWebWorker) {\r\n                eventSource = new this._options.EventSource(url, { withCredentials: this._options.withCredentials });\r\n            }\r\n            else {\r\n                // Non-browser passes cookies via the dictionary\r\n                const cookies = this._httpClient.getCookieString(url);\r\n                const headers = {};\r\n                headers.Cookie = cookies;\r\n                const [name, value] = getUserAgentHeader();\r\n                headers[name] = value;\r\n                eventSource = new this._options.EventSource(url, { withCredentials: this._options.withCredentials, headers: { ...headers, ...this._options.headers } });\r\n            }\r\n            try {\r\n                eventSource.onmessage = (e) => {\r\n                    if (this.onreceive) {\r\n                        try {\r\n                            this._logger.log(LogLevel.Trace, `(SSE transport) data received. ${getDataDetail(e.data, this._options.logMessageContent)}.`);\r\n                            this.onreceive(e.data);\r\n                        }\r\n                        catch (error) {\r\n                            this._close(error);\r\n                            return;\r\n                        }\r\n                    }\r\n                };\r\n                // @ts-ignore: not using event on purpose\r\n                eventSource.onerror = (e) => {\r\n                    // EventSource doesn't give any useful information about server side closes.\r\n                    if (opened) {\r\n                        this._close();\r\n                    }\r\n                    else {\r\n                        reject(new Error(\"EventSource failed to connect. The connection could not be found on the server,\"\r\n                            + \" either the connection ID is not present on the server, or a proxy is refusing/buffering the connection.\"\r\n                            + \" If you have multiple servers check that sticky sessions are enabled.\"));\r\n                    }\r\n                };\r\n                eventSource.onopen = () => {\r\n                    this._logger.log(LogLevel.Information, `SSE connected to ${this._url}`);\r\n                    this._eventSource = eventSource;\r\n                    opened = true;\r\n                    resolve();\r\n                };\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n                return;\r\n            }\r\n        });\r\n    }\r\n    async send(data) {\r\n        if (!this._eventSource) {\r\n            return Promise.reject(new Error(\"Cannot send until the transport is connected\"));\r\n        }\r\n        return sendMessage(this._logger, \"SSE\", this._httpClient, this._url, data, this._options);\r\n    }\r\n    stop() {\r\n        this._close();\r\n        return Promise.resolve();\r\n    }\r\n    _close(e) {\r\n        if (this._eventSource) {\r\n            this._eventSource.close();\r\n            this._eventSource = undefined;\r\n            if (this.onclose) {\r\n                this.onclose(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=ServerSentEventsTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { SubjectSubscription } from \"./Utils\";\r\n/** Stream implementation to stream items to the server. */\r\nexport class Subject {\r\n    constructor() {\r\n        this.observers = [];\r\n    }\r\n    next(item) {\r\n        for (const observer of this.observers) {\r\n            observer.next(item);\r\n        }\r\n    }\r\n    error(err) {\r\n        for (const observer of this.observers) {\r\n            if (observer.error) {\r\n                observer.error(err);\r\n            }\r\n        }\r\n    }\r\n    complete() {\r\n        for (const observer of this.observers) {\r\n            if (observer.complete) {\r\n                observer.complete();\r\n            }\r\n        }\r\n    }\r\n    subscribe(observer) {\r\n        this.observers.push(observer);\r\n        return new SubjectSubscription(this, observer);\r\n    }\r\n}\r\n//# sourceMappingURL=Subject.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// Not exported from index\r\n/** @private */\r\nexport class TextMessageFormat {\r\n    static write(output) {\r\n        return `${output}${TextMessageFormat.RecordSeparator}`;\r\n    }\r\n    static parse(input) {\r\n        if (input[input.length - 1] !== TextMessageFormat.RecordSeparator) {\r\n            throw new Error(\"Message is incomplete.\");\r\n        }\r\n        const messages = input.split(TextMessageFormat.RecordSeparator);\r\n        messages.pop();\r\n        return messages;\r\n    }\r\n}\r\nTextMessageFormat.RecordSeparatorCode = 0x1e;\r\nTextMessageFormat.RecordSeparator = String.fromCharCode(TextMessageFormat.RecordSeparatorCode);\r\n//# sourceMappingURL=TextMessageFormat.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { NullLogger } from \"./Loggers\";\r\n// Version token that will be replaced by the prepack command\r\n/** The version of the SignalR client. */\r\nexport const VERSION = \"8.0.7\";\r\n/** @private */\r\nexport class Arg {\r\n    static isRequired(val, name) {\r\n        if (val === null || val === undefined) {\r\n            throw new Error(`The '${name}' argument is required.`);\r\n        }\r\n    }\r\n    static isNotEmpty(val, name) {\r\n        if (!val || val.match(/^\\s*$/)) {\r\n            throw new Error(`The '${name}' argument should not be empty.`);\r\n        }\r\n    }\r\n    static isIn(val, values, name) {\r\n        // TypeScript enums have keys for **both** the name and the value of each enum member on the type itself.\r\n        if (!(val in values)) {\r\n            throw new Error(`Unknown ${name} value: ${val}.`);\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport class Platform {\r\n    // react-native has a window but no document so we should check both\r\n    static get isBrowser() {\r\n        return !Platform.isNode && typeof window === \"object\" && typeof window.document === \"object\";\r\n    }\r\n    // WebWorkers don't have a window object so the isBrowser check would fail\r\n    static get isWebWorker() {\r\n        return !Platform.isNode && typeof self === \"object\" && \"importScripts\" in self;\r\n    }\r\n    // react-native has a window but no document\r\n    static get isReactNative() {\r\n        return !Platform.isNode && typeof window === \"object\" && typeof window.document === \"undefined\";\r\n    }\r\n    // Node apps shouldn't have a window object, but WebWorkers don't either\r\n    // so we need to check for both WebWorker and window\r\n    static get isNode() {\r\n        return typeof process !== \"undefined\" && process.release && process.release.name === \"node\";\r\n    }\r\n}\r\n/** @private */\r\nexport function getDataDetail(data, includeContent) {\r\n    let detail = \"\";\r\n    if (isArrayBuffer(data)) {\r\n        detail = `Binary data of length ${data.byteLength}`;\r\n        if (includeContent) {\r\n            detail += `. Content: '${formatArrayBuffer(data)}'`;\r\n        }\r\n    }\r\n    else if (typeof data === \"string\") {\r\n        detail = `String data of length ${data.length}`;\r\n        if (includeContent) {\r\n            detail += `. Content: '${data}'`;\r\n        }\r\n    }\r\n    return detail;\r\n}\r\n/** @private */\r\nexport function formatArrayBuffer(data) {\r\n    const view = new Uint8Array(data);\r\n    // Uint8Array.map only supports returning another Uint8Array?\r\n    let str = \"\";\r\n    view.forEach((num) => {\r\n        const pad = num < 16 ? \"0\" : \"\";\r\n        str += `0x${pad}${num.toString(16)} `;\r\n    });\r\n    // Trim of trailing space.\r\n    return str.substr(0, str.length - 1);\r\n}\r\n// Also in signalr-protocol-msgpack/Utils.ts\r\n/** @private */\r\nexport function isArrayBuffer(val) {\r\n    return val && typeof ArrayBuffer !== \"undefined\" &&\r\n        (val instanceof ArrayBuffer ||\r\n            // Sometimes we get an ArrayBuffer that doesn't satisfy instanceof\r\n            (val.constructor && val.constructor.name === \"ArrayBuffer\"));\r\n}\r\n/** @private */\r\nexport async function sendMessage(logger, transportName, httpClient, url, content, options) {\r\n    const headers = {};\r\n    const [name, value] = getUserAgentHeader();\r\n    headers[name] = value;\r\n    logger.log(LogLevel.Trace, `(${transportName} transport) sending data. ${getDataDetail(content, options.logMessageContent)}.`);\r\n    const responseType = isArrayBuffer(content) ? \"arraybuffer\" : \"text\";\r\n    const response = await httpClient.post(url, {\r\n        content,\r\n        headers: { ...headers, ...options.headers },\r\n        responseType,\r\n        timeout: options.timeout,\r\n        withCredentials: options.withCredentials,\r\n    });\r\n    logger.log(LogLevel.Trace, `(${transportName} transport) request complete. Response status: ${response.statusCode}.`);\r\n}\r\n/** @private */\r\nexport function createLogger(logger) {\r\n    if (logger === undefined) {\r\n        return new ConsoleLogger(LogLevel.Information);\r\n    }\r\n    if (logger === null) {\r\n        return NullLogger.instance;\r\n    }\r\n    if (logger.log !== undefined) {\r\n        return logger;\r\n    }\r\n    return new ConsoleLogger(logger);\r\n}\r\n/** @private */\r\nexport class SubjectSubscription {\r\n    constructor(subject, observer) {\r\n        this._subject = subject;\r\n        this._observer = observer;\r\n    }\r\n    dispose() {\r\n        const index = this._subject.observers.indexOf(this._observer);\r\n        if (index > -1) {\r\n            this._subject.observers.splice(index, 1);\r\n        }\r\n        if (this._subject.observers.length === 0 && this._subject.cancelCallback) {\r\n            this._subject.cancelCallback().catch((_) => { });\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport class ConsoleLogger {\r\n    constructor(minimumLogLevel) {\r\n        this._minLevel = minimumLogLevel;\r\n        this.out = console;\r\n    }\r\n    log(logLevel, message) {\r\n        if (logLevel >= this._minLevel) {\r\n            const msg = `[${new Date().toISOString()}] ${LogLevel[logLevel]}: ${message}`;\r\n            switch (logLevel) {\r\n                case LogLevel.Critical:\r\n                case LogLevel.Error:\r\n                    this.out.error(msg);\r\n                    break;\r\n                case LogLevel.Warning:\r\n                    this.out.warn(msg);\r\n                    break;\r\n                case LogLevel.Information:\r\n                    this.out.info(msg);\r\n                    break;\r\n                default:\r\n                    // console.debug only goes to attached debuggers in Node, so we use console.log for Trace and Debug\r\n                    this.out.log(msg);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport function getUserAgentHeader() {\r\n    let userAgentHeaderName = \"X-SignalR-User-Agent\";\r\n    if (Platform.isNode) {\r\n        userAgentHeaderName = \"User-Agent\";\r\n    }\r\n    return [userAgentHeaderName, constructUserAgent(VERSION, getOsName(), getRuntime(), getRuntimeVersion())];\r\n}\r\n/** @private */\r\nexport function constructUserAgent(version, os, runtime, runtimeVersion) {\r\n    // Microsoft SignalR/[Version] ([Detailed Version]; [Operating System]; [Runtime]; [Runtime Version])\r\n    let userAgent = \"Microsoft SignalR/\";\r\n    const majorAndMinor = version.split(\".\");\r\n    userAgent += `${majorAndMinor[0]}.${majorAndMinor[1]}`;\r\n    userAgent += ` (${version}; `;\r\n    if (os && os !== \"\") {\r\n        userAgent += `${os}; `;\r\n    }\r\n    else {\r\n        userAgent += \"Unknown OS; \";\r\n    }\r\n    userAgent += `${runtime}`;\r\n    if (runtimeVersion) {\r\n        userAgent += `; ${runtimeVersion}`;\r\n    }\r\n    else {\r\n        userAgent += \"; Unknown Runtime Version\";\r\n    }\r\n    userAgent += \")\";\r\n    return userAgent;\r\n}\r\n// eslint-disable-next-line spaced-comment\r\n/*#__PURE__*/ function getOsName() {\r\n    if (Platform.isNode) {\r\n        switch (process.platform) {\r\n            case \"win32\":\r\n                return \"Windows NT\";\r\n            case \"darwin\":\r\n                return \"macOS\";\r\n            case \"linux\":\r\n                return \"Linux\";\r\n            default:\r\n                return process.platform;\r\n        }\r\n    }\r\n    else {\r\n        return \"\";\r\n    }\r\n}\r\n// eslint-disable-next-line spaced-comment\r\n/*#__PURE__*/ function getRuntimeVersion() {\r\n    if (Platform.isNode) {\r\n        return process.versions.node;\r\n    }\r\n    return undefined;\r\n}\r\nfunction getRuntime() {\r\n    if (Platform.isNode) {\r\n        return \"NodeJS\";\r\n    }\r\n    else {\r\n        return \"Browser\";\r\n    }\r\n}\r\n/** @private */\r\nexport function getErrorString(e) {\r\n    if (e.stack) {\r\n        return e.stack;\r\n    }\r\n    else if (e.message) {\r\n        return e.message;\r\n    }\r\n    return `${e}`;\r\n}\r\n/** @private */\r\nexport function getGlobalThis() {\r\n    // globalThis is semi-new and not available in Node until v12\r\n    if (typeof globalThis !== \"undefined\") {\r\n        return globalThis;\r\n    }\r\n    if (typeof self !== \"undefined\") {\r\n        return self;\r\n    }\r\n    if (typeof window !== \"undefined\") {\r\n        return window;\r\n    }\r\n    if (typeof global !== \"undefined\") {\r\n        return global;\r\n    }\r\n    throw new Error(\"could not find global\");\r\n}\r\n//# sourceMappingURL=Utils.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HeaderNames } from \"./HeaderNames\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, Platform } from \"./Utils\";\r\n/** @private */\r\nexport class WebSocketTransport {\r\n    constructor(httpClient, accessTokenFactory, logger, logMessageContent, webSocketConstructor, headers) {\r\n        this._logger = logger;\r\n        this._accessTokenFactory = accessTokenFactory;\r\n        this._logMessageContent = logMessageContent;\r\n        this._webSocketConstructor = webSocketConstructor;\r\n        this._httpClient = httpClient;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n        this._headers = headers;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Trace, \"(WebSockets transport) Connecting.\");\r\n        let token;\r\n        if (this._accessTokenFactory) {\r\n            token = await this._accessTokenFactory();\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            url = url.replace(/^http/, \"ws\");\r\n            let webSocket;\r\n            const cookies = this._httpClient.getCookieString(url);\r\n            let opened = false;\r\n            if (Platform.isNode || Platform.isReactNative) {\r\n                const headers = {};\r\n                const [name, value] = getUserAgentHeader();\r\n                headers[name] = value;\r\n                if (token) {\r\n                    headers[HeaderNames.Authorization] = `Bearer ${token}`;\r\n                }\r\n                if (cookies) {\r\n                    headers[HeaderNames.Cookie] = cookies;\r\n                }\r\n                // Only pass headers when in non-browser environments\r\n                webSocket = new this._webSocketConstructor(url, undefined, {\r\n                    headers: { ...headers, ...this._headers },\r\n                });\r\n            }\r\n            else {\r\n                if (token) {\r\n                    url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + `access_token=${encodeURIComponent(token)}`;\r\n                }\r\n            }\r\n            if (!webSocket) {\r\n                // Chrome is not happy with passing 'undefined' as protocol\r\n                webSocket = new this._webSocketConstructor(url);\r\n            }\r\n            if (transferFormat === TransferFormat.Binary) {\r\n                webSocket.binaryType = \"arraybuffer\";\r\n            }\r\n            webSocket.onopen = (_event) => {\r\n                this._logger.log(LogLevel.Information, `WebSocket connected to ${url}.`);\r\n                this._webSocket = webSocket;\r\n                opened = true;\r\n                resolve();\r\n            };\r\n            webSocket.onerror = (event) => {\r\n                let error = null;\r\n                // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                    error = event.error;\r\n                }\r\n                else {\r\n                    error = \"There was an error with the transport\";\r\n                }\r\n                this._logger.log(LogLevel.Information, `(WebSockets transport) ${error}.`);\r\n            };\r\n            webSocket.onmessage = (message) => {\r\n                this._logger.log(LogLevel.Trace, `(WebSockets transport) data received. ${getDataDetail(message.data, this._logMessageContent)}.`);\r\n                if (this.onreceive) {\r\n                    try {\r\n                        this.onreceive(message.data);\r\n                    }\r\n                    catch (error) {\r\n                        this._close(error);\r\n                        return;\r\n                    }\r\n                }\r\n            };\r\n            webSocket.onclose = (event) => {\r\n                // Don't call close handler if connection was never established\r\n                // We'll reject the connect call instead\r\n                if (opened) {\r\n                    this._close(event);\r\n                }\r\n                else {\r\n                    let error = null;\r\n                    // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                    if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                        error = event.error;\r\n                    }\r\n                    else {\r\n                        error = \"WebSocket failed to connect. The connection could not be found on the server,\"\r\n                            + \" either the endpoint may not be a SignalR endpoint,\"\r\n                            + \" the connection ID is not present on the server, or there is a proxy blocking WebSockets.\"\r\n                            + \" If you have multiple servers check that sticky sessions are enabled.\";\r\n                    }\r\n                    reject(new Error(error));\r\n                }\r\n            };\r\n        });\r\n    }\r\n    send(data) {\r\n        if (this._webSocket && this._webSocket.readyState === this._webSocketConstructor.OPEN) {\r\n            this._logger.log(LogLevel.Trace, `(WebSockets transport) sending data. ${getDataDetail(data, this._logMessageContent)}.`);\r\n            this._webSocket.send(data);\r\n            return Promise.resolve();\r\n        }\r\n        return Promise.reject(\"WebSocket is not in the OPEN state\");\r\n    }\r\n    stop() {\r\n        if (this._webSocket) {\r\n            // Manually invoke onclose callback inline so we know the HttpConnection was closed properly before returning\r\n            // This also solves an issue where websocket.onclose could take 18+ seconds to trigger during network disconnects\r\n            this._close(undefined);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    _close(event) {\r\n        // webSocket will be null if the transport did not start successfully\r\n        if (this._webSocket) {\r\n            // Clear websocket handlers because we are considering the socket closed now\r\n            this._webSocket.onclose = () => { };\r\n            this._webSocket.onmessage = () => { };\r\n            this._webSocket.onerror = () => { };\r\n            this._webSocket.close();\r\n            this._webSocket = undefined;\r\n        }\r\n        this._logger.log(LogLevel.Trace, \"(WebSockets transport) socket closed.\");\r\n        if (this.onclose) {\r\n            if (this._isCloseEvent(event) && (event.wasClean === false || event.code !== 1000)) {\r\n                this.onclose(new Error(`WebSocket closed with status code: ${event.code} (${event.reason || \"no reason given\"}).`));\r\n            }\r\n            else if (event instanceof Error) {\r\n                this.onclose(event);\r\n            }\r\n            else {\r\n                this.onclose();\r\n            }\r\n        }\r\n    }\r\n    _isCloseEvent(event) {\r\n        return event && typeof event.wasClean === \"boolean\" && typeof event.code === \"number\";\r\n    }\r\n}\r\n//# sourceMappingURL=WebSocketTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nimport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\nexport class XhrHttpClient extends HttpClient {\r\n    constructor(logger) {\r\n        super();\r\n        this._logger = logger;\r\n    }\r\n    /** @inheritDoc */\r\n    send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.open(request.method, request.url, true);\r\n            xhr.withCredentials = request.withCredentials === undefined ? true : request.withCredentials;\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n            if (request.content === \"\") {\r\n                request.content = undefined;\r\n            }\r\n            if (request.content) {\r\n                // Explicitly setting the Content-Type header for React Native on Android platform.\r\n                if (isArrayBuffer(request.content)) {\r\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\r\n                }\r\n                else {\r\n                    xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\r\n                }\r\n            }\r\n            const headers = request.headers;\r\n            if (headers) {\r\n                Object.keys(headers)\r\n                    .forEach((header) => {\r\n                    xhr.setRequestHeader(header, headers[header]);\r\n                });\r\n            }\r\n            if (request.responseType) {\r\n                xhr.responseType = request.responseType;\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = () => {\r\n                    xhr.abort();\r\n                    reject(new AbortError());\r\n                };\r\n            }\r\n            if (request.timeout) {\r\n                xhr.timeout = request.timeout;\r\n            }\r\n            xhr.onload = () => {\r\n                if (request.abortSignal) {\r\n                    request.abortSignal.onabort = null;\r\n                }\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    resolve(new HttpResponse(xhr.status, xhr.statusText, xhr.response || xhr.responseText));\r\n                }\r\n                else {\r\n                    reject(new HttpError(xhr.response || xhr.responseText || xhr.statusText, xhr.status));\r\n                }\r\n            };\r\n            xhr.onerror = () => {\r\n                this._logger.log(LogLevel.Warning, `Error from HTTP request. ${xhr.status}: ${xhr.statusText}.`);\r\n                reject(new HttpError(xhr.statusText, xhr.status));\r\n            };\r\n            xhr.ontimeout = () => {\r\n                this._logger.log(LogLevel.Warning, `Timeout from HTTP request.`);\r\n                reject(new TimeoutError());\r\n            };\r\n            xhr.send(request.content);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=XhrHttpClient.js.map","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref) {\n        var name = _ref.name,\n            _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            effect = _ref.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x,\n      y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }, getWindow(popper)) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","\n      import API from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../css-loader/dist/cjs.js!./bootstrap-notify.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../css-loader/dist/cjs.js!./bootstrap-notify.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*\n* Project: Bootstrap Notify = v5.0.2\n* Description: Turns standard Bootstrap toasts into \"Growl-like\" notifications.\n* Author: Mouse0270 aka Robert McIntosh\n* Fork by w8tcha\n* License: MIT License\n* Website: https://w8tcha.github.io/bootstrap-notify/\n*/\nimport './bootstrap-notify.css';var u = Object.defineProperty;\nvar p = (a, t, e) => t in a ? u(a, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : a[t] = e;\nvar r = (a, t, e) => p(a, typeof t != \"symbol\" ? t + \"\" : t, e);\nimport * as b from \"bootstrap\";\nclass $ {\n  constructor(t, e) {\n    r(this, \"$ele\", document.createElement(\"div\"));\n    r(this, \"settings\");\n    r(this, \"_defaults\");\n    r(this, \"animations\");\n    r(this, \"notify\");\n    const s = {\n      element: \"body\",\n      type: \"info\",\n      allow_dismiss: !0,\n      allow_duplicates: !0,\n      newest_on_top: !0,\n      showProgressbar: !1,\n      placement: { from: \"top\", align: \"right\" },\n      delay: 5e3,\n      timer: 1e3,\n      mouse_over: \"pause\",\n      animate: { enter: \"animated fadeInDown\", exit: \"animated fadeOutUp\" },\n      onShow: void 0,\n      onShown: null,\n      onClose: void 0,\n      onClosed: null,\n      onClick: null,\n      icon_type: \"class\",\n      offset: { x: 0, y: 0 },\n      template: [\n        '<div data-notify=\"container\" class=\"toast fade m-3\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">',\n        '<div class=\"toast-header\">',\n        '<span data-notify=\"icon\" class=\"me-2 text-{0}\"></span>',\n        '<strong class=\"me-auto fw-bold\" data-notify=\"title\">{1}</strong>',\n        '<button type=\"button\" class=\"ms-2 mb-1 btn-close\" data-bs-dismiss=\"toast\" data-notify=\"dismiss\" aria-label=\"Close\">',\n        \"</button>\",\n        \"</div>\",\n        '<div class=\"toast-body\" data-notify=\"message\">',\n        \"{2}\",\n        '<div class=\"progress\" role=\"progressbar\" data-notify=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\">',\n        '<div class=\"progress-bar bg-{0}\" style=\"width: 0%;\"></div>',\n        \"</div>\",\n        \"</div>\"\n      ].join(\"\")\n    };\n    this.settings = s;\n    const i = {\n      content: {\n        message: typeof t == \"object\" ? t.message : t,\n        title: typeof t == \"object\" && t.title ? t.title : \"\",\n        icon: typeof t == \"object\" && t.icon ? t.icon : \"\"\n      }\n    };\n    e = c({}, i, e), this.settings = c({}, s, e), this._defaults = s, this.animations = {\n      start: \"webkitAnimationStart oanimationstart MSAnimationStart animationstart\",\n      end: \"webkitAnimationEnd oanimationend MSAnimationEnd animationend\"\n    }, typeof this.settings.offset == \"number\" && (this.settings.offset = { x: this.settings.offset, y: this.settings.offset }), (this.settings.allow_duplicates || !this.settings.allow_duplicates && !this.isDuplicateNotification(this)) && this.init();\n  }\n  isDuplicateNotification(t) {\n    let e = !1;\n    return document.querySelectorAll('[data-notify=\"container\"]').forEach((s) => {\n      var d, h, m, f, g, y;\n      const i = ((d = s.querySelector('[data-notify=\"title\"]')) == null ? void 0 : d.innerHTML.trim()) ?? \"\", o = ((h = s.querySelector('[data-notify=\"message\"]')) == null ? void 0 : h.innerHTML.trim()) ?? \"\", n = i === ((f = (m = t.settings.content) == null ? void 0 : m.title) == null ? void 0 : f.trim()), l = o === ((y = (g = t.settings.content) == null ? void 0 : g.message) == null ? void 0 : y.trim());\n      return n && l && (e = !0), !e;\n    }), e;\n  }\n  init() {\n    var t = this;\n    this.buildNotify(), this.settings.content && this.settings.content.icon && this.setIcon(this.settings.content.icon), this.placement(), this.bind(), this.notify = {\n      $ele: this.$ele,\n      close() {\n        t.close();\n      }\n    };\n  }\n  update(t, e) {\n    const s = typeof t == \"string\" ? { [t]: e } : t;\n    for (const i in s) {\n      const o = this.$ele.querySelector(`[data-notify=\"${i}\"]`);\n      o && (o.innerHTML = s[i]);\n    }\n  }\n  buildNotify() {\n    const t = this.settings.content, e = document.createElement(\"div\");\n    if (e.innerHTML = this.formatTemplate(\n      this.settings.template,\n      this.settings.type,\n      t.title,\n      t.message\n    ), this.$ele = e.firstChild, this.$ele.dataset.notifyPosition = `${this.settings.placement.from}-${this.settings.placement.align}`, this.$ele.dataset.bsDelay = this.settings.delay.toString(), !this.settings.allow_dismiss) {\n      const s = this.$ele.querySelector('[data-notify=\"dismiss\"]');\n      s && (s.style.display = \"none\");\n    }\n    (this.settings.delay <= 0 && !this.settings.showProgressbar || !this.settings.showProgressbar) && this.$ele.querySelector('[data-notify=\"progressbar\"]') && this.$ele.querySelector('[data-notify=\"progressbar\"]').remove();\n  }\n  setIcon(t) {\n    if (this.settings.icon_type && this.settings.icon_type.toLowerCase() === \"class\")\n      this.$ele.querySelector('[data-notify=\"icon\"]').className += ` ${t}`;\n    else if (this.$ele.querySelector('[data-notify=\"icon\"]').nodeName === \"IMG\") {\n      const e = this.$ele.querySelector('[data-notify=\"icon\"]');\n      e.src = this.settings.content.icon, e.className = \"me-2\";\n    } else {\n      const e = document.createElement(\"img\");\n      e.src = `${this.settings.content.icon}`, e.alt = \"Notify Icon\", e.className = \"me-2\", this.$ele.querySelector('[data-notify=\"icon\"]').append(e);\n    }\n  }\n  placement() {\n    const t = this;\n    if (this.$ele.className += ` ${this.settings.animate.enter}`, new b.Toast(this.$ele).show(), document.querySelector(\".toast-container\") == null) {\n      const i = document.createElement(\"div\");\n      switch (i.className = \"toast-container position-fixed\", this.settings.placement.from) {\n        case \"top\":\n          i.className += \" top-0\";\n          break;\n        case \"bottom\":\n          i.className += \" bottom-0\";\n          break;\n      }\n      switch (this.settings.placement.align) {\n        case \"left\":\n          i.className += \" start-0\";\n          break;\n        case \"right\":\n          i.className += \" end-0\";\n          break;\n        case \"center\":\n          i.className += \" start-50 translate-middle-x\";\n          break;\n      }\n      document.querySelector(this.settings.element).append(i);\n    }\n    const s = document.querySelector(\".toast-container\");\n    s && (this.settings.newest_on_top ? s.prepend(this.$ele) : s.append(this.$ele)), typeof t.settings.onShow == \"function\" && t.settings.onShow.call(this.$ele);\n  }\n  bind() {\n    var t = this;\n    const e = this.$ele.querySelector('[data-notify=\"dismiss\"]');\n    if (e && e.addEventListener(\n      \"click\",\n      () => {\n        t.close();\n      }\n    ), t.settings.onClick && this.$ele.addEventListener(\n      \"click\",\n      (i) => {\n        i.target !== t.$ele.querySelector('[data-notify=\"dismiss\"]') && t.settings.onClick.call(this);\n      }\n    ), this.$ele.addEventListener(\n      \"mouseover\",\n      () => {\n        this.$ele.dataset.hover = \"true\";\n      }\n    ), this.$ele.addEventListener(\n      \"mouseout\",\n      () => {\n        this.$ele.dataset.hover = \"false\";\n      }\n    ), this.$ele.dataset.hover = \"false\", this.settings.delay && this.settings.delay > 0) {\n      t.$ele.dataset.notifyDelay = t.settings.delay.toString();\n      var s = setInterval(\n        () => {\n          const i = this.settings.delay - this.settings.timer;\n          if (this.$ele.dataset.hover === \"false\" && this.settings.mouse_over === \"pause\" || this.settings.mouse_over !== \"pause\") {\n            const o = (this.settings.delay - i) / this.settings.delay * 100;\n            if (this.$ele.dataset.notifyDelay = i.toString(), this.settings.showProgressbar) {\n              const n = this.$ele.querySelector('[data-notify=\"progressbar\"] > div');\n              n.setAttribute(\n                \"aria-valuenow\",\n                o.toString()\n              ), n.style.width = o + \"%\";\n            }\n          }\n          i <= -t.settings.timer && (clearInterval(s), this.close());\n        },\n        t.settings.timer\n      );\n    }\n  }\n  close() {\n    const t = this;\n    this.$ele.dataset.closing = \"true\", this.$ele.className = `toast ${this.settings.animate.exit}`, t.settings.onClose && t.settings.onClose.call(this.$ele), t.$ele.remove();\n  }\n  formatTemplate(...t) {\n    return t[0].replace(\n      /(\\{\\{\\d\\}\\}|\\{\\d\\})/g,\n      (s) => {\n        if (s.substring(0, 2) === \"{{\") return s;\n        const i = parseInt(s.match(/\\d/)[0]);\n        return t[i + 1];\n      }\n    );\n  }\n}\nfunction c(...a) {\n  const t = {};\n  let e = !1, s = 0;\n  const i = a.length;\n  Object.prototype.toString.call(a[0]) === \"[object Boolean]\" && (e = a[0], s++);\n  const o = (n) => {\n    for (const l in n)\n      Object.prototype.hasOwnProperty.call(n, l) && (e && Object.prototype.toString.call(n[l]) === \"[object Object]\" ? t[l] = c(!0, t[l], n[l]) : t[l] = n[l]);\n  };\n  for (; s < i; s++) {\n    const n = a[s];\n    o(n);\n  }\n  return t;\n}\nexport {\n  $ as default\n};\n//# sourceMappingURL=bootstrap-notify.js.map\n","/*!\n  * Bootstrap v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\nimport * as Popper from '@popperjs/core';\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/data.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * Constants\n */\n\nconst elementMap = new Map();\nconst Data = {\n  set(element, key, instance) {\n    if (!elementMap.has(element)) {\n      elementMap.set(element, new Map());\n    }\n    const instanceMap = elementMap.get(element);\n\n    // make it clear we only want one instance per element\n    // can be removed later when multiple key/instances are fine to be used\n    if (!instanceMap.has(key) && instanceMap.size !== 0) {\n      // eslint-disable-next-line no-console\n      console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`);\n      return;\n    }\n    instanceMap.set(key, instance);\n  },\n  get(element, key) {\n    if (elementMap.has(element)) {\n      return elementMap.get(element).get(key) || null;\n    }\n    return null;\n  },\n  remove(element, key) {\n    if (!elementMap.has(element)) {\n      return;\n    }\n    const instanceMap = elementMap.get(element);\n    instanceMap.delete(key);\n\n    // free up element references if there are no instances left for an element\n    if (instanceMap.size === 0) {\n      elementMap.delete(element);\n    }\n  }\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/index.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst MAX_UID = 1000000;\nconst MILLISECONDS_MULTIPLIER = 1000;\nconst TRANSITION_END = 'transitionend';\n\n/**\n * Properly escape IDs selectors to handle weird IDs\n * @param {string} selector\n * @returns {string}\n */\nconst parseSelector = selector => {\n  if (selector && window.CSS && window.CSS.escape) {\n    // document.querySelector needs escaping to handle IDs (html5+) containing for instance /\n    selector = selector.replace(/#([^\\s\"#']+)/g, (match, id) => `#${CSS.escape(id)}`);\n  }\n  return selector;\n};\n\n// Shout-out Angus Croll (https://goo.gl/pxwQGp)\nconst toType = object => {\n  if (object === null || object === undefined) {\n    return `${object}`;\n  }\n  return Object.prototype.toString.call(object).match(/\\s([a-z]+)/i)[1].toLowerCase();\n};\n\n/**\n * Public Util API\n */\n\nconst getUID = prefix => {\n  do {\n    prefix += Math.floor(Math.random() * MAX_UID);\n  } while (document.getElementById(prefix));\n  return prefix;\n};\nconst getTransitionDurationFromElement = element => {\n  if (!element) {\n    return 0;\n  }\n\n  // Get transition-duration of the element\n  let {\n    transitionDuration,\n    transitionDelay\n  } = window.getComputedStyle(element);\n  const floatTransitionDuration = Number.parseFloat(transitionDuration);\n  const floatTransitionDelay = Number.parseFloat(transitionDelay);\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0;\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0];\n  transitionDelay = transitionDelay.split(',')[0];\n  return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;\n};\nconst triggerTransitionEnd = element => {\n  element.dispatchEvent(new Event(TRANSITION_END));\n};\nconst isElement = object => {\n  if (!object || typeof object !== 'object') {\n    return false;\n  }\n  if (typeof object.jquery !== 'undefined') {\n    object = object[0];\n  }\n  return typeof object.nodeType !== 'undefined';\n};\nconst getElement = object => {\n  // it's a jQuery object or a node element\n  if (isElement(object)) {\n    return object.jquery ? object[0] : object;\n  }\n  if (typeof object === 'string' && object.length > 0) {\n    return document.querySelector(parseSelector(object));\n  }\n  return null;\n};\nconst isVisible = element => {\n  if (!isElement(element) || element.getClientRects().length === 0) {\n    return false;\n  }\n  const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible';\n  // Handle `details` element as its content may falsie appear visible when it is closed\n  const closedDetails = element.closest('details:not([open])');\n  if (!closedDetails) {\n    return elementIsVisible;\n  }\n  if (closedDetails !== element) {\n    const summary = element.closest('summary');\n    if (summary && summary.parentNode !== closedDetails) {\n      return false;\n    }\n    if (summary === null) {\n      return false;\n    }\n  }\n  return elementIsVisible;\n};\nconst isDisabled = element => {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    return true;\n  }\n  if (element.classList.contains('disabled')) {\n    return true;\n  }\n  if (typeof element.disabled !== 'undefined') {\n    return element.disabled;\n  }\n  return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false';\n};\nconst findShadowRoot = element => {\n  if (!document.documentElement.attachShadow) {\n    return null;\n  }\n\n  // Can find the shadow root otherwise it'll return the document\n  if (typeof element.getRootNode === 'function') {\n    const root = element.getRootNode();\n    return root instanceof ShadowRoot ? root : null;\n  }\n  if (element instanceof ShadowRoot) {\n    return element;\n  }\n\n  // when we don't find a shadow root\n  if (!element.parentNode) {\n    return null;\n  }\n  return findShadowRoot(element.parentNode);\n};\nconst noop = () => {};\n\n/**\n * Trick to restart an element's animation\n *\n * @param {HTMLElement} element\n * @return void\n *\n * @see https://www.harrytheo.com/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation\n */\nconst reflow = element => {\n  element.offsetHeight; // eslint-disable-line no-unused-expressions\n};\nconst getjQuery = () => {\n  if (window.jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\n    return window.jQuery;\n  }\n  return null;\n};\nconst DOMContentLoadedCallbacks = [];\nconst onDOMContentLoaded = callback => {\n  if (document.readyState === 'loading') {\n    // add listener on the first call when the document is in loading state\n    if (!DOMContentLoadedCallbacks.length) {\n      document.addEventListener('DOMContentLoaded', () => {\n        for (const callback of DOMContentLoadedCallbacks) {\n          callback();\n        }\n      });\n    }\n    DOMContentLoadedCallbacks.push(callback);\n  } else {\n    callback();\n  }\n};\nconst isRTL = () => document.documentElement.dir === 'rtl';\nconst defineJQueryPlugin = plugin => {\n  onDOMContentLoaded(() => {\n    const $ = getjQuery();\n    /* istanbul ignore if */\n    if ($) {\n      const name = plugin.NAME;\n      const JQUERY_NO_CONFLICT = $.fn[name];\n      $.fn[name] = plugin.jQueryInterface;\n      $.fn[name].Constructor = plugin;\n      $.fn[name].noConflict = () => {\n        $.fn[name] = JQUERY_NO_CONFLICT;\n        return plugin.jQueryInterface;\n      };\n    }\n  });\n};\nconst execute = (possibleCallback, args = [], defaultValue = possibleCallback) => {\n  return typeof possibleCallback === 'function' ? possibleCallback.call(...args) : defaultValue;\n};\nconst executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {\n  if (!waitForTransition) {\n    execute(callback);\n    return;\n  }\n  const durationPadding = 5;\n  const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding;\n  let called = false;\n  const handler = ({\n    target\n  }) => {\n    if (target !== transitionElement) {\n      return;\n    }\n    called = true;\n    transitionElement.removeEventListener(TRANSITION_END, handler);\n    execute(callback);\n  };\n  transitionElement.addEventListener(TRANSITION_END, handler);\n  setTimeout(() => {\n    if (!called) {\n      triggerTransitionEnd(transitionElement);\n    }\n  }, emulatedDuration);\n};\n\n/**\n * Return the previous/next element of a list.\n *\n * @param {array} list    The list of elements\n * @param activeElement   The active element\n * @param shouldGetNext   Choose to get next or previous element\n * @param isCycleAllowed\n * @return {Element|elem} The proper element\n */\nconst getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {\n  const listLength = list.length;\n  let index = list.indexOf(activeElement);\n\n  // if the element does not exist in the list return an element\n  // depending on the direction and if cycle is allowed\n  if (index === -1) {\n    return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0];\n  }\n  index += shouldGetNext ? 1 : -1;\n  if (isCycleAllowed) {\n    index = (index + listLength) % listLength;\n  }\n  return list[Math.max(0, Math.min(index, listLength - 1))];\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/event-handler.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst namespaceRegex = /[^.]*(?=\\..*)\\.|.*/;\nconst stripNameRegex = /\\..*/;\nconst stripUidRegex = /::\\d+$/;\nconst eventRegistry = {}; // Events storage\nlet uidEvent = 1;\nconst customEvents = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n};\nconst nativeEvents = new Set(['click', 'dblclick', 'mouseup', 'mousedown', 'contextmenu', 'mousewheel', 'DOMMouseScroll', 'mouseover', 'mouseout', 'mousemove', 'selectstart', 'selectend', 'keydown', 'keypress', 'keyup', 'orientationchange', 'touchstart', 'touchmove', 'touchend', 'touchcancel', 'pointerdown', 'pointermove', 'pointerup', 'pointerleave', 'pointercancel', 'gesturestart', 'gesturechange', 'gestureend', 'focus', 'blur', 'change', 'reset', 'select', 'submit', 'focusin', 'focusout', 'load', 'unload', 'beforeunload', 'resize', 'move', 'DOMContentLoaded', 'readystatechange', 'error', 'abort', 'scroll']);\n\n/**\n * Private methods\n */\n\nfunction makeEventUid(element, uid) {\n  return uid && `${uid}::${uidEvent++}` || element.uidEvent || uidEvent++;\n}\nfunction getElementEvents(element) {\n  const uid = makeEventUid(element);\n  element.uidEvent = uid;\n  eventRegistry[uid] = eventRegistry[uid] || {};\n  return eventRegistry[uid];\n}\nfunction bootstrapHandler(element, fn) {\n  return function handler(event) {\n    hydrateObj(event, {\n      delegateTarget: element\n    });\n    if (handler.oneOff) {\n      EventHandler.off(element, event.type, fn);\n    }\n    return fn.apply(element, [event]);\n  };\n}\nfunction bootstrapDelegationHandler(element, selector, fn) {\n  return function handler(event) {\n    const domElements = element.querySelectorAll(selector);\n    for (let {\n      target\n    } = event; target && target !== this; target = target.parentNode) {\n      for (const domElement of domElements) {\n        if (domElement !== target) {\n          continue;\n        }\n        hydrateObj(event, {\n          delegateTarget: target\n        });\n        if (handler.oneOff) {\n          EventHandler.off(element, event.type, selector, fn);\n        }\n        return fn.apply(target, [event]);\n      }\n    }\n  };\n}\nfunction findHandler(events, callable, delegationSelector = null) {\n  return Object.values(events).find(event => event.callable === callable && event.delegationSelector === delegationSelector);\n}\nfunction normalizeParameters(originalTypeEvent, handler, delegationFunction) {\n  const isDelegated = typeof handler === 'string';\n  // TODO: tooltip passes `false` instead of selector, so we need to check\n  const callable = isDelegated ? delegationFunction : handler || delegationFunction;\n  let typeEvent = getTypeEvent(originalTypeEvent);\n  if (!nativeEvents.has(typeEvent)) {\n    typeEvent = originalTypeEvent;\n  }\n  return [isDelegated, callable, typeEvent];\n}\nfunction addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {\n  if (typeof originalTypeEvent !== 'string' || !element) {\n    return;\n  }\n  let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n\n  // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position\n  // this prevents the handler from being dispatched the same way as mouseover or mouseout does\n  if (originalTypeEvent in customEvents) {\n    const wrapFunction = fn => {\n      return function (event) {\n        if (!event.relatedTarget || event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget)) {\n          return fn.call(this, event);\n        }\n      };\n    };\n    callable = wrapFunction(callable);\n  }\n  const events = getElementEvents(element);\n  const handlers = events[typeEvent] || (events[typeEvent] = {});\n  const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null);\n  if (previousFunction) {\n    previousFunction.oneOff = previousFunction.oneOff && oneOff;\n    return;\n  }\n  const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''));\n  const fn = isDelegated ? bootstrapDelegationHandler(element, handler, callable) : bootstrapHandler(element, callable);\n  fn.delegationSelector = isDelegated ? handler : null;\n  fn.callable = callable;\n  fn.oneOff = oneOff;\n  fn.uidEvent = uid;\n  handlers[uid] = fn;\n  element.addEventListener(typeEvent, fn, isDelegated);\n}\nfunction removeHandler(element, events, typeEvent, handler, delegationSelector) {\n  const fn = findHandler(events[typeEvent], handler, delegationSelector);\n  if (!fn) {\n    return;\n  }\n  element.removeEventListener(typeEvent, fn, Boolean(delegationSelector));\n  delete events[typeEvent][fn.uidEvent];\n}\nfunction removeNamespacedHandlers(element, events, typeEvent, namespace) {\n  const storeElementEvent = events[typeEvent] || {};\n  for (const [handlerKey, event] of Object.entries(storeElementEvent)) {\n    if (handlerKey.includes(namespace)) {\n      removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n    }\n  }\n}\nfunction getTypeEvent(event) {\n  // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\n  event = event.replace(stripNameRegex, '');\n  return customEvents[event] || event;\n}\nconst EventHandler = {\n  on(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, false);\n  },\n  one(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, true);\n  },\n  off(element, originalTypeEvent, handler, delegationFunction) {\n    if (typeof originalTypeEvent !== 'string' || !element) {\n      return;\n    }\n    const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n    const inNamespace = typeEvent !== originalTypeEvent;\n    const events = getElementEvents(element);\n    const storeElementEvent = events[typeEvent] || {};\n    const isNamespace = originalTypeEvent.startsWith('.');\n    if (typeof callable !== 'undefined') {\n      // Simplest case: handler is passed, remove that listener ONLY.\n      if (!Object.keys(storeElementEvent).length) {\n        return;\n      }\n      removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null);\n      return;\n    }\n    if (isNamespace) {\n      for (const elementEvent of Object.keys(events)) {\n        removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1));\n      }\n    }\n    for (const [keyHandlers, event] of Object.entries(storeElementEvent)) {\n      const handlerKey = keyHandlers.replace(stripUidRegex, '');\n      if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\n        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n      }\n    }\n  },\n  trigger(element, event, args) {\n    if (typeof event !== 'string' || !element) {\n      return null;\n    }\n    const $ = getjQuery();\n    const typeEvent = getTypeEvent(event);\n    const inNamespace = event !== typeEvent;\n    let jQueryEvent = null;\n    let bubbles = true;\n    let nativeDispatch = true;\n    let defaultPrevented = false;\n    if (inNamespace && $) {\n      jQueryEvent = $.Event(event, args);\n      $(element).trigger(jQueryEvent);\n      bubbles = !jQueryEvent.isPropagationStopped();\n      nativeDispatch = !jQueryEvent.isImmediatePropagationStopped();\n      defaultPrevented = jQueryEvent.isDefaultPrevented();\n    }\n    const evt = hydrateObj(new Event(event, {\n      bubbles,\n      cancelable: true\n    }), args);\n    if (defaultPrevented) {\n      evt.preventDefault();\n    }\n    if (nativeDispatch) {\n      element.dispatchEvent(evt);\n    }\n    if (evt.defaultPrevented && jQueryEvent) {\n      jQueryEvent.preventDefault();\n    }\n    return evt;\n  }\n};\nfunction hydrateObj(obj, meta = {}) {\n  for (const [key, value] of Object.entries(meta)) {\n    try {\n      obj[key] = value;\n    } catch (_unused) {\n      Object.defineProperty(obj, key, {\n        configurable: true,\n        get() {\n          return value;\n        }\n      });\n    }\n  }\n  return obj;\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/manipulator.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nfunction normalizeData(value) {\n  if (value === 'true') {\n    return true;\n  }\n  if (value === 'false') {\n    return false;\n  }\n  if (value === Number(value).toString()) {\n    return Number(value);\n  }\n  if (value === '' || value === 'null') {\n    return null;\n  }\n  if (typeof value !== 'string') {\n    return value;\n  }\n  try {\n    return JSON.parse(decodeURIComponent(value));\n  } catch (_unused) {\n    return value;\n  }\n}\nfunction normalizeDataKey(key) {\n  return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`);\n}\nconst Manipulator = {\n  setDataAttribute(element, key, value) {\n    element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value);\n  },\n  removeDataAttribute(element, key) {\n    element.removeAttribute(`data-bs-${normalizeDataKey(key)}`);\n  },\n  getDataAttributes(element) {\n    if (!element) {\n      return {};\n    }\n    const attributes = {};\n    const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'));\n    for (const key of bsKeys) {\n      let pureKey = key.replace(/^bs/, '');\n      pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1);\n      attributes[pureKey] = normalizeData(element.dataset[key]);\n    }\n    return attributes;\n  },\n  getDataAttribute(element, key) {\n    return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`));\n  }\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/config.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Class definition\n */\n\nclass Config {\n  // Getters\n  static get Default() {\n    return {};\n  }\n  static get DefaultType() {\n    return {};\n  }\n  static get NAME() {\n    throw new Error('You have to implement the static method \"NAME\", for each component!');\n  }\n  _getConfig(config) {\n    config = this._mergeConfigObj(config);\n    config = this._configAfterMerge(config);\n    this._typeCheckConfig(config);\n    return config;\n  }\n  _configAfterMerge(config) {\n    return config;\n  }\n  _mergeConfigObj(config, element) {\n    const jsonConfig = isElement(element) ? Manipulator.getDataAttribute(element, 'config') : {}; // try to parse\n\n    return {\n      ...this.constructor.Default,\n      ...(typeof jsonConfig === 'object' ? jsonConfig : {}),\n      ...(isElement(element) ? Manipulator.getDataAttributes(element) : {}),\n      ...(typeof config === 'object' ? config : {})\n    };\n  }\n  _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {\n    for (const [property, expectedTypes] of Object.entries(configTypes)) {\n      const value = config[property];\n      const valueType = isElement(value) ? 'element' : toType(value);\n      if (!new RegExp(expectedTypes).test(valueType)) {\n        throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option \"${property}\" provided type \"${valueType}\" but expected type \"${expectedTypes}\".`);\n      }\n    }\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap base-component.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst VERSION = '5.3.7';\n\n/**\n * Class definition\n */\n\nclass BaseComponent extends Config {\n  constructor(element, config) {\n    super();\n    element = getElement(element);\n    if (!element) {\n      return;\n    }\n    this._element = element;\n    this._config = this._getConfig(config);\n    Data.set(this._element, this.constructor.DATA_KEY, this);\n  }\n\n  // Public\n  dispose() {\n    Data.remove(this._element, this.constructor.DATA_KEY);\n    EventHandler.off(this._element, this.constructor.EVENT_KEY);\n    for (const propertyName of Object.getOwnPropertyNames(this)) {\n      this[propertyName] = null;\n    }\n  }\n\n  // Private\n  _queueCallback(callback, element, isAnimated = true) {\n    executeAfterTransition(callback, element, isAnimated);\n  }\n  _getConfig(config) {\n    config = this._mergeConfigObj(config, this._element);\n    config = this._configAfterMerge(config);\n    this._typeCheckConfig(config);\n    return config;\n  }\n\n  // Static\n  static getInstance(element) {\n    return Data.get(getElement(element), this.DATA_KEY);\n  }\n  static getOrCreateInstance(element, config = {}) {\n    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null);\n  }\n  static get VERSION() {\n    return VERSION;\n  }\n  static get DATA_KEY() {\n    return `bs.${this.NAME}`;\n  }\n  static get EVENT_KEY() {\n    return `.${this.DATA_KEY}`;\n  }\n  static eventName(name) {\n    return `${name}${this.EVENT_KEY}`;\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dom/selector-engine.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst getSelector = element => {\n  let selector = element.getAttribute('data-bs-target');\n  if (!selector || selector === '#') {\n    let hrefAttribute = element.getAttribute('href');\n\n    // The only valid content that could double as a selector are IDs or classes,\n    // so everything starting with `#` or `.`. If a \"real\" URL is used as the selector,\n    // `document.querySelector` will rightfully complain it is invalid.\n    // See https://github.com/twbs/bootstrap/issues/32273\n    if (!hrefAttribute || !hrefAttribute.includes('#') && !hrefAttribute.startsWith('.')) {\n      return null;\n    }\n\n    // Just in case some CMS puts out a full URL with the anchor appended\n    if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {\n      hrefAttribute = `#${hrefAttribute.split('#')[1]}`;\n    }\n    selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null;\n  }\n  return selector ? selector.split(',').map(sel => parseSelector(sel)).join(',') : null;\n};\nconst SelectorEngine = {\n  find(selector, element = document.documentElement) {\n    return [].concat(...Element.prototype.querySelectorAll.call(element, selector));\n  },\n  findOne(selector, element = document.documentElement) {\n    return Element.prototype.querySelector.call(element, selector);\n  },\n  children(element, selector) {\n    return [].concat(...element.children).filter(child => child.matches(selector));\n  },\n  parents(element, selector) {\n    const parents = [];\n    let ancestor = element.parentNode.closest(selector);\n    while (ancestor) {\n      parents.push(ancestor);\n      ancestor = ancestor.parentNode.closest(selector);\n    }\n    return parents;\n  },\n  prev(element, selector) {\n    let previous = element.previousElementSibling;\n    while (previous) {\n      if (previous.matches(selector)) {\n        return [previous];\n      }\n      previous = previous.previousElementSibling;\n    }\n    return [];\n  },\n  // TODO: this is now unused; remove later along with prev()\n  next(element, selector) {\n    let next = element.nextElementSibling;\n    while (next) {\n      if (next.matches(selector)) {\n        return [next];\n      }\n      next = next.nextElementSibling;\n    }\n    return [];\n  },\n  focusableChildren(element) {\n    const focusables = ['a', 'button', 'input', 'textarea', 'select', 'details', '[tabindex]', '[contenteditable=\"true\"]'].map(selector => `${selector}:not([tabindex^=\"-\"])`).join(',');\n    return this.find(focusables, element).filter(el => !isDisabled(el) && isVisible(el));\n  },\n  getSelectorFromElement(element) {\n    const selector = getSelector(element);\n    if (selector) {\n      return SelectorEngine.findOne(selector) ? selector : null;\n    }\n    return null;\n  },\n  getElementFromSelector(element) {\n    const selector = getSelector(element);\n    return selector ? SelectorEngine.findOne(selector) : null;\n  },\n  getMultipleElementsFromSelector(element) {\n    const selector = getSelector(element);\n    return selector ? SelectorEngine.find(selector) : [];\n  }\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/component-functions.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst enableDismissTrigger = (component, method = 'hide') => {\n  const clickEvent = `click.dismiss${component.EVENT_KEY}`;\n  const name = component.NAME;\n  EventHandler.on(document, clickEvent, `[data-bs-dismiss=\"${name}\"]`, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault();\n    }\n    if (isDisabled(this)) {\n      return;\n    }\n    const target = SelectorEngine.getElementFromSelector(this) || this.closest(`.${name}`);\n    const instance = component.getOrCreateInstance(target);\n\n    // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method\n    instance[method]();\n  });\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$f = 'alert';\nconst DATA_KEY$a = 'bs.alert';\nconst EVENT_KEY$b = `.${DATA_KEY$a}`;\nconst EVENT_CLOSE = `close${EVENT_KEY$b}`;\nconst EVENT_CLOSED = `closed${EVENT_KEY$b}`;\nconst CLASS_NAME_FADE$5 = 'fade';\nconst CLASS_NAME_SHOW$8 = 'show';\n\n/**\n * Class definition\n */\n\nclass Alert extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME$f;\n  }\n\n  // Public\n  close() {\n    const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE);\n    if (closeEvent.defaultPrevented) {\n      return;\n    }\n    this._element.classList.remove(CLASS_NAME_SHOW$8);\n    const isAnimated = this._element.classList.contains(CLASS_NAME_FADE$5);\n    this._queueCallback(() => this._destroyElement(), this._element, isAnimated);\n  }\n\n  // Private\n  _destroyElement() {\n    this._element.remove();\n    EventHandler.trigger(this._element, EVENT_CLOSED);\n    this.dispose();\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Alert.getOrCreateInstance(this);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config](this);\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Alert, 'close');\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Alert);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap button.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$e = 'button';\nconst DATA_KEY$9 = 'bs.button';\nconst EVENT_KEY$a = `.${DATA_KEY$9}`;\nconst DATA_API_KEY$6 = '.data-api';\nconst CLASS_NAME_ACTIVE$3 = 'active';\nconst SELECTOR_DATA_TOGGLE$5 = '[data-bs-toggle=\"button\"]';\nconst EVENT_CLICK_DATA_API$6 = `click${EVENT_KEY$a}${DATA_API_KEY$6}`;\n\n/**\n * Class definition\n */\n\nclass Button extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME$e;\n  }\n\n  // Public\n  toggle() {\n    // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method\n    this._element.setAttribute('aria-pressed', this._element.classList.toggle(CLASS_NAME_ACTIVE$3));\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Button.getOrCreateInstance(this);\n      if (config === 'toggle') {\n        data[config]();\n      }\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$6, SELECTOR_DATA_TOGGLE$5, event => {\n  event.preventDefault();\n  const button = event.target.closest(SELECTOR_DATA_TOGGLE$5);\n  const data = Button.getOrCreateInstance(button);\n  data.toggle();\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Button);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/swipe.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$d = 'swipe';\nconst EVENT_KEY$9 = '.bs.swipe';\nconst EVENT_TOUCHSTART = `touchstart${EVENT_KEY$9}`;\nconst EVENT_TOUCHMOVE = `touchmove${EVENT_KEY$9}`;\nconst EVENT_TOUCHEND = `touchend${EVENT_KEY$9}`;\nconst EVENT_POINTERDOWN = `pointerdown${EVENT_KEY$9}`;\nconst EVENT_POINTERUP = `pointerup${EVENT_KEY$9}`;\nconst POINTER_TYPE_TOUCH = 'touch';\nconst POINTER_TYPE_PEN = 'pen';\nconst CLASS_NAME_POINTER_EVENT = 'pointer-event';\nconst SWIPE_THRESHOLD = 40;\nconst Default$c = {\n  endCallback: null,\n  leftCallback: null,\n  rightCallback: null\n};\nconst DefaultType$c = {\n  endCallback: '(function|null)',\n  leftCallback: '(function|null)',\n  rightCallback: '(function|null)'\n};\n\n/**\n * Class definition\n */\n\nclass Swipe extends Config {\n  constructor(element, config) {\n    super();\n    this._element = element;\n    if (!element || !Swipe.isSupported()) {\n      return;\n    }\n    this._config = this._getConfig(config);\n    this._deltaX = 0;\n    this._supportPointerEvents = Boolean(window.PointerEvent);\n    this._initEvents();\n  }\n\n  // Getters\n  static get Default() {\n    return Default$c;\n  }\n  static get DefaultType() {\n    return DefaultType$c;\n  }\n  static get NAME() {\n    return NAME$d;\n  }\n\n  // Public\n  dispose() {\n    EventHandler.off(this._element, EVENT_KEY$9);\n  }\n\n  // Private\n  _start(event) {\n    if (!this._supportPointerEvents) {\n      this._deltaX = event.touches[0].clientX;\n      return;\n    }\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX;\n    }\n  }\n  _end(event) {\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX - this._deltaX;\n    }\n    this._handleSwipe();\n    execute(this._config.endCallback);\n  }\n  _move(event) {\n    this._deltaX = event.touches && event.touches.length > 1 ? 0 : event.touches[0].clientX - this._deltaX;\n  }\n  _handleSwipe() {\n    const absDeltaX = Math.abs(this._deltaX);\n    if (absDeltaX <= SWIPE_THRESHOLD) {\n      return;\n    }\n    const direction = absDeltaX / this._deltaX;\n    this._deltaX = 0;\n    if (!direction) {\n      return;\n    }\n    execute(direction > 0 ? this._config.rightCallback : this._config.leftCallback);\n  }\n  _initEvents() {\n    if (this._supportPointerEvents) {\n      EventHandler.on(this._element, EVENT_POINTERDOWN, event => this._start(event));\n      EventHandler.on(this._element, EVENT_POINTERUP, event => this._end(event));\n      this._element.classList.add(CLASS_NAME_POINTER_EVENT);\n    } else {\n      EventHandler.on(this._element, EVENT_TOUCHSTART, event => this._start(event));\n      EventHandler.on(this._element, EVENT_TOUCHMOVE, event => this._move(event));\n      EventHandler.on(this._element, EVENT_TOUCHEND, event => this._end(event));\n    }\n  }\n  _eventIsPointerPenTouch(event) {\n    return this._supportPointerEvents && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH);\n  }\n\n  // Static\n  static isSupported() {\n    return 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap carousel.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$c = 'carousel';\nconst DATA_KEY$8 = 'bs.carousel';\nconst EVENT_KEY$8 = `.${DATA_KEY$8}`;\nconst DATA_API_KEY$5 = '.data-api';\nconst ARROW_LEFT_KEY$1 = 'ArrowLeft';\nconst ARROW_RIGHT_KEY$1 = 'ArrowRight';\nconst TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch\n\nconst ORDER_NEXT = 'next';\nconst ORDER_PREV = 'prev';\nconst DIRECTION_LEFT = 'left';\nconst DIRECTION_RIGHT = 'right';\nconst EVENT_SLIDE = `slide${EVENT_KEY$8}`;\nconst EVENT_SLID = `slid${EVENT_KEY$8}`;\nconst EVENT_KEYDOWN$1 = `keydown${EVENT_KEY$8}`;\nconst EVENT_MOUSEENTER$1 = `mouseenter${EVENT_KEY$8}`;\nconst EVENT_MOUSELEAVE$1 = `mouseleave${EVENT_KEY$8}`;\nconst EVENT_DRAG_START = `dragstart${EVENT_KEY$8}`;\nconst EVENT_LOAD_DATA_API$3 = `load${EVENT_KEY$8}${DATA_API_KEY$5}`;\nconst EVENT_CLICK_DATA_API$5 = `click${EVENT_KEY$8}${DATA_API_KEY$5}`;\nconst CLASS_NAME_CAROUSEL = 'carousel';\nconst CLASS_NAME_ACTIVE$2 = 'active';\nconst CLASS_NAME_SLIDE = 'slide';\nconst CLASS_NAME_END = 'carousel-item-end';\nconst CLASS_NAME_START = 'carousel-item-start';\nconst CLASS_NAME_NEXT = 'carousel-item-next';\nconst CLASS_NAME_PREV = 'carousel-item-prev';\nconst SELECTOR_ACTIVE = '.active';\nconst SELECTOR_ITEM = '.carousel-item';\nconst SELECTOR_ACTIVE_ITEM = SELECTOR_ACTIVE + SELECTOR_ITEM;\nconst SELECTOR_ITEM_IMG = '.carousel-item img';\nconst SELECTOR_INDICATORS = '.carousel-indicators';\nconst SELECTOR_DATA_SLIDE = '[data-bs-slide], [data-bs-slide-to]';\nconst SELECTOR_DATA_RIDE = '[data-bs-ride=\"carousel\"]';\nconst KEY_TO_DIRECTION = {\n  [ARROW_LEFT_KEY$1]: DIRECTION_RIGHT,\n  [ARROW_RIGHT_KEY$1]: DIRECTION_LEFT\n};\nconst Default$b = {\n  interval: 5000,\n  keyboard: true,\n  pause: 'hover',\n  ride: false,\n  touch: true,\n  wrap: true\n};\nconst DefaultType$b = {\n  interval: '(number|boolean)',\n  // TODO:v6 remove boolean support\n  keyboard: 'boolean',\n  pause: '(string|boolean)',\n  ride: '(boolean|string)',\n  touch: 'boolean',\n  wrap: 'boolean'\n};\n\n/**\n * Class definition\n */\n\nclass Carousel extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._interval = null;\n    this._activeElement = null;\n    this._isSliding = false;\n    this.touchTimeout = null;\n    this._swipeHelper = null;\n    this._indicatorsElement = SelectorEngine.findOne(SELECTOR_INDICATORS, this._element);\n    this._addEventListeners();\n    if (this._config.ride === CLASS_NAME_CAROUSEL) {\n      this.cycle();\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default$b;\n  }\n  static get DefaultType() {\n    return DefaultType$b;\n  }\n  static get NAME() {\n    return NAME$c;\n  }\n\n  // Public\n  next() {\n    this._slide(ORDER_NEXT);\n  }\n  nextWhenVisible() {\n    // FIXME TODO use `document.visibilityState`\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden && isVisible(this._element)) {\n      this.next();\n    }\n  }\n  prev() {\n    this._slide(ORDER_PREV);\n  }\n  pause() {\n    if (this._isSliding) {\n      triggerTransitionEnd(this._element);\n    }\n    this._clearInterval();\n  }\n  cycle() {\n    this._clearInterval();\n    this._updateInterval();\n    this._interval = setInterval(() => this.nextWhenVisible(), this._config.interval);\n  }\n  _maybeEnableCycle() {\n    if (!this._config.ride) {\n      return;\n    }\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.cycle());\n      return;\n    }\n    this.cycle();\n  }\n  to(index) {\n    const items = this._getItems();\n    if (index > items.length - 1 || index < 0) {\n      return;\n    }\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.to(index));\n      return;\n    }\n    const activeIndex = this._getItemIndex(this._getActive());\n    if (activeIndex === index) {\n      return;\n    }\n    const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV;\n    this._slide(order, items[index]);\n  }\n  dispose() {\n    if (this._swipeHelper) {\n      this._swipeHelper.dispose();\n    }\n    super.dispose();\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    config.defaultInterval = config.interval;\n    return config;\n  }\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      EventHandler.on(this._element, EVENT_KEYDOWN$1, event => this._keydown(event));\n    }\n    if (this._config.pause === 'hover') {\n      EventHandler.on(this._element, EVENT_MOUSEENTER$1, () => this.pause());\n      EventHandler.on(this._element, EVENT_MOUSELEAVE$1, () => this._maybeEnableCycle());\n    }\n    if (this._config.touch && Swipe.isSupported()) {\n      this._addTouchEventListeners();\n    }\n  }\n  _addTouchEventListeners() {\n    for (const img of SelectorEngine.find(SELECTOR_ITEM_IMG, this._element)) {\n      EventHandler.on(img, EVENT_DRAG_START, event => event.preventDefault());\n    }\n    const endCallBack = () => {\n      if (this._config.pause !== 'hover') {\n        return;\n      }\n\n      // If it's a touch-enabled device, mouseenter/leave are fired as\n      // part of the mouse compatibility events on first tap - the carousel\n      // would stop cycling until user tapped out of it;\n      // here, we listen for touchend, explicitly pause the carousel\n      // (as if it's the second time we tap on it, mouseenter compat event\n      // is NOT fired) and after a timeout (to allow for mouse compatibility\n      // events to fire) we explicitly restart cycling\n\n      this.pause();\n      if (this.touchTimeout) {\n        clearTimeout(this.touchTimeout);\n      }\n      this.touchTimeout = setTimeout(() => this._maybeEnableCycle(), TOUCHEVENT_COMPAT_WAIT + this._config.interval);\n    };\n    const swipeConfig = {\n      leftCallback: () => this._slide(this._directionToOrder(DIRECTION_LEFT)),\n      rightCallback: () => this._slide(this._directionToOrder(DIRECTION_RIGHT)),\n      endCallback: endCallBack\n    };\n    this._swipeHelper = new Swipe(this._element, swipeConfig);\n  }\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return;\n    }\n    const direction = KEY_TO_DIRECTION[event.key];\n    if (direction) {\n      event.preventDefault();\n      this._slide(this._directionToOrder(direction));\n    }\n  }\n  _getItemIndex(element) {\n    return this._getItems().indexOf(element);\n  }\n  _setActiveIndicatorElement(index) {\n    if (!this._indicatorsElement) {\n      return;\n    }\n    const activeIndicator = SelectorEngine.findOne(SELECTOR_ACTIVE, this._indicatorsElement);\n    activeIndicator.classList.remove(CLASS_NAME_ACTIVE$2);\n    activeIndicator.removeAttribute('aria-current');\n    const newActiveIndicator = SelectorEngine.findOne(`[data-bs-slide-to=\"${index}\"]`, this._indicatorsElement);\n    if (newActiveIndicator) {\n      newActiveIndicator.classList.add(CLASS_NAME_ACTIVE$2);\n      newActiveIndicator.setAttribute('aria-current', 'true');\n    }\n  }\n  _updateInterval() {\n    const element = this._activeElement || this._getActive();\n    if (!element) {\n      return;\n    }\n    const elementInterval = Number.parseInt(element.getAttribute('data-bs-interval'), 10);\n    this._config.interval = elementInterval || this._config.defaultInterval;\n  }\n  _slide(order, element = null) {\n    if (this._isSliding) {\n      return;\n    }\n    const activeElement = this._getActive();\n    const isNext = order === ORDER_NEXT;\n    const nextElement = element || getNextActiveElement(this._getItems(), activeElement, isNext, this._config.wrap);\n    if (nextElement === activeElement) {\n      return;\n    }\n    const nextElementIndex = this._getItemIndex(nextElement);\n    const triggerEvent = eventName => {\n      return EventHandler.trigger(this._element, eventName, {\n        relatedTarget: nextElement,\n        direction: this._orderToDirection(order),\n        from: this._getItemIndex(activeElement),\n        to: nextElementIndex\n      });\n    };\n    const slideEvent = triggerEvent(EVENT_SLIDE);\n    if (slideEvent.defaultPrevented) {\n      return;\n    }\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      // TODO: change tests that use empty divs to avoid this check\n      return;\n    }\n    const isCycling = Boolean(this._interval);\n    this.pause();\n    this._isSliding = true;\n    this._setActiveIndicatorElement(nextElementIndex);\n    this._activeElement = nextElement;\n    const directionalClassName = isNext ? CLASS_NAME_START : CLASS_NAME_END;\n    const orderClassName = isNext ? CLASS_NAME_NEXT : CLASS_NAME_PREV;\n    nextElement.classList.add(orderClassName);\n    reflow(nextElement);\n    activeElement.classList.add(directionalClassName);\n    nextElement.classList.add(directionalClassName);\n    const completeCallBack = () => {\n      nextElement.classList.remove(directionalClassName, orderClassName);\n      nextElement.classList.add(CLASS_NAME_ACTIVE$2);\n      activeElement.classList.remove(CLASS_NAME_ACTIVE$2, orderClassName, directionalClassName);\n      this._isSliding = false;\n      triggerEvent(EVENT_SLID);\n    };\n    this._queueCallback(completeCallBack, activeElement, this._isAnimated());\n    if (isCycling) {\n      this.cycle();\n    }\n  }\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_SLIDE);\n  }\n  _getActive() {\n    return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM, this._element);\n  }\n  _getItems() {\n    return SelectorEngine.find(SELECTOR_ITEM, this._element);\n  }\n  _clearInterval() {\n    if (this._interval) {\n      clearInterval(this._interval);\n      this._interval = null;\n    }\n  }\n  _directionToOrder(direction) {\n    if (isRTL()) {\n      return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT;\n    }\n    return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV;\n  }\n  _orderToDirection(order) {\n    if (isRTL()) {\n      return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT;\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Carousel.getOrCreateInstance(this, config);\n      if (typeof config === 'number') {\n        data.to(config);\n        return;\n      }\n      if (typeof config === 'string') {\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      }\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$5, SELECTOR_DATA_SLIDE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this);\n  if (!target || !target.classList.contains(CLASS_NAME_CAROUSEL)) {\n    return;\n  }\n  event.preventDefault();\n  const carousel = Carousel.getOrCreateInstance(target);\n  const slideIndex = this.getAttribute('data-bs-slide-to');\n  if (slideIndex) {\n    carousel.to(slideIndex);\n    carousel._maybeEnableCycle();\n    return;\n  }\n  if (Manipulator.getDataAttribute(this, 'slide') === 'next') {\n    carousel.next();\n    carousel._maybeEnableCycle();\n    return;\n  }\n  carousel.prev();\n  carousel._maybeEnableCycle();\n});\nEventHandler.on(window, EVENT_LOAD_DATA_API$3, () => {\n  const carousels = SelectorEngine.find(SELECTOR_DATA_RIDE);\n  for (const carousel of carousels) {\n    Carousel.getOrCreateInstance(carousel);\n  }\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Carousel);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$b = 'collapse';\nconst DATA_KEY$7 = 'bs.collapse';\nconst EVENT_KEY$7 = `.${DATA_KEY$7}`;\nconst DATA_API_KEY$4 = '.data-api';\nconst EVENT_SHOW$6 = `show${EVENT_KEY$7}`;\nconst EVENT_SHOWN$6 = `shown${EVENT_KEY$7}`;\nconst EVENT_HIDE$6 = `hide${EVENT_KEY$7}`;\nconst EVENT_HIDDEN$6 = `hidden${EVENT_KEY$7}`;\nconst EVENT_CLICK_DATA_API$4 = `click${EVENT_KEY$7}${DATA_API_KEY$4}`;\nconst CLASS_NAME_SHOW$7 = 'show';\nconst CLASS_NAME_COLLAPSE = 'collapse';\nconst CLASS_NAME_COLLAPSING = 'collapsing';\nconst CLASS_NAME_COLLAPSED = 'collapsed';\nconst CLASS_NAME_DEEPER_CHILDREN = `:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`;\nconst CLASS_NAME_HORIZONTAL = 'collapse-horizontal';\nconst WIDTH = 'width';\nconst HEIGHT = 'height';\nconst SELECTOR_ACTIVES = '.collapse.show, .collapse.collapsing';\nconst SELECTOR_DATA_TOGGLE$4 = '[data-bs-toggle=\"collapse\"]';\nconst Default$a = {\n  parent: null,\n  toggle: true\n};\nconst DefaultType$a = {\n  parent: '(null|element)',\n  toggle: 'boolean'\n};\n\n/**\n * Class definition\n */\n\nclass Collapse extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._isTransitioning = false;\n    this._triggerArray = [];\n    const toggleList = SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);\n    for (const elem of toggleList) {\n      const selector = SelectorEngine.getSelectorFromElement(elem);\n      const filterElement = SelectorEngine.find(selector).filter(foundElement => foundElement === this._element);\n      if (selector !== null && filterElement.length) {\n        this._triggerArray.push(elem);\n      }\n    }\n    this._initializeChildren();\n    if (!this._config.parent) {\n      this._addAriaAndCollapsedClass(this._triggerArray, this._isShown());\n    }\n    if (this._config.toggle) {\n      this.toggle();\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default$a;\n  }\n  static get DefaultType() {\n    return DefaultType$a;\n  }\n  static get NAME() {\n    return NAME$b;\n  }\n\n  // Public\n  toggle() {\n    if (this._isShown()) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n  show() {\n    if (this._isTransitioning || this._isShown()) {\n      return;\n    }\n    let activeChildren = [];\n\n    // find active children\n    if (this._config.parent) {\n      activeChildren = this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(element => element !== this._element).map(element => Collapse.getOrCreateInstance(element, {\n        toggle: false\n      }));\n    }\n    if (activeChildren.length && activeChildren[0]._isTransitioning) {\n      return;\n    }\n    const startEvent = EventHandler.trigger(this._element, EVENT_SHOW$6);\n    if (startEvent.defaultPrevented) {\n      return;\n    }\n    for (const activeInstance of activeChildren) {\n      activeInstance.hide();\n    }\n    const dimension = this._getDimension();\n    this._element.classList.remove(CLASS_NAME_COLLAPSE);\n    this._element.classList.add(CLASS_NAME_COLLAPSING);\n    this._element.style[dimension] = 0;\n    this._addAriaAndCollapsedClass(this._triggerArray, true);\n    this._isTransitioning = true;\n    const complete = () => {\n      this._isTransitioning = false;\n      this._element.classList.remove(CLASS_NAME_COLLAPSING);\n      this._element.classList.add(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);\n      this._element.style[dimension] = '';\n      EventHandler.trigger(this._element, EVENT_SHOWN$6);\n    };\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);\n    const scrollSize = `scroll${capitalizedDimension}`;\n    this._queueCallback(complete, this._element, true);\n    this._element.style[dimension] = `${this._element[scrollSize]}px`;\n  }\n  hide() {\n    if (this._isTransitioning || !this._isShown()) {\n      return;\n    }\n    const startEvent = EventHandler.trigger(this._element, EVENT_HIDE$6);\n    if (startEvent.defaultPrevented) {\n      return;\n    }\n    const dimension = this._getDimension();\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`;\n    reflow(this._element);\n    this._element.classList.add(CLASS_NAME_COLLAPSING);\n    this._element.classList.remove(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);\n    for (const trigger of this._triggerArray) {\n      const element = SelectorEngine.getElementFromSelector(trigger);\n      if (element && !this._isShown(element)) {\n        this._addAriaAndCollapsedClass([trigger], false);\n      }\n    }\n    this._isTransitioning = true;\n    const complete = () => {\n      this._isTransitioning = false;\n      this._element.classList.remove(CLASS_NAME_COLLAPSING);\n      this._element.classList.add(CLASS_NAME_COLLAPSE);\n      EventHandler.trigger(this._element, EVENT_HIDDEN$6);\n    };\n    this._element.style[dimension] = '';\n    this._queueCallback(complete, this._element, true);\n  }\n\n  // Private\n  _isShown(element = this._element) {\n    return element.classList.contains(CLASS_NAME_SHOW$7);\n  }\n  _configAfterMerge(config) {\n    config.toggle = Boolean(config.toggle); // Coerce string values\n    config.parent = getElement(config.parent);\n    return config;\n  }\n  _getDimension() {\n    return this._element.classList.contains(CLASS_NAME_HORIZONTAL) ? WIDTH : HEIGHT;\n  }\n  _initializeChildren() {\n    if (!this._config.parent) {\n      return;\n    }\n    const children = this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);\n    for (const element of children) {\n      const selected = SelectorEngine.getElementFromSelector(element);\n      if (selected) {\n        this._addAriaAndCollapsedClass([element], this._isShown(selected));\n      }\n    }\n  }\n  _getFirstLevelChildren(selector) {\n    const children = SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN, this._config.parent);\n    // remove children if greater depth\n    return SelectorEngine.find(selector, this._config.parent).filter(element => !children.includes(element));\n  }\n  _addAriaAndCollapsedClass(triggerArray, isOpen) {\n    if (!triggerArray.length) {\n      return;\n    }\n    for (const element of triggerArray) {\n      element.classList.toggle(CLASS_NAME_COLLAPSED, !isOpen);\n      element.setAttribute('aria-expanded', isOpen);\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    const _config = {};\n    if (typeof config === 'string' && /show|hide/.test(config)) {\n      _config.toggle = false;\n    }\n    return this.each(function () {\n      const data = Collapse.getOrCreateInstance(this, _config);\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      }\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$4, SELECTOR_DATA_TOGGLE$4, function (event) {\n  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n  if (event.target.tagName === 'A' || event.delegateTarget && event.delegateTarget.tagName === 'A') {\n    event.preventDefault();\n  }\n  for (const element of SelectorEngine.getMultipleElementsFromSelector(this)) {\n    Collapse.getOrCreateInstance(element, {\n      toggle: false\n    }).toggle();\n  }\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Collapse);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$a = 'dropdown';\nconst DATA_KEY$6 = 'bs.dropdown';\nconst EVENT_KEY$6 = `.${DATA_KEY$6}`;\nconst DATA_API_KEY$3 = '.data-api';\nconst ESCAPE_KEY$2 = 'Escape';\nconst TAB_KEY$1 = 'Tab';\nconst ARROW_UP_KEY$1 = 'ArrowUp';\nconst ARROW_DOWN_KEY$1 = 'ArrowDown';\nconst RIGHT_MOUSE_BUTTON = 2; // MouseEvent.button value for the secondary button, usually the right button\n\nconst EVENT_HIDE$5 = `hide${EVENT_KEY$6}`;\nconst EVENT_HIDDEN$5 = `hidden${EVENT_KEY$6}`;\nconst EVENT_SHOW$5 = `show${EVENT_KEY$6}`;\nconst EVENT_SHOWN$5 = `shown${EVENT_KEY$6}`;\nconst EVENT_CLICK_DATA_API$3 = `click${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst CLASS_NAME_SHOW$6 = 'show';\nconst CLASS_NAME_DROPUP = 'dropup';\nconst CLASS_NAME_DROPEND = 'dropend';\nconst CLASS_NAME_DROPSTART = 'dropstart';\nconst CLASS_NAME_DROPUP_CENTER = 'dropup-center';\nconst CLASS_NAME_DROPDOWN_CENTER = 'dropdown-center';\nconst SELECTOR_DATA_TOGGLE$3 = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)';\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`;\nconst SELECTOR_MENU = '.dropdown-menu';\nconst SELECTOR_NAVBAR = '.navbar';\nconst SELECTOR_NAVBAR_NAV = '.navbar-nav';\nconst SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';\nconst PLACEMENT_TOP = isRTL() ? 'top-end' : 'top-start';\nconst PLACEMENT_TOPEND = isRTL() ? 'top-start' : 'top-end';\nconst PLACEMENT_BOTTOM = isRTL() ? 'bottom-end' : 'bottom-start';\nconst PLACEMENT_BOTTOMEND = isRTL() ? 'bottom-start' : 'bottom-end';\nconst PLACEMENT_RIGHT = isRTL() ? 'left-start' : 'right-start';\nconst PLACEMENT_LEFT = isRTL() ? 'right-start' : 'left-start';\nconst PLACEMENT_TOPCENTER = 'top';\nconst PLACEMENT_BOTTOMCENTER = 'bottom';\nconst Default$9 = {\n  autoClose: true,\n  boundary: 'clippingParents',\n  display: 'dynamic',\n  offset: [0, 2],\n  popperConfig: null,\n  reference: 'toggle'\n};\nconst DefaultType$9 = {\n  autoClose: '(boolean|string)',\n  boundary: '(string|element)',\n  display: 'string',\n  offset: '(array|string|function)',\n  popperConfig: '(null|object|function)',\n  reference: '(string|element|object)'\n};\n\n/**\n * Class definition\n */\n\nclass Dropdown extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._popper = null;\n    this._parent = this._element.parentNode; // dropdown wrapper\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] || SelectorEngine.prev(this._element, SELECTOR_MENU)[0] || SelectorEngine.findOne(SELECTOR_MENU, this._parent);\n    this._inNavbar = this._detectNavbar();\n  }\n\n  // Getters\n  static get Default() {\n    return Default$9;\n  }\n  static get DefaultType() {\n    return DefaultType$9;\n  }\n  static get NAME() {\n    return NAME$a;\n  }\n\n  // Public\n  toggle() {\n    return this._isShown() ? this.hide() : this.show();\n  }\n  show() {\n    if (isDisabled(this._element) || this._isShown()) {\n      return;\n    }\n    const relatedTarget = {\n      relatedTarget: this._element\n    };\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$5, relatedTarget);\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n    this._createPopper();\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop);\n      }\n    }\n    this._element.focus();\n    this._element.setAttribute('aria-expanded', true);\n    this._menu.classList.add(CLASS_NAME_SHOW$6);\n    this._element.classList.add(CLASS_NAME_SHOW$6);\n    EventHandler.trigger(this._element, EVENT_SHOWN$5, relatedTarget);\n  }\n  hide() {\n    if (isDisabled(this._element) || !this._isShown()) {\n      return;\n    }\n    const relatedTarget = {\n      relatedTarget: this._element\n    };\n    this._completeHide(relatedTarget);\n  }\n  dispose() {\n    if (this._popper) {\n      this._popper.destroy();\n    }\n    super.dispose();\n  }\n  update() {\n    this._inNavbar = this._detectNavbar();\n    if (this._popper) {\n      this._popper.update();\n    }\n  }\n\n  // Private\n  _completeHide(relatedTarget) {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$5, relatedTarget);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop);\n      }\n    }\n    if (this._popper) {\n      this._popper.destroy();\n    }\n    this._menu.classList.remove(CLASS_NAME_SHOW$6);\n    this._element.classList.remove(CLASS_NAME_SHOW$6);\n    this._element.setAttribute('aria-expanded', 'false');\n    Manipulator.removeDataAttribute(this._menu, 'popper');\n    EventHandler.trigger(this._element, EVENT_HIDDEN$5, relatedTarget);\n\n    // Explicitly return focus to the trigger element\n    this._element.focus();\n  }\n  _getConfig(config) {\n    config = super._getConfig(config);\n    if (typeof config.reference === 'object' && !isElement(config.reference) && typeof config.reference.getBoundingClientRect !== 'function') {\n      // Popper virtual elements require a getBoundingClientRect method\n      throw new TypeError(`${NAME$a.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`);\n    }\n    return config;\n  }\n  _createPopper() {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s dropdowns require Popper (https://popper.js.org/docs/v2/)');\n    }\n    let referenceElement = this._element;\n    if (this._config.reference === 'parent') {\n      referenceElement = this._parent;\n    } else if (isElement(this._config.reference)) {\n      referenceElement = getElement(this._config.reference);\n    } else if (typeof this._config.reference === 'object') {\n      referenceElement = this._config.reference;\n    }\n    const popperConfig = this._getPopperConfig();\n    this._popper = Popper.createPopper(referenceElement, this._menu, popperConfig);\n  }\n  _isShown() {\n    return this._menu.classList.contains(CLASS_NAME_SHOW$6);\n  }\n  _getPlacement() {\n    const parentDropdown = this._parent;\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPEND)) {\n      return PLACEMENT_RIGHT;\n    }\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPSTART)) {\n      return PLACEMENT_LEFT;\n    }\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP_CENTER)) {\n      return PLACEMENT_TOPCENTER;\n    }\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPDOWN_CENTER)) {\n      return PLACEMENT_BOTTOMCENTER;\n    }\n\n    // We need to trim the value because custom properties can also include spaces\n    const isEnd = getComputedStyle(this._menu).getPropertyValue('--bs-position').trim() === 'end';\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP)) {\n      return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP;\n    }\n    return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM;\n  }\n  _detectNavbar() {\n    return this._element.closest(SELECTOR_NAVBAR) !== null;\n  }\n  _getOffset() {\n    const {\n      offset\n    } = this._config;\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10));\n    }\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element);\n    }\n    return offset;\n  }\n  _getPopperConfig() {\n    const defaultBsPopperConfig = {\n      placement: this._getPlacement(),\n      modifiers: [{\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      }, {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }]\n    };\n\n    // Disable Popper if we have a static display or Dropdown is in Navbar\n    if (this._inNavbar || this._config.display === 'static') {\n      Manipulator.setDataAttribute(this._menu, 'popper', 'static'); // TODO: v6 remove\n      defaultBsPopperConfig.modifiers = [{\n        name: 'applyStyles',\n        enabled: false\n      }];\n    }\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [undefined, defaultBsPopperConfig])\n    };\n  }\n  _selectMenuItem({\n    key,\n    target\n  }) {\n    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element));\n    if (!items.length) {\n      return;\n    }\n\n    // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY$1, !items.includes(target)).focus();\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Dropdown.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || event.type === 'keyup' && event.key !== TAB_KEY$1) {\n      return;\n    }\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);\n    for (const toggle of openToggles) {\n      const context = Dropdown.getInstance(toggle);\n      if (!context || context._config.autoClose === false) {\n        continue;\n      }\n      const composedPath = event.composedPath();\n      const isMenuTarget = composedPath.includes(context._menu);\n      if (composedPath.includes(context._element) || context._config.autoClose === 'inside' && !isMenuTarget || context._config.autoClose === 'outside' && isMenuTarget) {\n        continue;\n      }\n\n      // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n      if (context._menu.contains(event.target) && (event.type === 'keyup' && event.key === TAB_KEY$1 || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n        continue;\n      }\n      const relatedTarget = {\n        relatedTarget: context._element\n      };\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event;\n      }\n      context._completeHide(relatedTarget);\n    }\n  }\n  static dataApiKeydownHandler(event) {\n    // If not an UP | DOWN | ESCAPE key => not a dropdown command\n    // If input/textarea && if key is other than ESCAPE => not a dropdown command\n\n    const isInput = /input|textarea/i.test(event.target.tagName);\n    const isEscapeEvent = event.key === ESCAPE_KEY$2;\n    const isUpOrDownEvent = [ARROW_UP_KEY$1, ARROW_DOWN_KEY$1].includes(event.key);\n    if (!isUpOrDownEvent && !isEscapeEvent) {\n      return;\n    }\n    if (isInput && !isEscapeEvent) {\n      return;\n    }\n    event.preventDefault();\n\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE$3) ? this : SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.next(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3, event.delegateTarget.parentNode);\n    const instance = Dropdown.getOrCreateInstance(getToggleButton);\n    if (isUpOrDownEvent) {\n      event.stopPropagation();\n      instance.show();\n      instance._selectMenuItem(event);\n      return;\n    }\n    if (instance._isShown()) {\n      // else is escape and we check if it is shown\n      event.stopPropagation();\n      instance.hide();\n      getToggleButton.focus();\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$3, Dropdown.dataApiKeydownHandler);\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler);\nEventHandler.on(document, EVENT_CLICK_DATA_API$3, Dropdown.clearMenus);\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus);\nEventHandler.on(document, EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$3, function (event) {\n  event.preventDefault();\n  Dropdown.getOrCreateInstance(this).toggle();\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Dropdown);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/backdrop.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$9 = 'backdrop';\nconst CLASS_NAME_FADE$4 = 'fade';\nconst CLASS_NAME_SHOW$5 = 'show';\nconst EVENT_MOUSEDOWN = `mousedown.bs.${NAME$9}`;\nconst Default$8 = {\n  className: 'modal-backdrop',\n  clickCallback: null,\n  isAnimated: false,\n  isVisible: true,\n  // if false, we use the backdrop helper without adding any element to the dom\n  rootElement: 'body' // give the choice to place backdrop under different elements\n};\nconst DefaultType$8 = {\n  className: 'string',\n  clickCallback: '(function|null)',\n  isAnimated: 'boolean',\n  isVisible: 'boolean',\n  rootElement: '(element|string)'\n};\n\n/**\n * Class definition\n */\n\nclass Backdrop extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n    this._isAppended = false;\n    this._element = null;\n  }\n\n  // Getters\n  static get Default() {\n    return Default$8;\n  }\n  static get DefaultType() {\n    return DefaultType$8;\n  }\n  static get NAME() {\n    return NAME$9;\n  }\n\n  // Public\n  show(callback) {\n    if (!this._config.isVisible) {\n      execute(callback);\n      return;\n    }\n    this._append();\n    const element = this._getElement();\n    if (this._config.isAnimated) {\n      reflow(element);\n    }\n    element.classList.add(CLASS_NAME_SHOW$5);\n    this._emulateAnimation(() => {\n      execute(callback);\n    });\n  }\n  hide(callback) {\n    if (!this._config.isVisible) {\n      execute(callback);\n      return;\n    }\n    this._getElement().classList.remove(CLASS_NAME_SHOW$5);\n    this._emulateAnimation(() => {\n      this.dispose();\n      execute(callback);\n    });\n  }\n  dispose() {\n    if (!this._isAppended) {\n      return;\n    }\n    EventHandler.off(this._element, EVENT_MOUSEDOWN);\n    this._element.remove();\n    this._isAppended = false;\n  }\n\n  // Private\n  _getElement() {\n    if (!this._element) {\n      const backdrop = document.createElement('div');\n      backdrop.className = this._config.className;\n      if (this._config.isAnimated) {\n        backdrop.classList.add(CLASS_NAME_FADE$4);\n      }\n      this._element = backdrop;\n    }\n    return this._element;\n  }\n  _configAfterMerge(config) {\n    // use getElement() with the default \"body\" to get a fresh Element on each instantiation\n    config.rootElement = getElement(config.rootElement);\n    return config;\n  }\n  _append() {\n    if (this._isAppended) {\n      return;\n    }\n    const element = this._getElement();\n    this._config.rootElement.append(element);\n    EventHandler.on(element, EVENT_MOUSEDOWN, () => {\n      execute(this._config.clickCallback);\n    });\n    this._isAppended = true;\n  }\n  _emulateAnimation(callback) {\n    executeAfterTransition(callback, this._getElement(), this._config.isAnimated);\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/focustrap.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$8 = 'focustrap';\nconst DATA_KEY$5 = 'bs.focustrap';\nconst EVENT_KEY$5 = `.${DATA_KEY$5}`;\nconst EVENT_FOCUSIN$2 = `focusin${EVENT_KEY$5}`;\nconst EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY$5}`;\nconst TAB_KEY = 'Tab';\nconst TAB_NAV_FORWARD = 'forward';\nconst TAB_NAV_BACKWARD = 'backward';\nconst Default$7 = {\n  autofocus: true,\n  trapElement: null // The element to trap focus inside of\n};\nconst DefaultType$7 = {\n  autofocus: 'boolean',\n  trapElement: 'element'\n};\n\n/**\n * Class definition\n */\n\nclass FocusTrap extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n    this._isActive = false;\n    this._lastTabNavDirection = null;\n  }\n\n  // Getters\n  static get Default() {\n    return Default$7;\n  }\n  static get DefaultType() {\n    return DefaultType$7;\n  }\n  static get NAME() {\n    return NAME$8;\n  }\n\n  // Public\n  activate() {\n    if (this._isActive) {\n      return;\n    }\n    if (this._config.autofocus) {\n      this._config.trapElement.focus();\n    }\n    EventHandler.off(document, EVENT_KEY$5); // guard against infinite focus loop\n    EventHandler.on(document, EVENT_FOCUSIN$2, event => this._handleFocusin(event));\n    EventHandler.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event));\n    this._isActive = true;\n  }\n  deactivate() {\n    if (!this._isActive) {\n      return;\n    }\n    this._isActive = false;\n    EventHandler.off(document, EVENT_KEY$5);\n  }\n\n  // Private\n  _handleFocusin(event) {\n    const {\n      trapElement\n    } = this._config;\n    if (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {\n      return;\n    }\n    const elements = SelectorEngine.focusableChildren(trapElement);\n    if (elements.length === 0) {\n      trapElement.focus();\n    } else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {\n      elements[elements.length - 1].focus();\n    } else {\n      elements[0].focus();\n    }\n  }\n  _handleKeydown(event) {\n    if (event.key !== TAB_KEY) {\n      return;\n    }\n    this._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD;\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/scrollBar.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\nconst SELECTOR_STICKY_CONTENT = '.sticky-top';\nconst PROPERTY_PADDING = 'padding-right';\nconst PROPERTY_MARGIN = 'margin-right';\n\n/**\n * Class definition\n */\n\nclass ScrollBarHelper {\n  constructor() {\n    this._element = document.body;\n  }\n\n  // Public\n  getWidth() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes\n    const documentWidth = document.documentElement.clientWidth;\n    return Math.abs(window.innerWidth - documentWidth);\n  }\n  hide() {\n    const width = this.getWidth();\n    this._disableOverFlow();\n    // give padding to element to balance the hidden scrollbar width\n    this._setElementAttributes(this._element, PROPERTY_PADDING, calculatedValue => calculatedValue + width);\n    // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth\n    this._setElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING, calculatedValue => calculatedValue + width);\n    this._setElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN, calculatedValue => calculatedValue - width);\n  }\n  reset() {\n    this._resetElementAttributes(this._element, 'overflow');\n    this._resetElementAttributes(this._element, PROPERTY_PADDING);\n    this._resetElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING);\n    this._resetElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN);\n  }\n  isOverflowing() {\n    return this.getWidth() > 0;\n  }\n\n  // Private\n  _disableOverFlow() {\n    this._saveInitialAttribute(this._element, 'overflow');\n    this._element.style.overflow = 'hidden';\n  }\n  _setElementAttributes(selector, styleProperty, callback) {\n    const scrollbarWidth = this.getWidth();\n    const manipulationCallBack = element => {\n      if (element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth) {\n        return;\n      }\n      this._saveInitialAttribute(element, styleProperty);\n      const calculatedValue = window.getComputedStyle(element).getPropertyValue(styleProperty);\n      element.style.setProperty(styleProperty, `${callback(Number.parseFloat(calculatedValue))}px`);\n    };\n    this._applyManipulationCallback(selector, manipulationCallBack);\n  }\n  _saveInitialAttribute(element, styleProperty) {\n    const actualValue = element.style.getPropertyValue(styleProperty);\n    if (actualValue) {\n      Manipulator.setDataAttribute(element, styleProperty, actualValue);\n    }\n  }\n  _resetElementAttributes(selector, styleProperty) {\n    const manipulationCallBack = element => {\n      const value = Manipulator.getDataAttribute(element, styleProperty);\n      // We only want to remove the property if the value is `null`; the value can also be zero\n      if (value === null) {\n        element.style.removeProperty(styleProperty);\n        return;\n      }\n      Manipulator.removeDataAttribute(element, styleProperty);\n      element.style.setProperty(styleProperty, value);\n    };\n    this._applyManipulationCallback(selector, manipulationCallBack);\n  }\n  _applyManipulationCallback(selector, callBack) {\n    if (isElement(selector)) {\n      callBack(selector);\n      return;\n    }\n    for (const sel of SelectorEngine.find(selector, this._element)) {\n      callBack(sel);\n    }\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap modal.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$7 = 'modal';\nconst DATA_KEY$4 = 'bs.modal';\nconst EVENT_KEY$4 = `.${DATA_KEY$4}`;\nconst DATA_API_KEY$2 = '.data-api';\nconst ESCAPE_KEY$1 = 'Escape';\nconst EVENT_HIDE$4 = `hide${EVENT_KEY$4}`;\nconst EVENT_HIDE_PREVENTED$1 = `hidePrevented${EVENT_KEY$4}`;\nconst EVENT_HIDDEN$4 = `hidden${EVENT_KEY$4}`;\nconst EVENT_SHOW$4 = `show${EVENT_KEY$4}`;\nconst EVENT_SHOWN$4 = `shown${EVENT_KEY$4}`;\nconst EVENT_RESIZE$1 = `resize${EVENT_KEY$4}`;\nconst EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY$4}`;\nconst EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY$4}`;\nconst EVENT_KEYDOWN_DISMISS$1 = `keydown.dismiss${EVENT_KEY$4}`;\nconst EVENT_CLICK_DATA_API$2 = `click${EVENT_KEY$4}${DATA_API_KEY$2}`;\nconst CLASS_NAME_OPEN = 'modal-open';\nconst CLASS_NAME_FADE$3 = 'fade';\nconst CLASS_NAME_SHOW$4 = 'show';\nconst CLASS_NAME_STATIC = 'modal-static';\nconst OPEN_SELECTOR$1 = '.modal.show';\nconst SELECTOR_DIALOG = '.modal-dialog';\nconst SELECTOR_MODAL_BODY = '.modal-body';\nconst SELECTOR_DATA_TOGGLE$2 = '[data-bs-toggle=\"modal\"]';\nconst Default$6 = {\n  backdrop: true,\n  focus: true,\n  keyboard: true\n};\nconst DefaultType$6 = {\n  backdrop: '(boolean|string)',\n  focus: 'boolean',\n  keyboard: 'boolean'\n};\n\n/**\n * Class definition\n */\n\nclass Modal extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element);\n    this._backdrop = this._initializeBackDrop();\n    this._focustrap = this._initializeFocusTrap();\n    this._isShown = false;\n    this._isTransitioning = false;\n    this._scrollBar = new ScrollBarHelper();\n    this._addEventListeners();\n  }\n\n  // Getters\n  static get Default() {\n    return Default$6;\n  }\n  static get DefaultType() {\n    return DefaultType$6;\n  }\n  static get NAME() {\n    return NAME$7;\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget);\n  }\n  show(relatedTarget) {\n    if (this._isShown || this._isTransitioning) {\n      return;\n    }\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$4, {\n      relatedTarget\n    });\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n    this._isShown = true;\n    this._isTransitioning = true;\n    this._scrollBar.hide();\n    document.body.classList.add(CLASS_NAME_OPEN);\n    this._adjustDialog();\n    this._backdrop.show(() => this._showElement(relatedTarget));\n  }\n  hide() {\n    if (!this._isShown || this._isTransitioning) {\n      return;\n    }\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$4);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    this._isShown = false;\n    this._isTransitioning = true;\n    this._focustrap.deactivate();\n    this._element.classList.remove(CLASS_NAME_SHOW$4);\n    this._queueCallback(() => this._hideModal(), this._element, this._isAnimated());\n  }\n  dispose() {\n    EventHandler.off(window, EVENT_KEY$4);\n    EventHandler.off(this._dialog, EVENT_KEY$4);\n    this._backdrop.dispose();\n    this._focustrap.deactivate();\n    super.dispose();\n  }\n  handleUpdate() {\n    this._adjustDialog();\n  }\n\n  // Private\n  _initializeBackDrop() {\n    return new Backdrop({\n      isVisible: Boolean(this._config.backdrop),\n      // 'static' option will be translated to true, and booleans will keep their value,\n      isAnimated: this._isAnimated()\n    });\n  }\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    });\n  }\n  _showElement(relatedTarget) {\n    // try to append dynamic modal\n    if (!document.body.contains(this._element)) {\n      document.body.append(this._element);\n    }\n    this._element.style.display = 'block';\n    this._element.removeAttribute('aria-hidden');\n    this._element.setAttribute('aria-modal', true);\n    this._element.setAttribute('role', 'dialog');\n    this._element.scrollTop = 0;\n    const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog);\n    if (modalBody) {\n      modalBody.scrollTop = 0;\n    }\n    reflow(this._element);\n    this._element.classList.add(CLASS_NAME_SHOW$4);\n    const transitionComplete = () => {\n      if (this._config.focus) {\n        this._focustrap.activate();\n      }\n      this._isTransitioning = false;\n      EventHandler.trigger(this._element, EVENT_SHOWN$4, {\n        relatedTarget\n      });\n    };\n    this._queueCallback(transitionComplete, this._dialog, this._isAnimated());\n  }\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS$1, event => {\n      if (event.key !== ESCAPE_KEY$1) {\n        return;\n      }\n      if (this._config.keyboard) {\n        this.hide();\n        return;\n      }\n      this._triggerBackdropTransition();\n    });\n    EventHandler.on(window, EVENT_RESIZE$1, () => {\n      if (this._isShown && !this._isTransitioning) {\n        this._adjustDialog();\n      }\n    });\n    EventHandler.on(this._element, EVENT_MOUSEDOWN_DISMISS, event => {\n      // a bad trick to segregate clicks that may start inside dialog but end outside, and avoid listen to scrollbar clicks\n      EventHandler.one(this._element, EVENT_CLICK_DISMISS, event2 => {\n        if (this._element !== event.target || this._element !== event2.target) {\n          return;\n        }\n        if (this._config.backdrop === 'static') {\n          this._triggerBackdropTransition();\n          return;\n        }\n        if (this._config.backdrop) {\n          this.hide();\n        }\n      });\n    });\n  }\n  _hideModal() {\n    this._element.style.display = 'none';\n    this._element.setAttribute('aria-hidden', true);\n    this._element.removeAttribute('aria-modal');\n    this._element.removeAttribute('role');\n    this._isTransitioning = false;\n    this._backdrop.hide(() => {\n      document.body.classList.remove(CLASS_NAME_OPEN);\n      this._resetAdjustments();\n      this._scrollBar.reset();\n      EventHandler.trigger(this._element, EVENT_HIDDEN$4);\n    });\n  }\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_FADE$3);\n  }\n  _triggerBackdropTransition() {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED$1);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n    const initialOverflowY = this._element.style.overflowY;\n    // return if the following background transition hasn't yet completed\n    if (initialOverflowY === 'hidden' || this._element.classList.contains(CLASS_NAME_STATIC)) {\n      return;\n    }\n    if (!isModalOverflowing) {\n      this._element.style.overflowY = 'hidden';\n    }\n    this._element.classList.add(CLASS_NAME_STATIC);\n    this._queueCallback(() => {\n      this._element.classList.remove(CLASS_NAME_STATIC);\n      this._queueCallback(() => {\n        this._element.style.overflowY = initialOverflowY;\n      }, this._dialog);\n    }, this._dialog);\n    this._element.focus();\n  }\n\n  /**\n   * The following methods are used to handle overflowing modals\n   */\n\n  _adjustDialog() {\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n    const scrollbarWidth = this._scrollBar.getWidth();\n    const isBodyOverflowing = scrollbarWidth > 0;\n    if (isBodyOverflowing && !isModalOverflowing) {\n      const property = isRTL() ? 'paddingLeft' : 'paddingRight';\n      this._element.style[property] = `${scrollbarWidth}px`;\n    }\n    if (!isBodyOverflowing && isModalOverflowing) {\n      const property = isRTL() ? 'paddingRight' : 'paddingLeft';\n      this._element.style[property] = `${scrollbarWidth}px`;\n    }\n  }\n  _resetAdjustments() {\n    this._element.style.paddingLeft = '';\n    this._element.style.paddingRight = '';\n  }\n\n  // Static\n  static jQueryInterface(config, relatedTarget) {\n    return this.each(function () {\n      const data = Modal.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config](relatedTarget);\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$2, SELECTOR_DATA_TOGGLE$2, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this);\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n  EventHandler.one(target, EVENT_SHOW$4, showEvent => {\n    if (showEvent.defaultPrevented) {\n      // only register focus restorer if modal will actually get shown\n      return;\n    }\n    EventHandler.one(target, EVENT_HIDDEN$4, () => {\n      if (isVisible(this)) {\n        this.focus();\n      }\n    });\n  });\n\n  // avoid conflict when clicking modal toggler while another one is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR$1);\n  if (alreadyOpen) {\n    Modal.getInstance(alreadyOpen).hide();\n  }\n  const data = Modal.getOrCreateInstance(target);\n  data.toggle(this);\n});\nenableDismissTrigger(Modal);\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Modal);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap offcanvas.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$6 = 'offcanvas';\nconst DATA_KEY$3 = 'bs.offcanvas';\nconst EVENT_KEY$3 = `.${DATA_KEY$3}`;\nconst DATA_API_KEY$1 = '.data-api';\nconst EVENT_LOAD_DATA_API$2 = `load${EVENT_KEY$3}${DATA_API_KEY$1}`;\nconst ESCAPE_KEY = 'Escape';\nconst CLASS_NAME_SHOW$3 = 'show';\nconst CLASS_NAME_SHOWING$1 = 'showing';\nconst CLASS_NAME_HIDING = 'hiding';\nconst CLASS_NAME_BACKDROP = 'offcanvas-backdrop';\nconst OPEN_SELECTOR = '.offcanvas.show';\nconst EVENT_SHOW$3 = `show${EVENT_KEY$3}`;\nconst EVENT_SHOWN$3 = `shown${EVENT_KEY$3}`;\nconst EVENT_HIDE$3 = `hide${EVENT_KEY$3}`;\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY$3}`;\nconst EVENT_HIDDEN$3 = `hidden${EVENT_KEY$3}`;\nconst EVENT_RESIZE = `resize${EVENT_KEY$3}`;\nconst EVENT_CLICK_DATA_API$1 = `click${EVENT_KEY$3}${DATA_API_KEY$1}`;\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY$3}`;\nconst SELECTOR_DATA_TOGGLE$1 = '[data-bs-toggle=\"offcanvas\"]';\nconst Default$5 = {\n  backdrop: true,\n  keyboard: true,\n  scroll: false\n};\nconst DefaultType$5 = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  scroll: 'boolean'\n};\n\n/**\n * Class definition\n */\n\nclass Offcanvas extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._isShown = false;\n    this._backdrop = this._initializeBackDrop();\n    this._focustrap = this._initializeFocusTrap();\n    this._addEventListeners();\n  }\n\n  // Getters\n  static get Default() {\n    return Default$5;\n  }\n  static get DefaultType() {\n    return DefaultType$5;\n  }\n  static get NAME() {\n    return NAME$6;\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget);\n  }\n  show(relatedTarget) {\n    if (this._isShown) {\n      return;\n    }\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$3, {\n      relatedTarget\n    });\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n    this._isShown = true;\n    this._backdrop.show();\n    if (!this._config.scroll) {\n      new ScrollBarHelper().hide();\n    }\n    this._element.setAttribute('aria-modal', true);\n    this._element.setAttribute('role', 'dialog');\n    this._element.classList.add(CLASS_NAME_SHOWING$1);\n    const completeCallBack = () => {\n      if (!this._config.scroll || this._config.backdrop) {\n        this._focustrap.activate();\n      }\n      this._element.classList.add(CLASS_NAME_SHOW$3);\n      this._element.classList.remove(CLASS_NAME_SHOWING$1);\n      EventHandler.trigger(this._element, EVENT_SHOWN$3, {\n        relatedTarget\n      });\n    };\n    this._queueCallback(completeCallBack, this._element, true);\n  }\n  hide() {\n    if (!this._isShown) {\n      return;\n    }\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$3);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    this._focustrap.deactivate();\n    this._element.blur();\n    this._isShown = false;\n    this._element.classList.add(CLASS_NAME_HIDING);\n    this._backdrop.hide();\n    const completeCallback = () => {\n      this._element.classList.remove(CLASS_NAME_SHOW$3, CLASS_NAME_HIDING);\n      this._element.removeAttribute('aria-modal');\n      this._element.removeAttribute('role');\n      if (!this._config.scroll) {\n        new ScrollBarHelper().reset();\n      }\n      EventHandler.trigger(this._element, EVENT_HIDDEN$3);\n    };\n    this._queueCallback(completeCallback, this._element, true);\n  }\n  dispose() {\n    this._backdrop.dispose();\n    this._focustrap.deactivate();\n    super.dispose();\n  }\n\n  // Private\n  _initializeBackDrop() {\n    const clickCallback = () => {\n      if (this._config.backdrop === 'static') {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);\n        return;\n      }\n      this.hide();\n    };\n\n    // 'static' option will be translated to true, and booleans will keep their value\n    const isVisible = Boolean(this._config.backdrop);\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible,\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: isVisible ? clickCallback : null\n    });\n  }\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    });\n  }\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return;\n      }\n      if (this._config.keyboard) {\n        this.hide();\n        return;\n      }\n      EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);\n    });\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Offcanvas.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config](this);\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE$1, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this);\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n  if (isDisabled(this)) {\n    return;\n  }\n  EventHandler.one(target, EVENT_HIDDEN$3, () => {\n    // focus on trigger when it is closed\n    if (isVisible(this)) {\n      this.focus();\n    }\n  });\n\n  // avoid conflict when clicking a toggler of an offcanvas, while another is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR);\n  if (alreadyOpen && alreadyOpen !== target) {\n    Offcanvas.getInstance(alreadyOpen).hide();\n  }\n  const data = Offcanvas.getOrCreateInstance(target);\n  data.toggle(this);\n});\nEventHandler.on(window, EVENT_LOAD_DATA_API$2, () => {\n  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n    Offcanvas.getOrCreateInstance(selector).show();\n  }\n});\nEventHandler.on(window, EVENT_RESIZE, () => {\n  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n    if (getComputedStyle(element).position !== 'fixed') {\n      Offcanvas.getOrCreateInstance(element).hide();\n    }\n  }\n});\nenableDismissTrigger(Offcanvas);\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Offcanvas);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/sanitizer.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// js-docs-start allow-list\nconst ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\nconst DefaultAllowlist = {\n  // Global attributes allowed on any supplied element below.\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  dd: [],\n  div: [],\n  dl: [],\n  dt: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n};\n// js-docs-end allow-list\n\nconst uriAttributes = new Set(['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href']);\n\n/**\n * A pattern that recognizes URLs that are safe wrt. XSS in URL navigation\n * contexts.\n *\n * Shout-out to Angular https://github.com/angular/angular/blob/15.2.8/packages/core/src/sanitization/url_sanitizer.ts#L38\n */\nconst SAFE_URL_PATTERN = /^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i;\nconst allowedAttribute = (attribute, allowedAttributeList) => {\n  const attributeName = attribute.nodeName.toLowerCase();\n  if (allowedAttributeList.includes(attributeName)) {\n    if (uriAttributes.has(attributeName)) {\n      return Boolean(SAFE_URL_PATTERN.test(attribute.nodeValue));\n    }\n    return true;\n  }\n\n  // Check if a regular expression validates the attribute.\n  return allowedAttributeList.filter(attributeRegex => attributeRegex instanceof RegExp).some(regex => regex.test(attributeName));\n};\nfunction sanitizeHtml(unsafeHtml, allowList, sanitizeFunction) {\n  if (!unsafeHtml.length) {\n    return unsafeHtml;\n  }\n  if (sanitizeFunction && typeof sanitizeFunction === 'function') {\n    return sanitizeFunction(unsafeHtml);\n  }\n  const domParser = new window.DOMParser();\n  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');\n  const elements = [].concat(...createdDocument.body.querySelectorAll('*'));\n  for (const element of elements) {\n    const elementName = element.nodeName.toLowerCase();\n    if (!Object.keys(allowList).includes(elementName)) {\n      element.remove();\n      continue;\n    }\n    const attributeList = [].concat(...element.attributes);\n    const allowedAttributes = [].concat(allowList['*'] || [], allowList[elementName] || []);\n    for (const attribute of attributeList) {\n      if (!allowedAttribute(attribute, allowedAttributes)) {\n        element.removeAttribute(attribute.nodeName);\n      }\n    }\n  }\n  return createdDocument.body.innerHTML;\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap util/template-factory.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$5 = 'TemplateFactory';\nconst Default$4 = {\n  allowList: DefaultAllowlist,\n  content: {},\n  // { selector : text ,  selector2 : text2 , }\n  extraClass: '',\n  html: false,\n  sanitize: true,\n  sanitizeFn: null,\n  template: '<div></div>'\n};\nconst DefaultType$4 = {\n  allowList: 'object',\n  content: 'object',\n  extraClass: '(string|function)',\n  html: 'boolean',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  template: 'string'\n};\nconst DefaultContentType = {\n  entry: '(string|element|function|null)',\n  selector: '(string|element)'\n};\n\n/**\n * Class definition\n */\n\nclass TemplateFactory extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n  }\n\n  // Getters\n  static get Default() {\n    return Default$4;\n  }\n  static get DefaultType() {\n    return DefaultType$4;\n  }\n  static get NAME() {\n    return NAME$5;\n  }\n\n  // Public\n  getContent() {\n    return Object.values(this._config.content).map(config => this._resolvePossibleFunction(config)).filter(Boolean);\n  }\n  hasContent() {\n    return this.getContent().length > 0;\n  }\n  changeContent(content) {\n    this._checkContent(content);\n    this._config.content = {\n      ...this._config.content,\n      ...content\n    };\n    return this;\n  }\n  toHtml() {\n    const templateWrapper = document.createElement('div');\n    templateWrapper.innerHTML = this._maybeSanitize(this._config.template);\n    for (const [selector, text] of Object.entries(this._config.content)) {\n      this._setContent(templateWrapper, text, selector);\n    }\n    const template = templateWrapper.children[0];\n    const extraClass = this._resolvePossibleFunction(this._config.extraClass);\n    if (extraClass) {\n      template.classList.add(...extraClass.split(' '));\n    }\n    return template;\n  }\n\n  // Private\n  _typeCheckConfig(config) {\n    super._typeCheckConfig(config);\n    this._checkContent(config.content);\n  }\n  _checkContent(arg) {\n    for (const [selector, content] of Object.entries(arg)) {\n      super._typeCheckConfig({\n        selector,\n        entry: content\n      }, DefaultContentType);\n    }\n  }\n  _setContent(template, content, selector) {\n    const templateElement = SelectorEngine.findOne(selector, template);\n    if (!templateElement) {\n      return;\n    }\n    content = this._resolvePossibleFunction(content);\n    if (!content) {\n      templateElement.remove();\n      return;\n    }\n    if (isElement(content)) {\n      this._putElementInTemplate(getElement(content), templateElement);\n      return;\n    }\n    if (this._config.html) {\n      templateElement.innerHTML = this._maybeSanitize(content);\n      return;\n    }\n    templateElement.textContent = content;\n  }\n  _maybeSanitize(arg) {\n    return this._config.sanitize ? sanitizeHtml(arg, this._config.allowList, this._config.sanitizeFn) : arg;\n  }\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [undefined, this]);\n  }\n  _putElementInTemplate(element, templateElement) {\n    if (this._config.html) {\n      templateElement.innerHTML = '';\n      templateElement.append(element);\n      return;\n    }\n    templateElement.textContent = element.textContent;\n  }\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$4 = 'tooltip';\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn']);\nconst CLASS_NAME_FADE$2 = 'fade';\nconst CLASS_NAME_MODAL = 'modal';\nconst CLASS_NAME_SHOW$2 = 'show';\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner';\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`;\nconst EVENT_MODAL_HIDE = 'hide.bs.modal';\nconst TRIGGER_HOVER = 'hover';\nconst TRIGGER_FOCUS = 'focus';\nconst TRIGGER_CLICK = 'click';\nconst TRIGGER_MANUAL = 'manual';\nconst EVENT_HIDE$2 = 'hide';\nconst EVENT_HIDDEN$2 = 'hidden';\nconst EVENT_SHOW$2 = 'show';\nconst EVENT_SHOWN$2 = 'shown';\nconst EVENT_INSERTED = 'inserted';\nconst EVENT_CLICK$1 = 'click';\nconst EVENT_FOCUSIN$1 = 'focusin';\nconst EVENT_FOCUSOUT$1 = 'focusout';\nconst EVENT_MOUSEENTER = 'mouseenter';\nconst EVENT_MOUSELEAVE = 'mouseleave';\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n};\nconst Default$3 = {\n  allowList: DefaultAllowlist,\n  animation: true,\n  boundary: 'clippingParents',\n  container: false,\n  customClass: '',\n  delay: 0,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  html: false,\n  offset: [0, 6],\n  placement: 'top',\n  popperConfig: null,\n  sanitize: true,\n  sanitizeFn: null,\n  selector: false,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' + '<div class=\"tooltip-arrow\"></div>' + '<div class=\"tooltip-inner\"></div>' + '</div>',\n  title: '',\n  trigger: 'hover focus'\n};\nconst DefaultType$3 = {\n  allowList: 'object',\n  animation: 'boolean',\n  boundary: '(string|element)',\n  container: '(string|element|boolean)',\n  customClass: '(string|function)',\n  delay: '(number|object)',\n  fallbackPlacements: 'array',\n  html: 'boolean',\n  offset: '(array|string|function)',\n  placement: '(string|function)',\n  popperConfig: '(null|object|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  selector: '(string|boolean)',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string'\n};\n\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org/docs/v2/)');\n    }\n    super(element, config);\n\n    // Private\n    this._isEnabled = true;\n    this._timeout = 0;\n    this._isHovered = null;\n    this._activeTrigger = {};\n    this._popper = null;\n    this._templateFactory = null;\n    this._newContent = null;\n\n    // Protected\n    this.tip = null;\n    this._setListeners();\n    if (!this._config.selector) {\n      this._fixTitle();\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default$3;\n  }\n  static get DefaultType() {\n    return DefaultType$3;\n  }\n  static get NAME() {\n    return NAME$4;\n  }\n\n  // Public\n  enable() {\n    this._isEnabled = true;\n  }\n  disable() {\n    this._isEnabled = false;\n  }\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled;\n  }\n  toggle() {\n    if (!this._isEnabled) {\n      return;\n    }\n    if (this._isShown()) {\n      this._leave();\n      return;\n    }\n    this._enter();\n  }\n  dispose() {\n    clearTimeout(this._timeout);\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);\n    if (this._element.getAttribute('data-bs-original-title')) {\n      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'));\n    }\n    this._disposePopper();\n    super.dispose();\n  }\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements');\n    }\n    if (!(this._isWithContent() && this._isEnabled)) {\n      return;\n    }\n    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW$2));\n    const shadowRoot = findShadowRoot(this._element);\n    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element);\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return;\n    }\n\n    // TODO: v6 remove this or make it optional\n    this._disposePopper();\n    const tip = this._getTipElement();\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'));\n    const {\n      container\n    } = this._config;\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip);\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED));\n    }\n    this._popper = this._createPopper(tip);\n    tip.classList.add(CLASS_NAME_SHOW$2);\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop);\n      }\n    }\n    const complete = () => {\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN$2));\n      if (this._isHovered === false) {\n        this._leave();\n      }\n      this._isHovered = false;\n    };\n    this._queueCallback(complete, this.tip, this._isAnimated());\n  }\n  hide() {\n    if (!this._isShown()) {\n      return;\n    }\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE$2));\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    const tip = this._getTipElement();\n    tip.classList.remove(CLASS_NAME_SHOW$2);\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop);\n      }\n    }\n    this._activeTrigger[TRIGGER_CLICK] = false;\n    this._activeTrigger[TRIGGER_FOCUS] = false;\n    this._activeTrigger[TRIGGER_HOVER] = false;\n    this._isHovered = null; // it is a trick to support manual triggering\n\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return;\n      }\n      if (!this._isHovered) {\n        this._disposePopper();\n      }\n      this._element.removeAttribute('aria-describedby');\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN$2));\n    };\n    this._queueCallback(complete, this.tip, this._isAnimated());\n  }\n  update() {\n    if (this._popper) {\n      this._popper.update();\n    }\n  }\n\n  // Protected\n  _isWithContent() {\n    return Boolean(this._getTitle());\n  }\n  _getTipElement() {\n    if (!this.tip) {\n      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate());\n    }\n    return this.tip;\n  }\n  _createTipElement(content) {\n    const tip = this._getTemplateFactory(content).toHtml();\n\n    // TODO: remove this check in v6\n    if (!tip) {\n      return null;\n    }\n    tip.classList.remove(CLASS_NAME_FADE$2, CLASS_NAME_SHOW$2);\n    // TODO: v6 the following can be achieved with CSS only\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`);\n    const tipId = getUID(this.constructor.NAME).toString();\n    tip.setAttribute('id', tipId);\n    if (this._isAnimated()) {\n      tip.classList.add(CLASS_NAME_FADE$2);\n    }\n    return tip;\n  }\n  setContent(content) {\n    this._newContent = content;\n    if (this._isShown()) {\n      this._disposePopper();\n      this.show();\n    }\n  }\n  _getTemplateFactory(content) {\n    if (this._templateFactory) {\n      this._templateFactory.changeContent(content);\n    } else {\n      this._templateFactory = new TemplateFactory({\n        ...this._config,\n        // the `content` var has to be after `this._config`\n        // to override config.content in case of popover\n        content,\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\n      });\n    }\n    return this._templateFactory;\n  }\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n    };\n  }\n  _getTitle() {\n    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title');\n  }\n\n  // Private\n  _initializeOnDelegatedTarget(event) {\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig());\n  }\n  _isAnimated() {\n    return this._config.animation || this.tip && this.tip.classList.contains(CLASS_NAME_FADE$2);\n  }\n  _isShown() {\n    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW$2);\n  }\n  _createPopper(tip) {\n    const placement = execute(this._config.placement, [this, tip, this._element]);\n    const attachment = AttachmentMap[placement.toUpperCase()];\n    return Popper.createPopper(this._element, tip, this._getPopperConfig(attachment));\n  }\n  _getOffset() {\n    const {\n      offset\n    } = this._config;\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10));\n    }\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element);\n    }\n    return offset;\n  }\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this._element, this._element]);\n  }\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [{\n        name: 'flip',\n        options: {\n          fallbackPlacements: this._config.fallbackPlacements\n        }\n      }, {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }, {\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      }, {\n        name: 'arrow',\n        options: {\n          element: `.${this.constructor.NAME}-arrow`\n        }\n      }, {\n        name: 'preSetPlacement',\n        enabled: true,\n        phase: 'beforeMain',\n        fn: data => {\n          // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n          // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n          this._getTipElement().setAttribute('data-popper-placement', data.state.placement);\n        }\n      }]\n    };\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [undefined, defaultBsPopperConfig])\n    };\n  }\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ');\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK$1), this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n          context._activeTrigger[TRIGGER_CLICK] = !(context._isShown() && context._activeTrigger[TRIGGER_CLICK]);\n          context.toggle();\n        });\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSEENTER) : this.constructor.eventName(EVENT_FOCUSIN$1);\n        const eventOut = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSELEAVE) : this.constructor.eventName(EVENT_FOCUSOUT$1);\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;\n          context._enter();\n        });\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = context._element.contains(event.relatedTarget);\n          context._leave();\n        });\n      }\n    }\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide();\n      }\n    };\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);\n  }\n  _fixTitle() {\n    const title = this._element.getAttribute('title');\n    if (!title) {\n      return;\n    }\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\n      this._element.setAttribute('aria-label', title);\n    }\n    this._element.setAttribute('data-bs-original-title', title); // DO NOT USE IT. Is only for backwards compatibility\n    this._element.removeAttribute('title');\n  }\n  _enter() {\n    if (this._isShown() || this._isHovered) {\n      this._isHovered = true;\n      return;\n    }\n    this._isHovered = true;\n    this._setTimeout(() => {\n      if (this._isHovered) {\n        this.show();\n      }\n    }, this._config.delay.show);\n  }\n  _leave() {\n    if (this._isWithActiveTrigger()) {\n      return;\n    }\n    this._isHovered = false;\n    this._setTimeout(() => {\n      if (!this._isHovered) {\n        this.hide();\n      }\n    }, this._config.delay.hide);\n  }\n  _setTimeout(handler, timeout) {\n    clearTimeout(this._timeout);\n    this._timeout = setTimeout(handler, timeout);\n  }\n  _isWithActiveTrigger() {\n    return Object.values(this._activeTrigger).includes(true);\n  }\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element);\n    for (const dataAttribute of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n        delete dataAttributes[dataAttribute];\n      }\n    }\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    };\n    config = this._mergeConfigObj(config);\n    config = this._configAfterMerge(config);\n    this._typeCheckConfig(config);\n    return config;\n  }\n  _configAfterMerge(config) {\n    config.container = config.container === false ? document.body : getElement(config.container);\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      };\n    }\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString();\n    }\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString();\n    }\n    return config;\n  }\n  _getDelegateConfig() {\n    const config = {};\n    for (const [key, value] of Object.entries(this._config)) {\n      if (this.constructor.Default[key] !== value) {\n        config[key] = value;\n      }\n    }\n    config.selector = false;\n    config.trigger = 'manual';\n\n    // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n    return config;\n  }\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy();\n      this._popper = null;\n    }\n    if (this.tip) {\n      this.tip.remove();\n      this.tip = null;\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tooltip);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$3 = 'popover';\nconst SELECTOR_TITLE = '.popover-header';\nconst SELECTOR_CONTENT = '.popover-body';\nconst Default$2 = {\n  ...Tooltip.Default,\n  content: '',\n  offset: [0, 8],\n  placement: 'right',\n  template: '<div class=\"popover\" role=\"tooltip\">' + '<div class=\"popover-arrow\"></div>' + '<h3 class=\"popover-header\"></h3>' + '<div class=\"popover-body\"></div>' + '</div>',\n  trigger: 'click'\n};\nconst DefaultType$2 = {\n  ...Tooltip.DefaultType,\n  content: '(null|string|element|function)'\n};\n\n/**\n * Class definition\n */\n\nclass Popover extends Tooltip {\n  // Getters\n  static get Default() {\n    return Default$2;\n  }\n  static get DefaultType() {\n    return DefaultType$2;\n  }\n  static get NAME() {\n    return NAME$3;\n  }\n\n  // Overrides\n  _isWithContent() {\n    return this._getTitle() || this._getContent();\n  }\n\n  // Private\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TITLE]: this._getTitle(),\n      [SELECTOR_CONTENT]: this._getContent()\n    };\n  }\n  _getContent() {\n    return this._resolvePossibleFunction(this._config.content);\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Popover.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Popover);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap scrollspy.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$2 = 'scrollspy';\nconst DATA_KEY$2 = 'bs.scrollspy';\nconst EVENT_KEY$2 = `.${DATA_KEY$2}`;\nconst DATA_API_KEY = '.data-api';\nconst EVENT_ACTIVATE = `activate${EVENT_KEY$2}`;\nconst EVENT_CLICK = `click${EVENT_KEY$2}`;\nconst EVENT_LOAD_DATA_API$1 = `load${EVENT_KEY$2}${DATA_API_KEY}`;\nconst CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';\nconst CLASS_NAME_ACTIVE$1 = 'active';\nconst SELECTOR_DATA_SPY = '[data-bs-spy=\"scroll\"]';\nconst SELECTOR_TARGET_LINKS = '[href]';\nconst SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';\nconst SELECTOR_NAV_LINKS = '.nav-link';\nconst SELECTOR_NAV_ITEMS = '.nav-item';\nconst SELECTOR_LIST_ITEMS = '.list-group-item';\nconst SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`;\nconst SELECTOR_DROPDOWN = '.dropdown';\nconst SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';\nconst Default$1 = {\n  offset: null,\n  // TODO: v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: '0px 0px -25%',\n  smoothScroll: false,\n  target: null,\n  threshold: [0.1, 0.5, 1]\n};\nconst DefaultType$1 = {\n  offset: '(number|null)',\n  // TODO v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: 'string',\n  smoothScroll: 'boolean',\n  target: 'element',\n  threshold: 'array'\n};\n\n/**\n * Class definition\n */\n\nclass ScrollSpy extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n\n    // this._element is the observablesContainer and config.target the menu links wrapper\n    this._targetLinks = new Map();\n    this._observableSections = new Map();\n    this._rootElement = getComputedStyle(this._element).overflowY === 'visible' ? null : this._element;\n    this._activeTarget = null;\n    this._observer = null;\n    this._previousScrollData = {\n      visibleEntryTop: 0,\n      parentScrollTop: 0\n    };\n    this.refresh(); // initialize\n  }\n\n  // Getters\n  static get Default() {\n    return Default$1;\n  }\n  static get DefaultType() {\n    return DefaultType$1;\n  }\n  static get NAME() {\n    return NAME$2;\n  }\n\n  // Public\n  refresh() {\n    this._initializeTargetsAndObservables();\n    this._maybeEnableSmoothScroll();\n    if (this._observer) {\n      this._observer.disconnect();\n    } else {\n      this._observer = this._getNewObserver();\n    }\n    for (const section of this._observableSections.values()) {\n      this._observer.observe(section);\n    }\n  }\n  dispose() {\n    this._observer.disconnect();\n    super.dispose();\n  }\n\n  // Private\n  _configAfterMerge(config) {\n    // TODO: on v6 target should be given explicitly & remove the {target: 'ss-target'} case\n    config.target = getElement(config.target) || document.body;\n\n    // TODO: v6 Only for backwards compatibility reasons. Use rootMargin only\n    config.rootMargin = config.offset ? `${config.offset}px 0px -30%` : config.rootMargin;\n    if (typeof config.threshold === 'string') {\n      config.threshold = config.threshold.split(',').map(value => Number.parseFloat(value));\n    }\n    return config;\n  }\n  _maybeEnableSmoothScroll() {\n    if (!this._config.smoothScroll) {\n      return;\n    }\n\n    // unregister any previous listeners\n    EventHandler.off(this._config.target, EVENT_CLICK);\n    EventHandler.on(this._config.target, EVENT_CLICK, SELECTOR_TARGET_LINKS, event => {\n      const observableSection = this._observableSections.get(event.target.hash);\n      if (observableSection) {\n        event.preventDefault();\n        const root = this._rootElement || window;\n        const height = observableSection.offsetTop - this._element.offsetTop;\n        if (root.scrollTo) {\n          root.scrollTo({\n            top: height,\n            behavior: 'smooth'\n          });\n          return;\n        }\n\n        // Chrome 60 doesn't support `scrollTo`\n        root.scrollTop = height;\n      }\n    });\n  }\n  _getNewObserver() {\n    const options = {\n      root: this._rootElement,\n      threshold: this._config.threshold,\n      rootMargin: this._config.rootMargin\n    };\n    return new IntersectionObserver(entries => this._observerCallback(entries), options);\n  }\n\n  // The logic of selection\n  _observerCallback(entries) {\n    const targetElement = entry => this._targetLinks.get(`#${entry.target.id}`);\n    const activate = entry => {\n      this._previousScrollData.visibleEntryTop = entry.target.offsetTop;\n      this._process(targetElement(entry));\n    };\n    const parentScrollTop = (this._rootElement || document.documentElement).scrollTop;\n    const userScrollsDown = parentScrollTop >= this._previousScrollData.parentScrollTop;\n    this._previousScrollData.parentScrollTop = parentScrollTop;\n    for (const entry of entries) {\n      if (!entry.isIntersecting) {\n        this._activeTarget = null;\n        this._clearActiveClass(targetElement(entry));\n        continue;\n      }\n      const entryIsLowerThanPrevious = entry.target.offsetTop >= this._previousScrollData.visibleEntryTop;\n      // if we are scrolling down, pick the bigger offsetTop\n      if (userScrollsDown && entryIsLowerThanPrevious) {\n        activate(entry);\n        // if parent isn't scrolled, let's keep the first visible item, breaking the iteration\n        if (!parentScrollTop) {\n          return;\n        }\n        continue;\n      }\n\n      // if we are scrolling up, pick the smallest offsetTop\n      if (!userScrollsDown && !entryIsLowerThanPrevious) {\n        activate(entry);\n      }\n    }\n  }\n  _initializeTargetsAndObservables() {\n    this._targetLinks = new Map();\n    this._observableSections = new Map();\n    const targetLinks = SelectorEngine.find(SELECTOR_TARGET_LINKS, this._config.target);\n    for (const anchor of targetLinks) {\n      // ensure that the anchor has an id and is not disabled\n      if (!anchor.hash || isDisabled(anchor)) {\n        continue;\n      }\n      const observableSection = SelectorEngine.findOne(decodeURI(anchor.hash), this._element);\n\n      // ensure that the observableSection exists & is visible\n      if (isVisible(observableSection)) {\n        this._targetLinks.set(decodeURI(anchor.hash), anchor);\n        this._observableSections.set(anchor.hash, observableSection);\n      }\n    }\n  }\n  _process(target) {\n    if (this._activeTarget === target) {\n      return;\n    }\n    this._clearActiveClass(this._config.target);\n    this._activeTarget = target;\n    target.classList.add(CLASS_NAME_ACTIVE$1);\n    this._activateParents(target);\n    EventHandler.trigger(this._element, EVENT_ACTIVATE, {\n      relatedTarget: target\n    });\n  }\n  _activateParents(target) {\n    // Activate dropdown parents\n    if (target.classList.contains(CLASS_NAME_DROPDOWN_ITEM)) {\n      SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1, target.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);\n      return;\n    }\n    for (const listGroup of SelectorEngine.parents(target, SELECTOR_NAV_LIST_GROUP)) {\n      // Set triggered links parents as active\n      // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n      for (const item of SelectorEngine.prev(listGroup, SELECTOR_LINK_ITEMS)) {\n        item.classList.add(CLASS_NAME_ACTIVE$1);\n      }\n    }\n  }\n  _clearActiveClass(parent) {\n    parent.classList.remove(CLASS_NAME_ACTIVE$1);\n    const activeNodes = SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`, parent);\n    for (const node of activeNodes) {\n      node.classList.remove(CLASS_NAME_ACTIVE$1);\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = ScrollSpy.getOrCreateInstance(this, config);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API$1, () => {\n  for (const spy of SelectorEngine.find(SELECTOR_DATA_SPY)) {\n    ScrollSpy.getOrCreateInstance(spy);\n  }\n});\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(ScrollSpy);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME$1 = 'tab';\nconst DATA_KEY$1 = 'bs.tab';\nconst EVENT_KEY$1 = `.${DATA_KEY$1}`;\nconst EVENT_HIDE$1 = `hide${EVENT_KEY$1}`;\nconst EVENT_HIDDEN$1 = `hidden${EVENT_KEY$1}`;\nconst EVENT_SHOW$1 = `show${EVENT_KEY$1}`;\nconst EVENT_SHOWN$1 = `shown${EVENT_KEY$1}`;\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY$1}`;\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY$1}`;\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY$1}`;\nconst ARROW_LEFT_KEY = 'ArrowLeft';\nconst ARROW_RIGHT_KEY = 'ArrowRight';\nconst ARROW_UP_KEY = 'ArrowUp';\nconst ARROW_DOWN_KEY = 'ArrowDown';\nconst HOME_KEY = 'Home';\nconst END_KEY = 'End';\nconst CLASS_NAME_ACTIVE = 'active';\nconst CLASS_NAME_FADE$1 = 'fade';\nconst CLASS_NAME_SHOW$1 = 'show';\nconst CLASS_DROPDOWN = 'dropdown';\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';\nconst SELECTOR_DROPDOWN_MENU = '.dropdown-menu';\nconst NOT_SELECTOR_DROPDOWN_TOGGLE = `:not(${SELECTOR_DROPDOWN_TOGGLE})`;\nconst SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]';\nconst SELECTOR_OUTER = '.nav-item, .list-group-item';\nconst SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`;\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]'; // TODO: could only be `tab` in v6\nconst SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`;\nconst SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`;\n\n/**\n * Class definition\n */\n\nclass Tab extends BaseComponent {\n  constructor(element) {\n    super(element);\n    this._parent = this._element.closest(SELECTOR_TAB_PANEL);\n    if (!this._parent) {\n      return;\n      // TODO: should throw exception in v6\n      // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n    }\n\n    // Set up initial aria attributes\n    this._setInitialAttributes(this._parent, this._getChildren());\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event));\n  }\n\n  // Getters\n  static get NAME() {\n    return NAME$1;\n  }\n\n  // Public\n  show() {\n    // Shows this elem and deactivate the active sibling if exists\n    const innerElem = this._element;\n    if (this._elemIsActive(innerElem)) {\n      return;\n    }\n\n    // Search for active tab on same parent to deactivate it\n    const active = this._getActiveElem();\n    const hideEvent = active ? EventHandler.trigger(active, EVENT_HIDE$1, {\n      relatedTarget: innerElem\n    }) : null;\n    const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW$1, {\n      relatedTarget: active\n    });\n    if (showEvent.defaultPrevented || hideEvent && hideEvent.defaultPrevented) {\n      return;\n    }\n    this._deactivate(active, innerElem);\n    this._activate(innerElem, active);\n  }\n\n  // Private\n  _activate(element, relatedElem) {\n    if (!element) {\n      return;\n    }\n    element.classList.add(CLASS_NAME_ACTIVE);\n    this._activate(SelectorEngine.getElementFromSelector(element)); // Search and activate/show the proper section\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.add(CLASS_NAME_SHOW$1);\n        return;\n      }\n      element.removeAttribute('tabindex');\n      element.setAttribute('aria-selected', true);\n      this._toggleDropDown(element, true);\n      EventHandler.trigger(element, EVENT_SHOWN$1, {\n        relatedTarget: relatedElem\n      });\n    };\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));\n  }\n  _deactivate(element, relatedElem) {\n    if (!element) {\n      return;\n    }\n    element.classList.remove(CLASS_NAME_ACTIVE);\n    element.blur();\n    this._deactivate(SelectorEngine.getElementFromSelector(element)); // Search and deactivate the shown section too\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.remove(CLASS_NAME_SHOW$1);\n        return;\n      }\n      element.setAttribute('aria-selected', false);\n      element.setAttribute('tabindex', '-1');\n      this._toggleDropDown(element, false);\n      EventHandler.trigger(element, EVENT_HIDDEN$1, {\n        relatedTarget: relatedElem\n      });\n    };\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));\n  }\n  _keydown(event) {\n    if (![ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY, HOME_KEY, END_KEY].includes(event.key)) {\n      return;\n    }\n    event.stopPropagation(); // stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n    event.preventDefault();\n    const children = this._getChildren().filter(element => !isDisabled(element));\n    let nextActiveElement;\n    if ([HOME_KEY, END_KEY].includes(event.key)) {\n      nextActiveElement = children[event.key === HOME_KEY ? 0 : children.length - 1];\n    } else {\n      const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key);\n      nextActiveElement = getNextActiveElement(children, event.target, isNext, true);\n    }\n    if (nextActiveElement) {\n      nextActiveElement.focus({\n        preventScroll: true\n      });\n      Tab.getOrCreateInstance(nextActiveElement).show();\n    }\n  }\n  _getChildren() {\n    // collection of inner elements\n    return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent);\n  }\n  _getActiveElem() {\n    return this._getChildren().find(child => this._elemIsActive(child)) || null;\n  }\n  _setInitialAttributes(parent, children) {\n    this._setAttributeIfNotExists(parent, 'role', 'tablist');\n    for (const child of children) {\n      this._setInitialAttributesOnChild(child);\n    }\n  }\n  _setInitialAttributesOnChild(child) {\n    child = this._getInnerElement(child);\n    const isActive = this._elemIsActive(child);\n    const outerElem = this._getOuterElement(child);\n    child.setAttribute('aria-selected', isActive);\n    if (outerElem !== child) {\n      this._setAttributeIfNotExists(outerElem, 'role', 'presentation');\n    }\n    if (!isActive) {\n      child.setAttribute('tabindex', '-1');\n    }\n    this._setAttributeIfNotExists(child, 'role', 'tab');\n\n    // set attributes to the related panel too\n    this._setInitialAttributesOnTargetPanel(child);\n  }\n  _setInitialAttributesOnTargetPanel(child) {\n    const target = SelectorEngine.getElementFromSelector(child);\n    if (!target) {\n      return;\n    }\n    this._setAttributeIfNotExists(target, 'role', 'tabpanel');\n    if (child.id) {\n      this._setAttributeIfNotExists(target, 'aria-labelledby', `${child.id}`);\n    }\n  }\n  _toggleDropDown(element, open) {\n    const outerElem = this._getOuterElement(element);\n    if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n      return;\n    }\n    const toggle = (selector, className) => {\n      const element = SelectorEngine.findOne(selector, outerElem);\n      if (element) {\n        element.classList.toggle(className, open);\n      }\n    };\n    toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE);\n    toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW$1);\n    outerElem.setAttribute('aria-expanded', open);\n  }\n  _setAttributeIfNotExists(element, attribute, value) {\n    if (!element.hasAttribute(attribute)) {\n      element.setAttribute(attribute, value);\n    }\n  }\n  _elemIsActive(elem) {\n    return elem.classList.contains(CLASS_NAME_ACTIVE);\n  }\n\n  // Try to get the inner element (usually the .nav-link)\n  _getInnerElement(elem) {\n    return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem);\n  }\n\n  // Try to get the outer element (usually the .nav-item)\n  _getOuterElement(elem) {\n    return elem.closest(SELECTOR_OUTER) || elem;\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tab.getOrCreateInstance(this);\n      if (typeof config !== 'string') {\n        return;\n      }\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n      data[config]();\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n  if (isDisabled(this)) {\n    return;\n  }\n  Tab.getOrCreateInstance(this).show();\n});\n\n/**\n * Initialize on focus\n */\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n    Tab.getOrCreateInstance(element);\n  }\n});\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tab);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap toast.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n\n/**\n * Constants\n */\n\nconst NAME = 'toast';\nconst DATA_KEY = 'bs.toast';\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`;\nconst EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`;\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`;\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`;\nconst EVENT_HIDE = `hide${EVENT_KEY}`;\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`;\nconst EVENT_SHOW = `show${EVENT_KEY}`;\nconst EVENT_SHOWN = `shown${EVENT_KEY}`;\nconst CLASS_NAME_FADE = 'fade';\nconst CLASS_NAME_HIDE = 'hide'; // @deprecated - kept here only for backwards compatibility\nconst CLASS_NAME_SHOW = 'show';\nconst CLASS_NAME_SHOWING = 'showing';\nconst DefaultType = {\n  animation: 'boolean',\n  autohide: 'boolean',\n  delay: 'number'\n};\nconst Default = {\n  animation: true,\n  autohide: true,\n  delay: 5000\n};\n\n/**\n * Class definition\n */\n\nclass Toast extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._timeout = null;\n    this._hasMouseInteraction = false;\n    this._hasKeyboardInteraction = false;\n    this._setListeners();\n  }\n\n  // Getters\n  static get Default() {\n    return Default;\n  }\n  static get DefaultType() {\n    return DefaultType;\n  }\n  static get NAME() {\n    return NAME;\n  }\n\n  // Public\n  show() {\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW);\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n    this._clearTimeout();\n    if (this._config.animation) {\n      this._element.classList.add(CLASS_NAME_FADE);\n    }\n    const complete = () => {\n      this._element.classList.remove(CLASS_NAME_SHOWING);\n      EventHandler.trigger(this._element, EVENT_SHOWN);\n      this._maybeScheduleHide();\n    };\n    this._element.classList.remove(CLASS_NAME_HIDE); // @deprecated\n    reflow(this._element);\n    this._element.classList.add(CLASS_NAME_SHOW, CLASS_NAME_SHOWING);\n    this._queueCallback(complete, this._element, this._config.animation);\n  }\n  hide() {\n    if (!this.isShown()) {\n      return;\n    }\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE);\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n    const complete = () => {\n      this._element.classList.add(CLASS_NAME_HIDE); // @deprecated\n      this._element.classList.remove(CLASS_NAME_SHOWING, CLASS_NAME_SHOW);\n      EventHandler.trigger(this._element, EVENT_HIDDEN);\n    };\n    this._element.classList.add(CLASS_NAME_SHOWING);\n    this._queueCallback(complete, this._element, this._config.animation);\n  }\n  dispose() {\n    this._clearTimeout();\n    if (this.isShown()) {\n      this._element.classList.remove(CLASS_NAME_SHOW);\n    }\n    super.dispose();\n  }\n  isShown() {\n    return this._element.classList.contains(CLASS_NAME_SHOW);\n  }\n\n  // Private\n  _maybeScheduleHide() {\n    if (!this._config.autohide) {\n      return;\n    }\n    if (this._hasMouseInteraction || this._hasKeyboardInteraction) {\n      return;\n    }\n    this._timeout = setTimeout(() => {\n      this.hide();\n    }, this._config.delay);\n  }\n  _onInteraction(event, isInteracting) {\n    switch (event.type) {\n      case 'mouseover':\n      case 'mouseout':\n        {\n          this._hasMouseInteraction = isInteracting;\n          break;\n        }\n      case 'focusin':\n      case 'focusout':\n        {\n          this._hasKeyboardInteraction = isInteracting;\n          break;\n        }\n    }\n    if (isInteracting) {\n      this._clearTimeout();\n      return;\n    }\n    const nextElement = event.relatedTarget;\n    if (this._element === nextElement || this._element.contains(nextElement)) {\n      return;\n    }\n    this._maybeScheduleHide();\n  }\n  _setListeners() {\n    EventHandler.on(this._element, EVENT_MOUSEOVER, event => this._onInteraction(event, true));\n    EventHandler.on(this._element, EVENT_MOUSEOUT, event => this._onInteraction(event, false));\n    EventHandler.on(this._element, EVENT_FOCUSIN, event => this._onInteraction(event, true));\n    EventHandler.on(this._element, EVENT_FOCUSOUT, event => this._onInteraction(event, false));\n  }\n  _clearTimeout() {\n    clearTimeout(this._timeout);\n    this._timeout = null;\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Toast.getOrCreateInstance(this, config);\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config](this);\n      }\n    });\n  }\n}\n\n/**\n * Data API implementation\n */\n\nenableDismissTrigger(Toast);\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Toast);\n\nexport { Alert, Button, Carousel, Collapse, Dropdown, Modal, Offcanvas, Popover, ScrollSpy, Tab, Toast, Tooltip };\n//# sourceMappingURL=bootstrap.esm.js.map\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@media (print),(prefers-reduced-motion: reduce){.animated{-webkit-animation-duration:1ms!important;animation-duration:1ms!important;-webkit-transition-duration:1ms!important;transition-duration:1ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important}}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/@w8tcha/bootstrap-notify/dist/bootstrap-notify.css\"],\"names\":[],\"mappings\":\"AAAA,UAAU,6BAA6B,CAAC,qBAAqB,CAAC,gCAAgC,CAAC,wBAAwB,CAAC,gDAAgD,UAAU,wCAAwC,CAAC,gCAAgC,CAAC,yCAAyC,CAAC,iCAAiC,CAAC,6CAA6C,CAAC,qCAAqC,CAAC,CAAC,8BAA8B,GAAG,SAAS,CAAC,wCAAwC,CAAC,gCAAgC,CAAC,GAAG,SAAS,CAAC,oCAAoC,CAAC,uBAAuB,CAAC,CAAC,sBAAsB,GAAG,SAAS,CAAC,wCAAwC,CAAC,gCAAgC,CAAC,GAAG,SAAS,CAAC,oCAAoC,CAAC,uBAAuB,CAAC,CAAC,YAAY,iCAAiC,CAAC,yBAAyB,CAAC,6BAA6B,GAAG,SAAS,CAAC,GAAG,SAAS,CAAC,wCAAwC,CAAC,gCAAgC,CAAC,CAAC,qBAAqB,GAAG,SAAS,CAAC,GAAG,SAAS,CAAC,wCAAwC,CAAC,gCAAgC,CAAC,CAAC,WAAW,gCAAgC,CAAC,wBAAwB\",\"sourcesContent\":[\".animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@media (print),(prefers-reduced-motion: reduce){.animated{-webkit-animation-duration:1ms!important;animation-duration:1ms!important;-webkit-transition-duration:1ms!important;transition-duration:1ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important}}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","/*!\n * long-press-event - v@version@\n * Pure JavaScript long-press-event\n * https://github.com/john-doherty/long-press-event\n * @author John Doherty <www.johndoherty.info>\n * @license MIT\n */\n(function (window, document) {\n\n    'use strict';\n\n    // local timer object based on rAF\n    var timer = null;\n\n    // check if we're using a touch screen\n    var hasPointerEvents = (('PointerEvent' in window) || (window.navigator && 'msPointerEnabled' in window.navigator));\n    var isTouch = (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));\n\n    // switch to pointer events or touch events if using a touch screen\n    var mouseDown = hasPointerEvents ? 'pointerdown' : isTouch ? 'touchstart' : 'mousedown';\n    var mouseUp = hasPointerEvents ? 'pointerup' : isTouch ? 'touchend' : 'mouseup';\n    var mouseMove = hasPointerEvents ? 'pointermove' : isTouch ? 'touchmove' : 'mousemove';\n    var mouseLeave = hasPointerEvents ? 'pointerleave' : isTouch ? 'touchleave' : 'mouseleave';\n\n    // track number of pixels the mouse moves during long press\n    var startX = 0; // mouse x position when timer started\n    var startY = 0; // mouse y position when timer started\n    var maxDiffX = 10; // max number of X pixels the mouse can move during long press before it is canceled\n    var maxDiffY = 10; // max number of Y pixels the mouse can move during long press before it is canceled\n\n    // patch CustomEvent to allow constructor creation (IE/Chrome)\n    if (typeof window.CustomEvent !== 'function') {\n\n        window.CustomEvent = function (event, params) {\n\n            params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n            var evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n            return evt;\n        };\n\n        window.CustomEvent.prototype = window.Event.prototype;\n    }\n\n    // requestAnimationFrame() shim by Paul Irish\n    window.requestAnimFrame = (function () {\n        return window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame || function (callback) {\n                window.setTimeout(callback, 1000 / 60);\n            };\n    })();\n\n    /**\n     * Behaves the same as setTimeout except uses requestAnimationFrame() where possible for better performance\n     * @param {function} fn The callback function\n     * @param {int} delay The delay in milliseconds\n     * @returns {object} handle to the timeout object\n     */\n    function requestTimeout(fn, delay) {\n\n        if (!window.requestAnimationFrame && !window.webkitRequestAnimationFrame &&\n            !(window.mozRequestAnimationFrame && window.mozCancelRequestAnimationFrame) && // Firefox 5 ships without cancel support\n            !window.oRequestAnimationFrame && !window.msRequestAnimationFrame) return window.setTimeout(fn, delay);\n\n        var start = new Date().getTime();\n        var handle = {};\n\n        var loop = function () {\n            var current = new Date().getTime();\n            var delta = current - start;\n\n            if (delta >= delay) {\n                fn.call();\n            }\n            else {\n                handle.value = requestAnimFrame(loop);\n            }\n        };\n\n        handle.value = requestAnimFrame(loop);\n\n        return handle;\n    }\n\n    /**\n     * Behaves the same as clearTimeout except uses cancelRequestAnimationFrame() where possible for better performance\n     * @param {object} handle The callback function\n     * @returns {void}\n     */\n    function clearRequestTimeout(handle) {\n        if (handle) {\n            window.cancelAnimationFrame ? window.cancelAnimationFrame(handle.value) :\n                window.webkitCancelAnimationFrame ? window.webkitCancelAnimationFrame(handle.value) :\n                    window.webkitCancelRequestAnimationFrame ? window.webkitCancelRequestAnimationFrame(handle.value) : /* Support for legacy API */\n                        window.mozCancelRequestAnimationFrame ? window.mozCancelRequestAnimationFrame(handle.value) :\n                            window.oCancelRequestAnimationFrame ? window.oCancelRequestAnimationFrame(handle.value) :\n                                window.msCancelRequestAnimationFrame ? window.msCancelRequestAnimationFrame(handle.value) :\n                                    clearTimeout(handle);\n        }\n    }\n\n    /**\n     * Fires the 'long-press' event on element\n     * @param {MouseEvent|PointerEvent|TouchEvent} originalEvent The original event being fired\n     * @returns {void}\n     */\n    function fireLongPressEvent(originalEvent) {\n\n        clearLongPressTimer();\n\n        originalEvent = unifyEvent(originalEvent);\n\n        // fire the long-press event\n        var allowClickEvent = this.dispatchEvent(new CustomEvent('long-press', {\n            bubbles: true,\n            cancelable: true,\n\n            // custom event data (legacy)\n            detail: {\n                clientX: originalEvent.clientX,\n                clientY: originalEvent.clientY,\n                offsetX: originalEvent.offsetX,\n                offsetY: originalEvent.offsetY,\n                pageX: originalEvent.pageX,\n                pageY: originalEvent.pageY\n            },\n\n            // add coordinate data that would typically acompany a touch/click event\n            clientX: originalEvent.clientX,\n            clientY: originalEvent.clientY,\n            offsetX: originalEvent.offsetX,\n            offsetY: originalEvent.offsetY,\n            pageX: originalEvent.pageX,\n            pageY: originalEvent.pageY,\n            screenX: originalEvent.screenX,\n            screenY: originalEvent.screenY\n        }));\n\n        if (!allowClickEvent) {\n            // suppress the next click event if e.preventDefault() was called in long-press handler\n            document.addEventListener('click', function suppressEvent(e) {\n                document.removeEventListener('click', suppressEvent, true);\n                cancelEvent(e);\n            }, true);\n        }\n    }\n\n    /**\n     * consolidates mouse, touch, and Pointer events\n     * @param {MouseEvent|PointerEvent|TouchEvent} e The original event being fired\n     * @returns {MouseEvent|PointerEvent|Touch}\n     */\n    function unifyEvent(e) {\n        if (e.changedTouches !== undefined) {\n            return e.changedTouches[0];\n        }\n        return e;\n    }\n\n    /**\n     * method responsible for starting the long press timer\n     * @param {event} e - event object\n     * @returns {void}\n     */\n    function startLongPressTimer(e) {\n\n        clearLongPressTimer(e);\n\n        var el = e.target;\n\n        // get delay from html attribute if it exists, otherwise default to 1500\n        var longPressDelayInMs = parseInt(getNearestAttribute(el, 'data-long-press-delay', '1500'), 10); // default 1500\n\n        // start the timer\n        timer = requestTimeout(fireLongPressEvent.bind(el, e), longPressDelayInMs);\n    }\n\n    /**\n     * method responsible for clearing a pending long press timer\n     * @param {event} e - event object\n     * @returns {void}\n     */\n    function clearLongPressTimer(e) {\n        clearRequestTimeout(timer);\n        timer = null;\n    }\n\n    /**\n    * Cancels the current event\n    * @param {object} e - browser event object\n    * @returns {void}\n    */\n    function cancelEvent(e) {\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    /**\n     * Starts the timer on mouse down and logs current position\n     * @param {object} e - browser event object\n     * @returns {void}\n     */\n    function mouseDownHandler(e) {\n        startX = e.clientX;\n        startY = e.clientY;\n        startLongPressTimer(e);\n    }\n\n    /**\n     * If the mouse moves n pixels during long-press, cancel the timer\n     * @param {object} e - browser event object\n     * @returns {void}\n     */\n    function mouseMoveHandler(e) {\n\n        // calculate total number of pixels the pointer has moved\n        var diffX = Math.abs(startX - e.clientX);\n        var diffY = Math.abs(startY - e.clientY);\n\n        // if pointer has moved more than allowed, cancel the long-press timer and therefore the event\n        if (diffX >= maxDiffX || diffY >= maxDiffY) {\n            clearLongPressTimer(e);\n        }\n    }\n\n    /**\n     * Gets attribute off HTML element or nearest parent\n     * @param {object} el - HTML element to retrieve attribute from\n     * @param {string} attributeName - name of the attribute\n     * @param {any} defaultValue - default value to return if no match found\n     * @returns {any} attribute value or defaultValue\n     */\n    function getNearestAttribute(el, attributeName, defaultValue) {\n\n        // walk up the dom tree looking for data-action and data-trigger\n        while (el && el !== document.documentElement) {\n\n            var attributeValue = el.getAttribute(attributeName);\n\n            if (attributeValue) {\n                return attributeValue;\n            }\n\n            el = el.parentNode;\n        }\n\n        return defaultValue;\n    }\n\n    // hook events that clear a pending long press event\n    document.addEventListener(mouseUp, clearLongPressTimer, true);\n    document.addEventListener(mouseLeave, clearLongPressTimer, true);\n    document.addEventListener(mouseMove, mouseMoveHandler, true);\n    document.addEventListener('wheel', clearLongPressTimer, true);\n    document.addEventListener('scroll', clearLongPressTimer, true);\n    document.addEventListener('contextmenu', clearLongPressTimer, true);\n\n    // hook events that can trigger a long press event\n    document.addEventListener(mouseDown, mouseDownHandler, true); // <- start\n\n}(window, document));\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","/*! @preserve\r\n * bootbox.js\r\n * version: 6.0.4\r\n * author: Nick Payne <nick@kurai.co.uk>\r\n * license: MIT\r\n * http://bootboxjs.com/\r\n */\r\n(function (root, factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD\r\n        define(['bootstrap'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        // Node, CommonJS-like\r\n        module.exports = factory(require('bootstrap'));\r\n    } else {\r\n        // Browser globals (root is window)\r\n        root.bootbox = factory(root.bootstrap);\r\n    }\r\n}(this,\r\n    function init($, undefined) {\r\n        'use strict';\r\n\r\n        const exports = {};\r\n\r\n        const VERSION = '6.0.4';\r\n        exports.VERSION = VERSION;\r\n\r\n        const locales = {\r\n            'en': {\r\n                OK: 'OK',\r\n                CANCEL: 'Cancel',\r\n                CONFIRM: 'OK'\r\n            }\r\n        };\r\n\r\n        const templates = {\r\n            dialog:\r\n                '<div class=\"bootbox modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-body\"><div class=\"bootbox-body\"></div></div></div></div></div>',\r\n            header: '<div class=\"modal-header\"><h5 class=\"modal-title\"></h5></div>',\r\n            footer: '<div class=\"modal-footer\"></div>',\r\n            closeButton:\r\n                '<button type=\"button\" class=\"bootbox-close-button close btn-close\" aria-hidden=\"true\" aria-label=\"Close\"></button>',\r\n            form: '<form class=\"bootbox-form\"></form>',\r\n            button: '<button type=\"button\" class=\"btn\"></button>',\r\n            option: '<option value=\"\"></option>',\r\n            promptMessage: '<div class=\"bootbox-prompt-message\"></div>',\r\n            inputs: {\r\n                text: '<input class=\"bootbox-input bootbox-input-text form-control\" autocomplete=\"off\" type=\"text\" />',\r\n                textarea: '<textarea class=\"bootbox-input bootbox-input-textarea form-control\"></textarea>',\r\n                email:\r\n                    '<input class=\"bootbox-input bootbox-input-email form-control\" autocomplete=\"off\" type=\"email\" />',\r\n                select: '<select class=\"bootbox-input bootbox-input-select form-select\"></select>',\r\n                checkbox:\r\n                    '<div class=\"form-check checkbox\"><label class=\"form-check-label\"><input class=\"form-check-input bootbox-input bootbox-input-checkbox\" type=\"checkbox\" /></label></div>',\r\n                radio:\r\n                    '<div class=\"form-check radio\"><label class=\"form-check-label\"><input class=\"form-check-input bootbox-input bootbox-input-radio\" type=\"radio\" name=\"bootbox-radio\" /></label></div>',\r\n                date: '<input class=\"bootbox-input bootbox-input-date form-control\" autocomplete=\"off\" type=\"date\" />',\r\n                time: '<input class=\"bootbox-input bootbox-input-time form-control\" autocomplete=\"off\" type=\"time\" />',\r\n                number:\r\n                    '<input class=\"bootbox-input bootbox-input-number form-control\" autocomplete=\"off\" type=\"number\" />',\r\n                password:\r\n                    '<input class=\"bootbox-input bootbox-input-password form-control\" autocomplete=\"off\" type=\"password\" />',\r\n                range:\r\n                    '<input class=\"bootbox-input bootbox-input-range form-control-range\" autocomplete=\"off\" type=\"range\" />'\r\n            }\r\n        };\r\n\r\n\r\n        const defaults = {\r\n            // Default language used when generating buttons for alert, confirm, and prompt dialogs\r\n            locale: 'en',\r\n            // Show backdrop or not. Default to static so user has to interact with dialog\r\n            backdrop: 'static',\r\n            // Animate the modal in/out\r\n            animate: true,\r\n            // Additional class string applied to the top level dialog\r\n            className: null,\r\n            // Whether or not to include a close button\r\n            closeButton: true,\r\n            // Show the dialog immediately by default\r\n            show: true,\r\n            // Dialog container\r\n            container: 'body',\r\n            // Default value (used by the prompt helper)\r\n            value: '',\r\n            // Default input type (used by the prompt helper)\r\n            inputType: 'text',\r\n            // Custom error message to report if prompt fails validation\r\n            errorMessage: null,\r\n            // Switch button order from cancel/confirm (default) to confirm/cancel\r\n            swapButtonOrder: false,\r\n            // Center modal vertically in page\r\n            centerVertical: false,\r\n            // Append \"multiple\" property to the select when using the \"prompt\" helper\r\n            multiple: false,\r\n            // Automatically scroll modal content when height exceeds viewport height\r\n            scrollable: false,\r\n            // Whether or not to destroy the modal on hide\r\n            reusable: false,\r\n            // The element which triggered the dialog\r\n            relatedTarget: null,\r\n            // The size of the modal to generate\r\n            size: null,\r\n            // A unique identifier for this modal\r\n            id: null\r\n        };\r\n\r\n\r\n        // PUBLIC FUNCTIONS\r\n        // *************************************************************************************************************\r\n\r\n        /**\r\n         * Return all currently registered locales, or a specific locale if \"name\" is defined\r\n         * @param {string} [name]\r\n         * @returns {(Object|Object[])} An array of the available locale objects, or a single locale object if {name} is not null\r\n         */\r\n        exports.locales = function(name) {\r\n            return name ? locales[name] : locales;\r\n        };\r\n\r\n\r\n        /**\r\n         * Register localized strings for the OK, CONFIRM, and CANCEL buttons\r\n         * @param {string} name - The key used to identify the new locale in the locales array\r\n         * @param {Object} values - An object containing the localized string for each of the OK, CANCEL, and CONFIRM properties of a locale\r\n         * @returns The updated bootbox object\r\n         */\r\n        exports.addLocale = function(name, values) {\r\n            ['OK', 'CANCEL', 'CONFIRM'].forEach((v, _) => {\r\n                if (!values[v]) {\r\n                    throw new Error(`Please supply a translation for \"${v}\"`);\r\n                }\r\n            });\r\n\r\n            locales[name] = {\r\n                OK: values.OK,\r\n                CANCEL: values.CANCEL,\r\n                CONFIRM: values.CONFIRM\r\n            };\r\n\r\n            return exports;\r\n        };\r\n\r\n\r\n        /**\r\n         * Remove a previously-registered locale\r\n         * @param {string} name - The key identifying the locale to remove\r\n         * @returns The updated bootbox object\r\n         */\r\n        exports.removeLocale = function(name) {\r\n            if (name !== 'en') {\r\n                delete locales[name];\r\n            } else {\r\n                throw new Error('\"en\" is used as the default and fallback locale and cannot be removed.');\r\n            }\r\n\r\n            return exports;\r\n        };\r\n\r\n\r\n        /**\r\n         * Set the default locale\r\n         * @param {string} name - The key identifying the locale to set as the default locale for all future bootbox calls \r\n         * @returns The updated bootbox object\r\n         */\r\n        exports.setLocale = function(name) {\r\n            return exports.setDefaults('locale', name);\r\n        };\r\n\r\n\r\n        /**\r\n         * Override default value(s) of Bootbox.\r\n         * @returns The updated bootbox object\r\n         */\r\n        exports.setDefaults = function() {\r\n            let values = {};\r\n\r\n            if (arguments.length === 2) {\r\n                // Allow passing of single key/value...\r\n                values[arguments[0]] = arguments[1];\r\n            } else {\r\n                // ... and as an object too\r\n                values = arguments[0];\r\n            }\r\n\r\n            Object.assign(defaults, values);\r\n\r\n            return exports;\r\n        };\r\n\r\n\r\n        /**\r\n         * Hides all currently active Bootbox modals\r\n         * @returns The current bootbox object\r\n         */\r\n        exports.hideAll = function() {\r\n            document.querySelectorAll('.bootbox').forEach(box => {\r\n                bootstrap.Modal.getInstance(box).hide();\r\n            });\r\n\r\n            return exports;\r\n        };\r\n\r\n\r\n        /**\r\n         * Allows the base init() function to be overridden\r\n         * @param {function} _$ - A function to be called when the bootbox instance is created\r\n         * @returns The current bootbox object\r\n         */\r\n        exports.init = function(_$) {\r\n            return init(_$ || $);\r\n        };\r\n\r\n\r\n        // CORE HELPER FUNCTIONS\r\n        // *************************************************************************************************************\r\n\r\n        /**\r\n         * The core dialog helper function, which can be used to create any custom Bootstrap modal. \r\n         * @param {Object} options - An object used to configure the various properties which define a Bootbox dialog\r\n         * @returns A jQuery object upon which Bootstrap's modal function has been called\r\n         */\r\n        exports.dialog = function(options) {\r\n            if (bootstrap.Modal === undefined) {\r\n                throw new Error(\r\n                    '\"bootstrap.Modal\" is not defined; please double check you have included the Bootstrap JavaScript library. See https://getbootstrap.com/docs/5.3/getting-started/introduction/ for more details.'\r\n                );\r\n            }\r\n\r\n            options = sanitize(options);\r\n\r\n            if (bootstrap.Modal.VERSION) {\r\n                options.fullBootstrapVersion = bootstrap.Modal.VERSION;\r\n                let i = options.fullBootstrapVersion.indexOf('.');\r\n                options.bootstrap = options.fullBootstrapVersion.substring(0, i);\r\n            } else {\r\n                // Assuming version 2.3.2, as that was the last \"supported\" 2.x version\r\n                options.bootstrap = '2';\r\n                options.fullBootstrapVersion = '2.3.2';\r\n                console.warn(\r\n                    'Bootbox will *mostly* work with Bootstrap 2, but we do not officially support it. Please upgrade, if possible.');\r\n            }\r\n\r\n            let dialog = generateElement(templates.dialog);\r\n            let innerDialog = dialog.querySelector('.modal-dialog');\r\n            let body = dialog.querySelector('.modal-body');\r\n            let header = generateElement(templates.header);\r\n            let footer = generateElement(templates.footer);\r\n            let buttons = options.buttons;\r\n\r\n            let callbacks = {\r\n                onEscape: options.onEscape\r\n            };\r\n\r\n            if (typeof options.message === 'string') {\r\n                body.querySelector('.bootbox-body').innerHTML = options.message;\r\n            } else {\r\n                body.querySelector('.bootbox-body').append(options.message);\r\n            }\r\n\r\n            // Only attempt to create buttons if at least one has been defined in the options object\r\n            if (getKeyLength(options.buttons) > 0) {\r\n\r\n                for (const [key, b] of Object.entries(buttons)) {\r\n                    let button = generateElement(templates.button);\r\n                    button.dataset.bbHandler = key;\r\n\r\n                    var classNames = b.className.split(' ');\r\n                    classNames.forEach(name => { button.classList.add(name);});\r\n\r\n                    switch (key) {\r\n                    case 'ok':\r\n                    case 'confirm':\r\n                        button.classList.add('bootbox-accept');\r\n                        break;\r\n\r\n                    case 'cancel':\r\n                        button.classList.add('bootbox-cancel');\r\n                        break;\r\n                    }\r\n\r\n                    button.innerHTML = b.label;\r\n\r\n                    if (b.id) {\r\n                        button.setAttribute({ 'id': b.id });\r\n                    }\r\n\r\n                    if (b.disabled === true) {\r\n                        button.disabled = true;\r\n                    }\r\n\r\n                    footer.append(button);\r\n\r\n                    callbacks[key] = b.callback;\r\n                }\r\n\r\n                body.after(footer);\r\n            }\r\n\r\n            if (options.animate === true) {\r\n                dialog.classList.add('fade');\r\n            }\r\n\r\n            if (options.className) {\r\n                options.className.split(' ').forEach(name => { dialog.classList.add(name); });\r\n            }\r\n\r\n            if (options.id) {\r\n                dialog.setAttribute({ 'id': options.id });\r\n            }\r\n\r\n            if (options.size) {\r\n                // Requires Bootstrap 3.1.0 or higher\r\n                if (options.fullBootstrapVersion.substring(0, 3) < '3.1') {\r\n                    console.warn(\r\n                        `\"size\" requires Bootstrap 3.1.0 or higher. You appear to be using ${options\r\n                        .fullBootstrapVersion}. Please upgrade to use this option.`);\r\n                }\r\n\r\n                switch (options.size) {\r\n                case 'small':\r\n                case 'sm':\r\n                    innerDialog.classList.add('modal-sm');\r\n                    break;\r\n\r\n                case 'large':\r\n                case 'lg':\r\n                    innerDialog.classList.add('modal-lg');\r\n                    break;\r\n\r\n                case 'extra-large':\r\n                case 'xl':\r\n                    innerDialog.classList.add('modal-xl');\r\n\r\n                    // Requires Bootstrap 4.2.0 or higher\r\n                    if (options.fullBootstrapVersion.substring(0, 3) < '4.2') {\r\n                        console.warn(\r\n                            `Using size \"xl\"/\"extra-large\" requires Bootstrap 4.2.0 or higher. You appear to be using ${\r\n                            options.fullBootstrapVersion\r\n                            }. Please upgrade to use this option.`);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (options.scrollable) {\r\n                innerDialog.classList.add('modal-dialog-scrollable');\r\n\r\n                // Requires Bootstrap 4.3.0 or higher\r\n                if (options.fullBootstrapVersion.substring(0, 3) < '4.3') {\r\n                    console.warn(\r\n                        `Using \"scrollable\" requires Bootstrap 4.3.0 or higher. You appear to be using ${options\r\n                        .fullBootstrapVersion}. Please upgrade to use this option.`);\r\n                }\r\n            }\r\n\r\n            if (options.title || options.closeButton) {\r\n                if (options.title) {\r\n                    header.querySelector('.modal-title').innerHTML = options.title;\r\n                } else {\r\n                    header.classList.add('border-0');\r\n                }\r\n\r\n                if (options.closeButton) {\r\n                    let closeButton = generateElement(templates.closeButton);\r\n                    if (options.bootstrap < 5) {\r\n                        closeButton.innerHTML = '&#215;';\r\n                    }\r\n\r\n                    /* Note: the close button for Bootstrap 5+ does not contain content */\r\n                    if (options.bootstrap < 4) {\r\n                        /* Bootstrap 3 and under */\r\n                        header.prepend(closeButton);\r\n                    } else {\r\n                        header.append(closeButton);\r\n                    }\r\n                }\r\n\r\n                body.before(header);\r\n            }\r\n\r\n            if (options.centerVertical) {\r\n                innerDialog.classList.add('modal-dialog-centered');\r\n\r\n                // Requires Bootstrap 4.0.0-beta.3 or higher\r\n                if (options.fullBootstrapVersion < '4.0.0') {\r\n                    console.warn(\r\n                        `\"centerVertical\" requires Bootstrap 4.0.0-beta.3 or higher. You appear to be using ${\r\n                        options.fullBootstrapVersion}. Please upgrade to use this option.`);\r\n                }\r\n            }\r\n\r\n            // Bootstrap event listeners; these handle extra setup & teardown required after the underlying modal has performed certain actions.\r\n\r\n            if (!options.reusable) {\r\n                // make sure we unbind any listeners once the dialog has definitively been dismissed\r\n                dialog.addEventListener('hide.bs.modal',\r\n                    function() {\r\n\r\n                        dialog.removeEventListener('escape.close.bb', null);\r\n                        dialog.removeEventListener('click', null);\r\n                    },\r\n                    { once: true });\r\n\r\n                dialog.addEventListener('hidden.bs.modal',\r\n                    function() {\r\n\r\n                        // Ensure we don't accidentally intercept hidden events triggered by children of the current dialog. \r\n                        // We shouldn't need to handle this anymore, now that Bootstrap namespaces its events, but still worth doing.\r\n                        dialog.remove();\r\n\r\n                        dialog = null;\r\n\r\n\r\n                    },\r\n                    { once: true });\r\n            }\r\n\r\n            if (options.onHide) {\r\n                if (typeof options.onHide === 'function') {\r\n                    dialog.addEventListener('hide.bs.modal', options.onHide);\r\n                } else {\r\n                    throw new Error('Argument supplied to \"onHide\" must be a function');\r\n                }\r\n            }\r\n\r\n            if (options.onHidden) {\r\n                if (typeof options.onHidden === 'function') {\r\n                    dialog.addEventListener('hidden.bs.modal', options.onHidden);\r\n                } else {\r\n                    throw new Error('Argument supplied to \"onHidden\" must be a function');\r\n                }\r\n            }\r\n\r\n            if (options.onShow) {\r\n                if (typeof options.onShow === 'function') {\r\n                    addEventListener(dialog, 'show.bs.modal', options.onShow);\r\n                } else {\r\n                    throw new Error('Argument supplied to \"onShow\" must be a function');\r\n                }\r\n            }\r\n\r\n            dialog.addEventListener('shown.bs.modal', { dialog: dialog }, focusPrimaryButton);\r\n\r\n            if (options.onShown) {\r\n                if (typeof options.onShown === 'function') {\r\n                    addEventListener(dialog, 'shown.bs.modal', options.onShown);\r\n                } else {\r\n                    throw new Error('Argument supplied to \"onShown\" must be a function');\r\n                }\r\n            }\r\n\r\n            // Bootbox event listeners; used to decouple some behaviours from their respective triggers\r\n\r\n            if (options.backdrop === true) {\r\n                let startedOnBody = false;\r\n\r\n                // Prevents the event from propagating to the backdrop, when something inside the dialog is clicked\r\n                addEventListener(dialog,\r\n                    'mousedown',\r\n                    function(e) {\r\n                        e.stopPropagation();\r\n\r\n                        startedOnBody = true;\r\n                    });\r\n\r\n                // A boolean true/false according to the Bootstrap docs should show a dialog the user can dismiss by clicking on the background.\r\n                // We always only ever pass static/false to the actual $.modal function because with \"true\" we can't trap this event (the .modal-backdrop swallows it).\r\n                // However, we still want to sort-of respect true and invoke the escape mechanism instead\r\n                addEventListener(dialog, 'click.dismiss.bs.modal', function (e) {\r\n                    if (startedOnBody || e.target !== e.currentTarget) {\r\n                        return;\r\n                    }\r\n                    trigger(dialog, 'escape.close.bb');\r\n                });\r\n            }\r\n\r\n            dialog.addEventListener('escape.close.bb',\r\n                function(e) {\r\n                    // The if() statement looks redundant but it isn't; without it, if we *didn't* have an onEscape handler then processCallback would automatically dismiss the dialog\r\n                    if (callbacks.onEscape) {\r\n                       processCallback(e, dialog, callbacks.onEscape);\r\n                    }\r\n                });\r\n\r\n            dialog.addEventListener('click',\r\n                (e) => {\r\n\t\t\t\t\tif (e.target.nodeName.toLowerCase() === 'button' && !e.target.classList.contains('disabled')) {\r\n                        const callbackKey = e.target.dataset.bbHandler;\r\n\t\t\t\t\t\t\r\n                        if (callbackKey !== undefined) {\r\n\r\n                            // Only process callbacks for buttons we recognize:\r\n                            processCallback(e, dialog, callbacks[callbackKey]);\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n            document.addEventListener('click',\r\n                (e) => {\r\n                    if (e.target.closest('.bootbox-close-button')) {\r\n                        processCallback(e, dialog, callbacks.onEscape);\r\n                    }\r\n                });\r\n\r\n            dialog.addEventListener('keyup',\r\n                function(e) {\r\n                    if (e.which === 27) {\r\n                        trigger(dialog, 'escape.close.bb');\r\n                    }\r\n                });\r\n\r\n            /*\r\n            The remainder of this method simply deals with adding our dialog element to the DOM, augmenting it with \r\n            Bootstrap's modal functionality and then giving the resulting object back to our caller\r\n            */\r\n\r\n            if (typeof options.container === 'object') {\r\n               options.container.append(dialog);\r\n            } else {\r\n                document.querySelector(options.container).append(dialog);\r\n            }\r\n            \r\n\r\n            const modal = new bootstrap.Modal(dialog,\r\n                {\r\n                    backdrop: options.backdrop,\r\n                    keyboard: false,\r\n                    show: false\r\n                });\r\n\r\n            if (options.show) {\r\n                modal.show(options.relatedTarget);\r\n            }\r\n\r\n            return dialog;\r\n        };\r\n\r\n\r\n        /**\r\n         * Helper function to simulate the native alert() behavior. **NOTE**: This is non-blocking, so any code that must happen after the alert is dismissed should be placed within the callback function for this alert.\r\n         * @returns  A jQuery object upon which Bootstrap's modal function has been called\r\n         */\r\n        exports.alert = function() {\r\n            let options;\r\n\r\n            options = mergeDialogOptions('alert', ['ok'], ['message', 'callback'], arguments);\r\n\r\n            // @TODO: can this move inside exports.dialog when we're iterating over each button and checking its button.callback value instead?\r\n            if (options.callback && typeof options.callback !== 'function') {\r\n                throw new Error('alert requires the \"callback\" property to be a function when provided');\r\n            }\r\n\r\n            // Override the ok and escape callback to make sure they just invoke the single user-supplied one (if provided)\r\n            options.buttons.ok.callback = options.onEscape = function() {\r\n                if (typeof options.callback === 'function') {\r\n                    return options.callback.call(this);\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            return exports.dialog(options);\r\n        };\r\n\r\n\r\n        /**\r\n         * Helper function to simulate the native confirm() behavior. **NOTE**: This is non-blocking, so any code that must happen after the confirm is dismissed should be placed within the callback function for this confirm.\r\n         * @returns A jQuery object upon which Bootstrap's modal function has been called\r\n         */\r\n        exports.confirm = function() {\r\n            let options;\r\n\r\n            options = mergeDialogOptions('confirm', ['cancel', 'confirm'], ['message', 'callback'], arguments);\r\n\r\n            // confirm specific validation; they don't make sense without a callback so make sure it's present\r\n            if (typeof options.callback !== 'function') {\r\n                throw new Error('confirm requires a callback');\r\n            }\r\n\r\n            // Overrides; undo anything the user tried to set they shouldn't have\r\n            options.buttons.cancel.callback = options.onEscape = function() {\r\n                return options.callback.call(this, false);\r\n            };\r\n\r\n            options.buttons.confirm.callback = function() {\r\n                return options.callback.call(this, true);\r\n            };\r\n\r\n            return exports.dialog(options);\r\n        };\r\n\r\n\r\n        /**\r\n         * Helper function to simulate the native prompt() behavior. **NOTE**: This is non-blocking, so any code that must happen after the prompt is dismissed should be placed within the callback function for this prompt.\r\n         * @returns A jQuery object upon which Bootstrap's modal function has been called\r\n         */\r\n        exports.prompt = function() {\r\n            let options;\r\n            let promptDialog;\r\n            let form;\r\n            let input;\r\n            let shouldShow;\r\n            let inputOptions;\r\n\r\n            // We have to create our form first, otherwise its value is undefined when gearing up our options.\r\n            // @TODO this could be solved by allowing message to be a function instead...\r\n            form = generateElement(templates.form);\r\n\r\n            // prompt defaults are more complex than others in that users can override more defaults\r\n            options = mergeDialogOptions('prompt', ['cancel', 'confirm'], ['title', 'callback'], arguments);\r\n\r\n            if (!options.value) {\r\n                options.value = defaults.value;\r\n            }\r\n\r\n            if (!options.inputType) {\r\n                options.inputType = defaults.inputType;\r\n            }\r\n\r\n            // Capture the user's 'show' value; we always set this to false before spawning the dialog to give us a chance to attach some handlers to it, but we need to make sure we respect a preference not to show it\r\n            shouldShow = (options.show === undefined) ? defaults.show : options.show;\r\n\r\n            // This is required prior to calling the dialog builder below - we need to add an event handler just before the prompt is shown\r\n            options.show = false;\r\n\r\n            // Handles the 'cancel' action\r\n            options.buttons.cancel.callback = options.onEscape = function() {\r\n                return options.callback.call(this, null);\r\n            };\r\n\r\n            // Prompt submitted - extract the prompt value. This requires a bit of work, given the different input types available.\r\n            options.buttons.confirm.callback = function() {\r\n\t            let value;\r\n\r\n\t            if (options.inputType === 'checkbox') {\r\n\t\t            const checkedInputs = Array.from(input.querySelectorAll('input[type=\"checkbox\"]:checked'));\r\n\r\n\t\t            value = Array.from(checkedInputs).map(function(e) {\r\n\t\t\t            return e.value;\r\n\t\t            });\r\n\r\n\t\t            if (options.required === true && checkedInputs.length === 0) {\r\n\t\t\t            // prevents button callback from being called if no checkboxes have been checked\r\n\t\t\t            return false;\r\n\t\t            }\r\n\t            } else if (options.inputType === 'radio') {\r\n\t\t            value = input.querySelector('input[type=\"radio\"]:checked').value;\r\n\t            } else {\r\n\t\t            value = input.value;\r\n\t            }\r\n\r\n\t            return options.callback.call(this, value);\r\n            };\r\n\r\n            // prompt-specific validation\r\n            if (!options.title) {\r\n                throw new Error('prompt requires a title');\r\n            }\r\n\r\n            if (typeof options.callback !== 'function') {\r\n                throw new Error('prompt requires a callback');\r\n            }\r\n\r\n            if (!templates.inputs[options.inputType]) {\r\n                throw new Error('Invalid prompt type');\r\n            }\r\n\r\n            // Create the input based on the supplied type\r\n            input = generateElement(templates.inputs[options.inputType]);\r\n\r\n            switch (options.inputType) {\r\n            case 'text':\r\n            case 'textarea':\r\n            case 'email':\r\n            case 'password':\r\n                input.value = options.value;\r\n\r\n                if (options.placeholder) {\r\n                    input.setAttribute('placeholder', options.placeholder);\r\n                }\r\n\r\n                if (options.pattern) {\r\n                    input.setAttribute('pattern', options.pattern);\r\n                }\r\n\r\n                if (options.maxlength) {\r\n                    input.setAttribute('maxlength', options.maxlength);\r\n                }\r\n\r\n                if (options.required) {\r\n                    input.required = true;\r\n                }\r\n\r\n                if (options.rows && !isNaN(parseInt(options.rows))) {\r\n                    if (options.inputType === 'textarea') {\r\n                        input.setAttribute('rows', options.rows);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'date':\r\n            case 'time':\r\n            case 'number':\r\n            case 'range':\r\n                input.value = options.value;\r\n\r\n                if (options.placeholder) {\r\n                    input.setAttribute('placeholder', options.placeholder);\r\n                }\r\n\r\n                if (options.pattern) {\r\n                    input.setAttribute('pattern', options.pattern);\r\n                } else {\r\n                    if (options.inputType === 'date') {\r\n                        // Add the ISO-8601 short date format as a fallback for browsers without native type=\"date\" support\r\n                        input.setAttribute('pattern', '\\d{4}-\\d{2}-\\d{2}');\r\n                    } else if (options.inputType === 'time') {\r\n                        // Add an HH:MM pattern as a fallback for browsers without native type=\"time\" support\r\n                        input.setAttribute('pattern', '\\d{2}:\\d{2}');\r\n                    }\r\n                }\r\n\r\n                if (options.required) {\r\n                    input.required = true;\r\n                }\r\n\r\n                \r\n                if (options.step) {\r\n\t                if (options.step === 'any' || (!isNaN(options.step) && parseFloat(options.step) > 0)) {\r\n\t\t                input.setAttribute('step', options.step);\r\n\t                } else {\r\n\t\t                throw new Error(\r\n\t\t\t                '\"step\" must be a valid positive number or the value \"any\". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');\r\n\t                }\r\n                }\r\n\r\n                if (minAndMaxAreValid(options.inputType, options.min, options.max)) {\r\n                    if (options.min !== undefined) {\r\n                        input.setAttribute('min', options.min);\r\n                    }\r\n                    if (options.max !== undefined) {\r\n                        input.setAttribute('max', options.max);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case 'select':\r\n                var groups = {};\r\n                inputOptions = options.inputOptions || [];\r\n\r\n                if (!Array.isArray(inputOptions)) {\r\n                    throw new Error('Please pass an array of input options');\r\n                }\r\n\r\n                if (!inputOptions.length) {\r\n                    throw new Error('prompt with \"inputType\" set to \"select\" requires at least one option');\r\n                }\r\n\r\n                if (options.required) {\r\n                    input.required = true;\r\n                }\r\n\r\n                if (options.multiple) {\r\n                    input.multiple = true;\r\n                }\r\n\r\n                for (const [, option] of Object.entries(inputOptions)) {\r\n                    // Assume the element to attach to is the input...\r\n                    let elem = input;\r\n\r\n                    if (option.value === undefined || option.text === undefined) {\r\n                        throw new Error('each option needs a \"value\" property and a \"text\" property');\r\n                    }\r\n\r\n                    // ... but override that element if this option sits in a group\r\n\r\n                    if (option.group) {\r\n\r\n                        // Initialise group if necessary\r\n                        if (!groups[option.group]) {\r\n                            var groupElement = generateElement('<optgroup />');\r\n                            groupElement.setAttribute('label', option.group);\r\n\r\n                            groups[option.group] = groupElement;\r\n                        }\r\n\r\n                        elem = groups[option.group];\r\n                    }\r\n\r\n                    let o = generateElement(templates.option);\r\n\r\n                    o.setAttribute('value', option.value);\r\n                    o.textContent = option.text;\r\n\r\n                   \r\n\r\n                    elem.append(o);\r\n                }\r\n\r\n                for (const [key, group] of Object.entries(groups)) {\r\n                    input.append(group);\r\n                }\r\n\r\n                // Safe to set a select's value as per a normal input\r\n                input.value = options.value;\r\n                if (options.bootstrap < 5) {\r\n                    input.classList.remove('form-select');\r\n                    input.classList.add('form-control');\r\n                }\r\n                break;\r\n\r\n            case 'checkbox':\r\n                var checkboxValues = Array.isArray(options.value) ? options.value : [options.value];\r\n                inputOptions = options.inputOptions || [];\r\n\r\n                if (!inputOptions.length) {\r\n                    throw new Error('prompt with \"inputType\" set to \"checkbox\" requires at least one option');\r\n                }\r\n\r\n                // Checkboxes have to nest within a containing element, so they break the rules a bit and we end up re-assigning our 'input' element to this container instead\r\n                input = generateElement('<div class=\"bootbox-checkbox-list\"></div>');\r\n\r\n                for (const [_, option] of Object.entries(inputOptions)) {\r\n                    if (option.value === undefined || option.text === undefined) {\r\n                        throw new Error('each option needs a \"value\" property and a \"text\" property');\r\n                    }\r\n\r\n                    let checkbox = generateElement(templates.inputs[options.inputType]);\r\n\r\n                    checkbox.querySelector('input').setAttribute('value', option.value);\r\n                    checkbox.querySelector('label').append(`\\n${option.text}`);\r\n\r\n                    // We've ensured values is an array, so we can always iterate over it\r\n                    for (const [key, value] of Object.entries(checkboxValues)) {\r\n                        if (value === option.value) {\r\n                            checkbox.querySelector('input').checked = true;\r\n                        }\r\n                    }\r\n\r\n                    input.append(checkbox);\r\n                }\r\n                break;\r\n\r\n            case 'radio':\r\n                // Make sure that value is not an array (only a single radio can ever be checked)\r\n                if (options.value !== undefined && Array.isArray(options.value)) {\r\n                    throw new Error(\r\n                        'prompt with \"inputType\" set to \"radio\" requires a single, non-array value for \"value\"');\r\n                }\r\n\r\n                inputOptions = options.inputOptions || [];\r\n\r\n                if (!inputOptions.length) {\r\n                    throw new Error('prompt with \"inputType\" set to \"radio\" requires at least one option');\r\n                }\r\n\r\n                // Radiobuttons have to nest within a containing element, so they break the rules a bit and we end up re-assigning our 'input' element to this container instead\r\n                input = generateElement('<div class=\"bootbox-radiobutton-list\"></div>');\r\n\r\n                // Radiobuttons should always have an initial checked input checked in a \"group\".\r\n                // If value is undefined or doesn't match an input option, select the first radiobutton\r\n                var checkFirstRadio = true;\r\n\r\n                for (const [_, option] of Object.entries(inputOptions)) {\r\n                    if (option.value === undefined || option.text === undefined) {\r\n                        throw new Error('each option needs a \"value\" property and a \"text\" property');\r\n                    }\r\n\r\n                    let radio = generateElement(templates.inputs[options.inputType]);\r\n\r\n                    radio.querySelector('input').setAttribute('value', option.value);\r\n                    radio.querySelector('label').append(`\\n${option.text}`);\r\n\r\n                    if (options.value !== undefined) {\r\n                        if (option.value === options.value) {\r\n                            radio.querySelector('input').checked = true;\r\n                            checkFirstRadio = false;\r\n                        }\r\n                    }\r\n\r\n                    input.append(radio);\r\n                }\r\n\r\n                if (checkFirstRadio) {\r\n                    input.querySelector('input[type=\"radio\"]').setAttribute('checked', true);\r\n                }\r\n                break;\r\n            }\r\n\r\n            // Now place it in our form\r\n            form.append(input);\r\n\r\n            form.addEventListener('submit',\r\n                function(e) {\r\n                    e.preventDefault();\r\n                    // Fix for SammyJS (or similar JS routing library) hijacking the form post.\r\n                    e.stopPropagation();\r\n\r\n                    // @TODO can we actually click *the* button object instead?\r\n                    // e.g. buttons.confirm.click() or similar\r\n                    promptDialog.querySelector('.bootbox-accept').click();\r\n                });\r\n\r\n            if (options.message && options.message.trim() !== '') {\r\n                // Add the form to whatever content the user may have added.\r\n                let message = generateElement(templates.promptMessage).innerHTML = options.message;\r\n                form.prepend(message);\r\n                options.message = form;\r\n            } else {\r\n                options.message = form;\r\n            }\r\n\r\n            // Generate the dialog\r\n            promptDialog = exports.dialog(options);\r\n\r\n            // Clear the existing handler focusing the submit button...\r\n            promptDialog.removeEventListener('shown.bs.modal', focusPrimaryButton);\r\n\r\n            // ...and replace it with one focusing our input, if possible\r\n            promptDialog.addEventListener('shown.bs.modal',\r\n                function() {\r\n                    // Need the closure here since input isn't can object otherwise\r\n                    input.focus();\r\n                });\r\n\r\n            const modal = new bootstrap.Modal(promptDialog);\r\n\r\n            if (shouldShow === true) {\r\n                modal.show();\r\n            }\r\n\r\n            return promptDialog;\r\n        };\r\n\r\n        function deepExtend(out, ...arguments_) {\r\n            if (!out) {\r\n                return {};\r\n            }\r\n\r\n            for (const obj of arguments_) {\r\n                if (!obj) {\r\n                    continue;\r\n                }\r\n\r\n                for (const [key, value] of Object.entries(obj)) {\r\n                    switch (Object.prototype.toString.call(value)) {\r\n                    case '[object Object]':\r\n                        out[key] = out[key] || {};\r\n                        out[key] = deepExtend(out[key], value);\r\n                        break;\r\n                    case '[object Array]':\r\n                        out[key] = deepExtend(new Array(value.length), value);\r\n                        break;\r\n                    default:\r\n                        out[key] = value;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return out;\r\n        }\r\n\r\n        // INTERNAL FUNCTIONS\r\n        // *************************************************************************************************************\r\n\r\n        // Map a flexible set of arguments into a single returned object.\r\n        // If args.length is already one just return it, otherwise use the properties argument to map the unnamed args to object properties.\r\n        // So in the latter case:\r\n        //\r\n        //    mapArguments([\"foo\", $.noop], [\"message\", \"callback\"])\r\n        //  \r\n        //  results in\r\n        //\r\n        //    { message: \"foo\", callback: $.noop }\r\n        //\r\n        function mapArguments(args, properties) {\r\n            const argsLength = args.length;\r\n            let options = {};\r\n\r\n            if (argsLength < 1 || argsLength > 2) {\r\n                throw new Error('Invalid argument length');\r\n            }\r\n\r\n            if (argsLength === 2 || typeof args[0] === 'string') {\r\n                options[properties[0]] = args[0];\r\n                options[properties[1]] = args[1];\r\n            } else {\r\n                options = args[0];\r\n            }\r\n\r\n            return options;\r\n        }\r\n\r\n\r\n        // Merge a set of default dialog options with user supplied arguments\r\n        function mergeArguments(defaults, args, properties) {\r\n            return deepExtend(\r\n                // Ensure the target is an empty, unreferenced object\r\n                {},\r\n                // The base options object for this type of dialog (often just buttons)\r\n                defaults,\r\n                // 'args' could be an object or array; if it's an array properties will map it to a proper options object\r\n                mapArguments(args, properties)\r\n            );\r\n        }\r\n\r\n\r\n        // This entry-level method makes heavy use of composition to take a simple range of inputs and return valid options suitable for passing to bootbox.dialog\r\n        function mergeDialogOptions(className, labels, properties, args) {\r\n            let locale;\r\n            if (args && args[0]) {\r\n                locale = args[0].locale || defaults.locale;\r\n                const swapButtons = args[0].swapButtonOrder || defaults.swapButtonOrder;\r\n\r\n                if (swapButtons) {\r\n                    labels = labels.reverse();\r\n                }\r\n            }\r\n\r\n            // Build up a base set of dialog properties\r\n            const baseOptions = {\r\n                className: `bootbox-${className}`,\r\n                buttons: createLabels(labels, locale)\r\n            };\r\n\r\n            // Ensure the buttons properties generated, *after* merging with user args are still valid against the supplied labels\r\n            return validateButtons(\r\n                // Merge the generated base properties with user supplied arguments\r\n                mergeArguments(\r\n                    baseOptions,\r\n                    args,\r\n                    // If args.length > 1, properties specify how each arg maps to an object key\r\n                    properties\r\n                ),\r\n                labels\r\n            );\r\n        }\r\n\r\n\r\n        // Checks each button object to see if key is valid. \r\n        // This function will only be called by the alert, confirm, and prompt helpers. \r\n        function validateButtons(options, buttons) {\r\n            const allowedButtons = {};\r\n\r\n            for (const [key, value] of Object.entries(buttons)) {\r\n                allowedButtons[value] = true;\r\n            }\r\n\r\n            for (const [key, value] of Object.entries(options.buttons)) {\r\n                if (allowedButtons[key] === undefined) {\r\n                    throw new Error(`button key \"${key}\" is not allowed (options are ${buttons.join(' ')})`);\r\n                }\r\n            }\r\n\r\n            return options;\r\n        }\r\n\r\n\r\n        // From a given list of arguments, return a suitable object of button labels.\r\n        // All this does is normalise the given labels and translate them where possible.\r\n        // e.g. \"ok\", \"confirm\" -> { ok: \"OK\", cancel: \"Annuleren\" }\r\n        function createLabels(labels, locale) {\r\n            const buttons = {};\r\n\r\n            for (let i = 0, j = labels.length; i < j; i++) {\r\n                const argument = labels[i];\r\n                const key = argument.toLowerCase();\r\n                const value = argument.toUpperCase();\r\n\r\n                buttons[key] = {\r\n                    label: getText(value, locale)\r\n                };\r\n            }\r\n\r\n            return buttons;\r\n        }\r\n\r\n\r\n        // Get localized text from a locale. Defaults to 'en' locale if no locale provided or a non-registered locale is requested\r\n        function getText(key, locale) {\r\n            const labels = locales[locale];\r\n\r\n            return labels ? labels[key] : locales.en[key];\r\n        }\r\n\r\n\r\n        // Filter and tidy up any user supplied parameters to this dialog.\r\n        // Also looks for any shorthands used and ensures that the options which are returned are all normalized properly\r\n        function sanitize(options) {\r\n            let buttons;\r\n            let total;\r\n\r\n            if (typeof options !== 'object') {\r\n                throw new Error('Please supply an object of options');\r\n            }\r\n\r\n            if (!options.message) {\r\n                throw new Error('\"message\" option must not be null or an empty string.');\r\n            }\r\n\r\n            // Make sure any supplied options take precedence over defaults\r\n            options = Object.assign({}, defaults, options);\r\n\r\n\r\n            // Make sure backdrop is either true, false, or 'static'\r\n            if (!options.backdrop) {\r\n                options.backdrop = (options.backdrop === false || options.backdrop === 0) ? false : 'static';\r\n            } else {\r\n                options.backdrop = typeof options.backdrop === 'string' && options.backdrop.toLowerCase() === 'static' ? 'static' : true;\r\n            }\r\n\r\n            // No buttons is still a valid dialog but it's cleaner to always have a buttons object to iterate over, even if it's empty\r\n            if (!options.buttons) {\r\n                options.buttons = {};\r\n            }\r\n\r\n            buttons = options.buttons;\r\n\r\n            total = getKeyLength(buttons);\r\n\r\n            var index = 0;\r\n\r\n            for (var [key, button] of Object.entries(buttons)) {\r\n                if (typeof button === 'function') {\r\n                    // Short form, assume value is our callback. Since button isn't an object it isn't a reference either so re-assign it\r\n                    button = buttons[key] = {\r\n                        callback: button\r\n                    };\r\n                }\r\n\r\n                // Before any further checks, make sure button is the correct type\r\n                if (Object.prototype.toString\r\n                    .call(button)\r\n                    .replace(/^\\[object (.+)\\]$/, '$1')\r\n                    .toLowerCase() !==\r\n                    'object') {\r\n                    throw new Error(`button with key \"${key}\" must be an object`);\r\n                }\r\n\r\n                if (!button.label) {\r\n                    // The lack of an explicit label means we'll assume the key is good enough\r\n                    button.label = key;\r\n                }\r\n\r\n                if (!button.className) {\r\n                    let isPrimary = false;\r\n                    if (options.swapButtonOrder) {\r\n                        isPrimary = index === 0;\r\n                    } else {\r\n                        isPrimary = index === total - 1;\r\n                    }\r\n\r\n                    if (total <= 2 && isPrimary) {\r\n                        // always add a primary to the main option in a one or two-button dialog\r\n                        button.className = 'btn-primary';\r\n                    } else {\r\n                        // adding both classes allows us to target both BS3 and BS4+ without needing to check the version\r\n                        button.className = 'btn-secondary btn-default';\r\n                    }\r\n                }\r\n\r\n                index++;\r\n            }\r\n\r\n            return options;\r\n        }\r\n\r\n\r\n        // Returns a count of the properties defined on the object\r\n        function getKeyLength(obj) {\r\n            return Object.keys(obj).length;\r\n        }\r\n\r\n        function focusPrimaryButton(e) {\r\n            trigger(e.data.dialog.querySelector('.bootbox-accept').first(), 'focus');\r\n        }\r\n\r\n\r\n        //  Handle the invoked dialog callback\r\n        function processCallback(e, dialog, callback) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n\r\n            // By default we assume a callback will get rid of the dialog, although it is given the opportunity to override this\r\n            // If the callback can be invoked and it *explicitly returns false*, then we'll set a flag to keep the dialog active...\r\n            const preserveDialog = typeof callback === 'function' && callback.call(dialog, e) === false;\r\n\r\n            // ... otherwise we'll bin it\r\n            if (!preserveDialog && dialog) {\r\n                bootstrap.Modal.getInstance(dialog).hide();\r\n            }\r\n        }\r\n\r\n        // Validate `min` and `max` values based on the current `inputType` value\r\n        function minAndMaxAreValid(type, min, max) {\r\n            let result = false;\r\n            let minValid = true;\r\n            let maxValid = true;\r\n\r\n            if (type === 'date') {\r\n                if (min !== undefined && !(minValid = dateIsValid(min))) {\r\n                    console.warn(\r\n                        'Browsers which natively support the \"date\" input type expect date values to be of the form \"YYYY-MM-DD\" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your min value may not be enforced by this browser.');\r\n                } else if (max !== undefined && !(maxValid = dateIsValid(max))) {\r\n                    console.warn(\r\n                        'Browsers which natively support the \"date\" input type expect date values to be of the form \"YYYY-MM-DD\" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your max value may not be enforced by this browser.');\r\n                }\r\n            } else if (type === 'time') {\r\n                if (min !== undefined && !(minValid = timeIsValid(min))) {\r\n                    throw new Error(\r\n                        '\"min\" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');\r\n                } else if (max !== undefined && !(maxValid = timeIsValid(max))) {\r\n                    throw new Error(\r\n                        '\"max\" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');\r\n                }\r\n            } else {\r\n                if (min !== undefined && isNaN(min)) {\r\n                    minValid = false;\r\n                    throw new Error(\r\n                        '\"min\" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-min for more information.');\r\n                }\r\n\r\n                if (max !== undefined && isNaN(max)) {\r\n                    maxValid = false;\r\n                    throw new Error(\r\n                        '\"max\" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');\r\n                }\r\n            }\r\n\r\n            if (minValid && maxValid) {\r\n                if (max < min) {\r\n                    throw new Error('\"max\" must be greater than or equal to \"min\". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');\r\n                } else {\r\n                    result = true;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        function timeIsValid(value) {\r\n            return /([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(value);\r\n        }\r\n\r\n        function dateIsValid(value) {\r\n            return /(\\d{4})-(\\d{2})-(\\d{2})/.test(value);\r\n        }\r\n        function trigger(el, eventType) {\r\n            if (typeof eventType === 'string' && typeof el[eventType] === 'function') {\r\n                el[eventType]();\r\n            } else {\r\n                const event =\r\n                    typeof eventType === 'string' ? new Event(eventType, { bubbles: true }) : eventType;\r\n                el.dispatchEvent(event);\r\n            }\r\n        }\r\n\r\n        // helper Class\r\n        function generateElement(html) {\r\n            const template = document.createElement('template');\r\n            template.innerHTML = html.trim();\r\n            return template.content.children[0];\r\n        }\r\n        function addEventListener(el, eventName, eventHandler, selector) {\r\n            if (selector) {\r\n                const wrappedHandler = (e) => {\r\n                    if (!e.target) return;\r\n                    const el = e.target.closest(selector);\r\n                    if (el) {\r\n                        eventHandler.call(el, e);\r\n                    }\r\n                };\r\n                el.addEventListener(eventName, wrappedHandler);\r\n                return wrappedHandler;\r\n            } else {\r\n                const wrappedHandler = (e) => {\r\n                    eventHandler.call(el, e);\r\n                };\r\n                el.addEventListener(eventName, wrappedHandler);\r\n                return wrappedHandler;\r\n            }\r\n        }\r\n\r\n        //  The Bootbox object\r\n        return exports;\r\n    }));","/**\r\n * Lightbox for Bootstrap 5\r\n *\r\n * @file Creates a modal with a lightbox carousel.\r\n * @module bs5-lightbox\r\n */\r\n\r\nimport { Modal, Carousel } from 'bootstrap';\r\nconst bootstrap = {\r\n\tModal,\r\n\tCarousel\r\n};\r\nclass Lightbox {\r\n\tconstructor(el, options = {}) {\r\n\t\tthis.hash = this.randomHash();\r\n\t\tthis.settings = Object.assign(Object.assign(Object.assign({}, bootstrap.Modal.Default), bootstrap.Carousel.Default), {\r\n\t\t\tinterval: false,\r\n\t\t\ttarget: '[data-toggle=\"lightbox\"]',\r\n\t\t\tgallery: '',\r\n\t\t\tsize: 'xl',\r\n\t\t\tconstrain: true\r\n\t\t});\r\n\t\tthis.settings = Object.assign(Object.assign({}, this.settings), options);\r\n\t\tthis.modalOptions = (() => this.setOptionsFromSettings(bootstrap.Modal.Default))();\r\n\t\tthis.carouselOptions = (() => this.setOptionsFromSettings(bootstrap.Carousel.Default))();\r\n\t\tif (typeof el === 'string') {\r\n\t\t\tthis.settings.target = el;\r\n\t\t\tel = document.querySelector(this.settings.target);\r\n\t\t}\r\n\t\tthis.el = el;\r\n\t\tthis.type = el.dataset.type || '';\r\n\r\n\t\t// check for data-size attribute\r\n\t\tif (el.dataset.size) {\r\n\t\t\tthis.settings.size = el.dataset.size;\r\n\t\t}\r\n\r\n\t\tthis.src = this.getSrc(el);\r\n\t\tthis.sources = this.getGalleryItems();\r\n\t\tthis.createCarousel();\r\n\t\tthis.createModal();\r\n\t}\r\n\tshow() {\r\n\t\tdocument.body.appendChild(this.modalElement);\r\n\t\tthis.modal.show();\r\n\t}\r\n\thide() {\r\n\t\tthis.modal.hide();\r\n\t}\r\n\tsetOptionsFromSettings(obj) {\r\n\t\treturn Object.keys(obj).reduce((p, c) => Object.assign(p, { [c]: this.settings[c] }), {});\r\n\t}\r\n\tgetSrc(el) {\r\n\t\tlet src = el.dataset.src || el.dataset.remote || el.href || 'http://via.placeholder.com/1600x900';\r\n\t\tif (el.dataset.type === 'html') {\r\n\t\t\treturn src;\r\n\t\t}\r\n\t\tif (!/\\:\\/\\//.test(src)) {\r\n\t\t\tsrc = window.location.origin + src;\r\n\t\t}\r\n\t\tconst url = new URL(src);\r\n\t\tif (el.dataset.footer || el.dataset.caption) {\r\n\t\t\turl.searchParams.set('caption', el.dataset.footer || el.dataset.caption);\r\n\t\t}\r\n\t\treturn url.toString();\r\n\t}\r\n\tgetGalleryItems() {\r\n\t\tlet galleryTarget;\r\n\t\tif (this.settings.gallery) {\r\n\t\t\tif (Array.isArray(this.settings.gallery)) {\r\n\t\t\t\treturn this.settings.gallery;\r\n\t\t\t}\r\n\t\t\tgalleryTarget = this.settings.gallery;\r\n\t\t} else if (this.el.dataset.gallery) {\r\n\t\t\tgalleryTarget = this.el.dataset.gallery;\r\n\t\t}\r\n\t\tconst gallery = galleryTarget\r\n\t\t\t? [...new Set(Array.from(document.querySelectorAll(`[data-gallery=\"${galleryTarget}\"]`), (v) => `${v.dataset.type ? v.dataset.type : ''}${this.getSrc(v)}`))]\r\n\t\t\t: [`${this.type ? this.type : ''}${this.src}`];\r\n\t\treturn gallery;\r\n\t}\r\n\tgetYoutubeId(src) {\r\n\t\tif (!src) return false;\r\n\t\tconst matches = src.match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/);\r\n\t\treturn matches && matches[2].length === 11 ? matches[2] : false;\r\n\t}\r\n\tgetYoutubeLink(src) {\r\n\t\tconst youtubeId = this.getYoutubeId(src);\r\n\t\tif (!youtubeId) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst arr = src.split('?');\r\n\t\tlet params = arr.length > 1 ? '?' + arr[1] : '';\r\n\t\t\r\n\t\treturn `https://www.youtube.com/embed/${youtubeId}${params}`;\r\n\t}\r\n\tgetInstagramEmbed(src) {\r\n\t\tif (/instagram/.test(src)) {\r\n\t\t\tsrc += /\\/embed$/.test(src) ? '' : '/embed';\r\n\t\t\treturn `<iframe src=\"${src}\" class=\"start-50 translate-middle-x\" style=\"max-width: 500px\" frameborder=\"0\" scrolling=\"no\" allowtransparency=\"true\"></iframe>`;\r\n\t\t}\r\n\t}\r\n\tisEmbed(src) {\r\n\t\tconst regex = new RegExp('(' + Lightbox.allowedEmbedTypes.join('|') + ')');\r\n\t\tconst isEmbed = regex.test(src);\r\n\t\tconst isImg = /\\.(png|jpe?g|gif|svg|webp)/i.test(src) || this.el.dataset.type === 'image';\r\n\r\n\t\treturn isEmbed || !isImg;\r\n\t}\r\n\tcreateCarousel() {\r\n\t\tconst template = document.createElement('template');\r\n\t\tconst types = Lightbox.allowedMediaTypes.join('|');\r\n\t\t\r\n\r\n\t\tconst slidesHtml = this.sources\r\n\t\t\t.map((src, i) => {\r\n\t\t\t\tsrc = src.replace(/\\/$/, '');\r\n\t\t\t\tconst regex = new RegExp(`^(${types})`, 'i');\r\n\t\t\t\tconst isHtml = /^html/.test(src);\r\n\t\t\t\tconst isForcedImage = /^image/.test(src);\r\n\r\n\t\t\t\tif (regex.test(src)) {\r\n\t\t\t\t\tsrc = src.replace(regex, '');\r\n\t\t\t\t}\r\n\t\t\t\tconst imgClasses = this.settings.constrain ? 'mw-100 mh-100 h-auto w-auto m-auto top-0 end-0 bottom-0 start-0' : 'h-100 w-100';\r\n\t\t\t\tconst params = new URLSearchParams(src.split('?')[1]);\r\n\t\t\t\tlet caption = '';\r\n\t\t\t\tlet url = src;\r\n\t\t\t\tif (params.get('caption')) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\turl = new URL(src);\r\n\t\t\t\t\t\turl.searchParams.delete('caption');\r\n\t\t\t\t\t\turl = url.toString();\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\turl = src;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcaption = `<div class=\"carousel-caption d-none d-md-block\" style=\"z-index:2\"><p class=\"bg-secondary rounded\">${params.get('caption')}</p></div>`;\r\n\t\t\t\t}\r\n\t\t\t\tlet inner = `<img src=\"${url}\" class=\"d-block ${imgClasses} img-fluid\" style=\"z-index: 1; object-fit: contain;\" />`;\r\n\t\t\t\tlet attributes = '';\r\n\t\t\t\tconst instagramEmbed = this.getInstagramEmbed(src);\r\n\t\t\t\tconst youtubeLink = this.getYoutubeLink(src);\r\n\t\t\t\tif (this.isEmbed(src) && !isForcedImage) {\r\n\t\t\t\t\tif (youtubeLink) {\r\n\t\t\t\t\t\tsrc = youtubeLink;\r\n\t\t\t\t\t\tattributes = 'title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer autoplay clipboard-write encrypted-media gyroscope picture-in-picture\"';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinner = instagramEmbed || `<img src=\"${src}\" ${attributes} class=\"d-block mw-100 mh-100 h-auto w-auto m-auto top-0 end-0 bottom-0 start-0 img-fluid\" style=\"z-index: 1; object-fit: contain;\" />`;\r\n\t\t\t\t}\r\n\t\t\t\tif (isHtml) {\r\n\t\t\t\t\tinner = src;\r\n\t\t\t\t}\r\n\t\t\t\tconst spinner = `<div class=\"position-absolute top-50 start-50 translate-middle text-white\"><div class=\"spinner-border\" style=\"width: 3rem height: 3rem\" role=\"status\"></div></div>`;\r\n\t\t\t\treturn `\r\n\t\t\t\t<div class=\"carousel-item ${!i ? 'active' : ''}\" style=\"min-height: 100px\">\r\n\t\t\t\t\t${spinner}\r\n\t\t\t\t\t<div class=\"ratio ratio-16x9\" style=\"background-color: #000;\">${inner}</div>\r\n\t\t\t\t\t${caption}\r\n\t\t\t\t</div>`;\r\n\t\t\t})\r\n\t\t\t.join('');\r\n\r\n        const controlsHtml =\r\n            this.sources.length < 2\r\n                ? ''\r\n                : `\r\n\t\t\t<button id=\"#lightboxCarousel-${this.hash\r\n                }-prev\" class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#lightboxCarousel-${\r\n                this.hash}\" data-bs-slide=\"prev\">\r\n\t\t\t\t<span class=\"btn btn-secondary carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t<span class=\"visually-hidden\">Previous</span>\r\n\t\t\t</button>\r\n\t\t\t<button id=\"#lightboxCarousel-${this.hash\r\n                }-next\" class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#lightboxCarousel-${\r\n                this.hash}\" data-bs-slide=\"next\">\r\n\t\t\t\t<span class=\"btn btn-secondary carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t<span class=\"visually-hidden\">Next</span>\r\n\t\t\t</button>`;\r\n    \r\n\t\tlet classes = 'lightbox-carousel carousel slide';\r\n\t\tif (this.settings.size === 'fullscreen') {\r\n\t\t\tclasses += ' position-absolute w-100 translate-middle top-50 start-50';\r\n\t\t}\r\n        const indicatorsHtml = `\r\n\t\t\t<div class=\"carousel-indicators\" style=\"bottom: -40px\">\r\n\t\t\t\t${this.sources.map((_, index) => `\r\n\t\t\t\t\t<button type=\"button\" data-bs-target=\"#lightboxCarousel-${this.hash}\" data-bs-slide-to=\"${index}\" class=\"${index === 0 ? 'active' : ''}\" aria-current=\"${index === 0 ? 'true' : 'false'}\" aria-label=\"Slide ${index + 1}\"></button>\r\n\t\t\t\t`).join('')}\r\n\t\t\t</div>`;\r\n\t\tconst html = `\r\n\t\t\t<div id=\"lightboxCarousel-${this.hash}\" class=\"${classes}\" data-bs-ride=\"carousel\" data-bs-interval=\"${this.carouselOptions.interval}\">\r\n\t\t\t    <div class=\"carousel-inner\">\r\n\t\t\t\t\t${slidesHtml}\r\n\t\t\t\t</div>\r\n\t\t\t    ${indicatorsHtml}\r\n\t\t\t\t${controlsHtml}\r\n\t\t\t</div>`;\r\n\t\ttemplate.innerHTML = html.trim();\r\n\t\tthis.carouselElement = template.content.firstChild;\r\n\t\tconst carouselOptions = Object.assign(Object.assign({}, this.carouselOptions), { keyboard: false });\r\n\t\tthis.carousel = new bootstrap.Carousel(this.carouselElement, carouselOptions);\r\n\t\tconst elSrc = this.type && this.type !== 'image' ? this.type + this.src : this.src;\r\n\t\tthis.carousel.to(this.findGalleryItemIndex(this.sources, elSrc));\r\n\t\tif (this.carouselOptions.keyboard === true) {\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tif (e.code === 'ArrowLeft') {\r\n\t\t\t\t\tconst prev = document.getElementById(`#lightboxCarousel-${this.hash}-prev`);\r\n\t\t\t\t\tif (prev) {\r\n\t\t\t\t\t\tprev.click();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.code === 'ArrowRight') {\r\n\t\t\t\t\tconst next = document.getElementById(`#lightboxCarousel-${this.hash}-next`);\r\n\t\t\t\t\tif (next) {\r\n\t\t\t\t\t\tnext.click();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.carousel;\r\n\t}\r\n\tfindGalleryItemIndex(haystack, needle) {\r\n\t\tlet index = 0;\r\n\t\tfor (const item of haystack) {\r\n\t\t\tif (item.includes(needle)) {\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t\tindex++;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\tcreateModal() {\r\n\t\tconst template = document.createElement('template');\r\n\t\tconst html = `\r\n\t\t\t<div class=\"modal lightbox fade\" id=\"lightboxModal-${this.hash}\" tabindex=\"-1\" aria-hidden=\"true\">\r\n\t\t\t\t<div class=\"modal-dialog modal-dialog-centered modal-${this.settings.size}\">\r\n\t\t\t\t\t<div class=\"modal-content border-0 bg-transparent\">\r\n\t\t\t\t\t\t<div class=\"modal-body p-0\">\r\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn-close position-absolute p-3\" data-bs-dismiss=\"modal\" aria-label=\"Close\" style=\"top: -15px;right:-40px\"></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>`;\r\n\t\ttemplate.innerHTML = html.trim();\r\n\t\tthis.modalElement = template.content.firstChild;\r\n\t\tthis.modalElement.querySelector('.modal-body').appendChild(this.carouselElement);\r\n\t\tthis.modalElement.addEventListener('hidden.bs.modal', () => this.modalElement.remove());\r\n\t\tthis.modalElement.querySelector('[data-bs-dismiss]').addEventListener('click', () => this.modal.hide());\r\n\t\tthis.modal = new bootstrap.Modal(this.modalElement, this.modalOptions);\r\n\t\treturn this.modal;\r\n\t}\r\n\trandomHash(length = 8) {\r\n\t\treturn Array.from({ length }, () => Math.floor(Math.random() * 36).toString(36)).join('');\r\n\t}\r\n}\r\nLightbox.allowedEmbedTypes = ['embed', 'youtube', 'vimeo', 'instagram', 'url'];\r\nLightbox.allowedMediaTypes = [...Lightbox.allowedEmbedTypes, 'image', 'html'];\r\nLightbox.defaultSelector = '[data-toggle=\"lightbox\"]';\r\nLightbox.initialize = function (e) {\r\n\te.preventDefault();\r\n\tconst lightbox = new Lightbox(this);\r\n\tlightbox.show();\r\n};\r\ndocument.querySelectorAll(Lightbox.defaultSelector).forEach((el) => el.addEventListener('click', Lightbox.initialize));\r\nif (typeof window !== 'undefined' && window.bootstrap) {\r\n\twindow.bootstrap.Lightbox = Lightbox;\r\n}\r\nexport default Lightbox;","/*! choices.js v11.1.0 |  2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\r\n\r\n(function (global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n    typeof define === 'function' && define.amd ? define(factory) :\r\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Choices = factory());\r\n})(this, (function () { 'use strict';\r\n\r\n    /******************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n    var extendStatics = function (d, b) {\r\n      extendStatics = Object.setPrototypeOf || {\r\n        __proto__: []\r\n      } instanceof Array && function (d, b) {\r\n        d.__proto__ = b;\r\n      } || function (d, b) {\r\n        for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\r\n      };\r\n      return extendStatics(d, b);\r\n    };\r\n    function __extends(d, b) {\r\n      if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n      extendStatics(d, b);\r\n      function __() {\r\n        this.constructor = d;\r\n      }\r\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n    var __assign = function () {\r\n      __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n          s = arguments[i];\r\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n      };\r\n      return __assign.apply(this, arguments);\r\n    };\r\n    function __spreadArray(to, from, pack) {\r\n      if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n          ar[i] = from[i];\r\n        }\r\n      }\r\n      return to.concat(ar || Array.prototype.slice.call(from));\r\n    }\r\n    typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n      var e = new Error(message);\r\n      return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n    };\r\n\r\n    var ActionType = {\r\n        ADD_CHOICE: 'ADD_CHOICE',\r\n        REMOVE_CHOICE: 'REMOVE_CHOICE',\r\n        FILTER_CHOICES: 'FILTER_CHOICES',\r\n        ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\r\n        CLEAR_CHOICES: 'CLEAR_CHOICES',\r\n        ADD_GROUP: 'ADD_GROUP',\r\n        ADD_ITEM: 'ADD_ITEM',\r\n        REMOVE_ITEM: 'REMOVE_ITEM',\r\n        HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\r\n    };\r\n\r\n    var EventType = {\r\n        showDropdown: 'showDropdown',\r\n        hideDropdown: 'hideDropdown',\r\n        change: 'change',\r\n        choice: 'choice',\r\n        search: 'search',\r\n        addItem: 'addItem',\r\n        removeItem: 'removeItem',\r\n        highlightItem: 'highlightItem',\r\n        highlightChoice: 'highlightChoice',\r\n        unhighlightItem: 'unhighlightItem',\r\n    };\r\n\r\n    var KeyCodeMap = {\r\n        TAB_KEY: 9,\r\n        SHIFT_KEY: 16,\r\n        BACK_KEY: 46,\r\n        DELETE_KEY: 8,\r\n        ENTER_KEY: 13,\r\n        A_KEY: 65,\r\n        ESC_KEY: 27,\r\n        UP_KEY: 38,\r\n        DOWN_KEY: 40,\r\n        PAGE_UP_KEY: 33,\r\n        PAGE_DOWN_KEY: 34,\r\n    };\r\n\r\n    var ObjectsInConfig = ['fuseOptions', 'classNames'];\r\n\r\n    var PassedElementTypes = {\r\n        Text: 'text',\r\n        SelectOne: 'select-one',\r\n        SelectMultiple: 'select-multiple',\r\n    };\r\n\r\n    var addChoice = function (choice) { return ({\r\n        type: ActionType.ADD_CHOICE,\r\n        choice: choice,\r\n    }); };\r\n    var removeChoice = function (choice) { return ({\r\n        type: ActionType.REMOVE_CHOICE,\r\n        choice: choice,\r\n    }); };\r\n    var filterChoices = function (results) { return ({\r\n        type: ActionType.FILTER_CHOICES,\r\n        results: results,\r\n    }); };\r\n    var activateChoices = function (active) {\r\n        return ({\r\n            type: ActionType.ACTIVATE_CHOICES,\r\n            active: active,\r\n        });\r\n    };\r\n\r\n    var addGroup = function (group) { return ({\r\n        type: ActionType.ADD_GROUP,\r\n        group: group,\r\n    }); };\r\n\r\n    var addItem = function (item) { return ({\r\n        type: ActionType.ADD_ITEM,\r\n        item: item,\r\n    }); };\r\n    var removeItem$1 = function (item) { return ({\r\n        type: ActionType.REMOVE_ITEM,\r\n        item: item,\r\n    }); };\r\n    var highlightItem = function (item, highlighted) { return ({\r\n        type: ActionType.HIGHLIGHT_ITEM,\r\n        item: item,\r\n        highlighted: highlighted,\r\n    }); };\r\n\r\n    var getRandomNumber = function (min, max) { return Math.floor(Math.random() * (max - min) + min); };\r\n    var generateChars = function (length) {\r\n        return Array.from({ length: length }, function () { return getRandomNumber(0, 36).toString(36); }).join('');\r\n    };\r\n    var generateId = function (element, prefix) {\r\n        var id = element.id || (element.name && \"\".concat(element.name, \"-\").concat(generateChars(2))) || generateChars(4);\r\n        id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\r\n        id = \"\".concat(prefix, \"-\").concat(id);\r\n        return id;\r\n    };\r\n    var getAdjacentEl = function (startEl, selector, direction) {\r\n        if (direction === void 0) { direction = 1; }\r\n        var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\r\n        var sibling = startEl[prop];\r\n        while (sibling) {\r\n            if (sibling.matches(selector)) {\r\n                return sibling;\r\n            }\r\n            sibling = sibling[prop];\r\n        }\r\n        return null;\r\n    };\r\n    var isScrolledIntoView = function (element, parent, direction) {\r\n        if (direction === void 0) { direction = 1; }\r\n        var isVisible;\r\n        if (direction > 0) {\r\n            // In view from bottom\r\n            isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\r\n        }\r\n        else {\r\n            // In view from top\r\n            isVisible = element.offsetTop >= parent.scrollTop;\r\n        }\r\n        return isVisible;\r\n    };\r\n    var sanitise = function (value) {\r\n        if (typeof value !== 'string') {\r\n            if (value === null || value === undefined) {\r\n                return '';\r\n            }\r\n            if (typeof value === 'object') {\r\n                if ('raw' in value) {\r\n                    return sanitise(value.raw);\r\n                }\r\n                if ('trusted' in value) {\r\n                    return value.trusted;\r\n                }\r\n            }\r\n            return value;\r\n        }\r\n        return value\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/'/g, '&#039;')\r\n            .replace(/\"/g, '&quot;');\r\n    };\r\n    var strToEl = (function () {\r\n        var tmpEl = document.createElement('div');\r\n        return function (str) {\r\n            tmpEl.innerHTML = str.trim();\r\n            var firstChild = tmpEl.children[0];\r\n            while (tmpEl.firstChild) {\r\n                tmpEl.removeChild(tmpEl.firstChild);\r\n            }\r\n            return firstChild;\r\n        };\r\n    })();\r\n    var resolveNoticeFunction = function (fn, value) {\r\n        return typeof fn === 'function' ? fn(sanitise(value), value) : fn;\r\n    };\r\n    var resolveStringFunction = function (fn) {\r\n        return typeof fn === 'function' ? fn() : fn;\r\n    };\r\n    var unwrapStringForRaw = function (s) {\r\n        if (typeof s === 'string') {\r\n            return s;\r\n        }\r\n        if (typeof s === 'object') {\r\n            if ('trusted' in s) {\r\n                return s.trusted;\r\n            }\r\n            if ('raw' in s) {\r\n                return s.raw;\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    var unwrapStringForEscaped = function (s) {\r\n        if (typeof s === 'string') {\r\n            return s;\r\n        }\r\n        if (typeof s === 'object') {\r\n            if ('escaped' in s) {\r\n                return s.escaped;\r\n            }\r\n            if ('trusted' in s) {\r\n                return s.trusted;\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    var escapeForTemplate = function (allowHTML, s) {\r\n        return allowHTML ? unwrapStringForEscaped(s) : sanitise(s);\r\n    };\r\n    var setElementHtml = function (el, allowHtml, html) {\r\n        el.innerHTML = escapeForTemplate(allowHtml, html);\r\n    };\r\n    var sortByAlpha = function (_a, _b) {\r\n        var value = _a.value, _c = _a.label, label = _c === void 0 ? value : _c;\r\n        var value2 = _b.value, _d = _b.label, label2 = _d === void 0 ? value2 : _d;\r\n        return unwrapStringForRaw(label).localeCompare(unwrapStringForRaw(label2), [], {\r\n            sensitivity: 'base',\r\n            ignorePunctuation: true,\r\n            numeric: true,\r\n        });\r\n    };\r\n    var sortByRank = function (a, b) {\r\n        return a.rank - b.rank;\r\n    };\r\n    var dispatchEvent = function (element, type, customArgs) {\r\n        if (customArgs === void 0) { customArgs = null; }\r\n        var event = new CustomEvent(type, {\r\n            detail: customArgs,\r\n            bubbles: true,\r\n            cancelable: true,\r\n        });\r\n        return element.dispatchEvent(event);\r\n    };\r\n    /**\r\n     * Returns an array of keys present on the first but missing on the second object\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    var diff = function (a, b) {\r\n        var aKeys = Object.keys(a).sort();\r\n        var bKeys = Object.keys(b).sort();\r\n        return aKeys.filter(function (i) { return bKeys.indexOf(i) < 0; });\r\n    };\r\n    var getClassNames = function (ClassNames) {\r\n        return Array.isArray(ClassNames) ? ClassNames : [ClassNames];\r\n    };\r\n    var getClassNamesSelector = function (option) {\r\n        if (option && Array.isArray(option)) {\r\n            return option\r\n                .map(function (item) {\r\n                return \".\".concat(item);\r\n            })\r\n                .join('');\r\n        }\r\n        return \".\".concat(option);\r\n    };\r\n    var addClassesToElement = function (element, className) {\r\n        var _a;\r\n        (_a = element.classList).add.apply(_a, getClassNames(className));\r\n    };\r\n    var removeClassesFromElement = function (element, className) {\r\n        var _a;\r\n        (_a = element.classList).remove.apply(_a, getClassNames(className));\r\n    };\r\n    var parseCustomProperties = function (customProperties) {\r\n        if (typeof customProperties !== 'undefined') {\r\n            try {\r\n                return JSON.parse(customProperties);\r\n            }\r\n            catch (e) {\r\n                return customProperties;\r\n            }\r\n        }\r\n        return {};\r\n    };\r\n    var updateClassList = function (item, add, remove) {\r\n        var itemEl = item.itemEl;\r\n        if (itemEl) {\r\n            removeClassesFromElement(itemEl, remove);\r\n            addClassesToElement(itemEl, add);\r\n        }\r\n    };\r\n\r\n    var Dropdown = /** @class */ (function () {\r\n        function Dropdown(_a) {\r\n            var element = _a.element, type = _a.type, classNames = _a.classNames;\r\n            this.element = element;\r\n            this.classNames = classNames;\r\n            this.type = type;\r\n            this.isActive = false;\r\n        }\r\n        /**\r\n         * Show dropdown to user by adding active state class\r\n         */\r\n        Dropdown.prototype.show = function () {\r\n            addClassesToElement(this.element, this.classNames.activeState);\r\n            this.element.setAttribute('aria-expanded', 'true');\r\n            this.isActive = true;\r\n            return this;\r\n        };\r\n        /**\r\n         * Hide dropdown from user\r\n         */\r\n        Dropdown.prototype.hide = function () {\r\n            removeClassesFromElement(this.element, this.classNames.activeState);\r\n            this.element.setAttribute('aria-expanded', 'false');\r\n            this.isActive = false;\r\n            return this;\r\n        };\r\n        return Dropdown;\r\n    }());\r\n\r\n    var Container = /** @class */ (function () {\r\n        function Container(_a) {\r\n            var element = _a.element, type = _a.type, classNames = _a.classNames, position = _a.position;\r\n            this.element = element;\r\n            this.classNames = classNames;\r\n            this.type = type;\r\n            this.position = position;\r\n            this.isOpen = false;\r\n            this.isFlipped = false;\r\n            this.isDisabled = false;\r\n            this.isLoading = false;\r\n        }\r\n        /**\r\n         * Determine whether container should be flipped based on passed\r\n         * dropdown position\r\n         */\r\n        Container.prototype.shouldFlip = function (dropdownPos, dropdownHeight) {\r\n            // If flip is enabled and the dropdown bottom position is\r\n            // greater than the window height flip the dropdown.\r\n            var shouldFlip = false;\r\n            if (this.position === 'auto') {\r\n                shouldFlip =\r\n                    this.element.getBoundingClientRect().top - dropdownHeight >= 0 &&\r\n                        !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\r\n            }\r\n            else if (this.position === 'top') {\r\n                shouldFlip = true;\r\n            }\r\n            return shouldFlip;\r\n        };\r\n        Container.prototype.setActiveDescendant = function (activeDescendantID) {\r\n            this.element.setAttribute('aria-activedescendant', activeDescendantID);\r\n        };\r\n        Container.prototype.removeActiveDescendant = function () {\r\n            this.element.removeAttribute('aria-activedescendant');\r\n        };\r\n        Container.prototype.open = function (dropdownPos, dropdownHeight) {\r\n            addClassesToElement(this.element, this.classNames.openState);\r\n            this.element.setAttribute('aria-expanded', 'true');\r\n            this.isOpen = true;\r\n            if (this.shouldFlip(dropdownPos, dropdownHeight)) {\r\n                addClassesToElement(this.element, this.classNames.flippedState);\r\n                this.isFlipped = true;\r\n            }\r\n        };\r\n        Container.prototype.close = function () {\r\n            removeClassesFromElement(this.element, this.classNames.openState);\r\n            this.element.setAttribute('aria-expanded', 'false');\r\n            this.removeActiveDescendant();\r\n            this.isOpen = false;\r\n            // A dropdown flips if it does not have space within the page\r\n            if (this.isFlipped) {\r\n                removeClassesFromElement(this.element, this.classNames.flippedState);\r\n                this.isFlipped = false;\r\n            }\r\n        };\r\n        Container.prototype.addFocusState = function () {\r\n            addClassesToElement(this.element, this.classNames.focusState);\r\n        };\r\n        Container.prototype.removeFocusState = function () {\r\n            removeClassesFromElement(this.element, this.classNames.focusState);\r\n        };\r\n        Container.prototype.enable = function () {\r\n            removeClassesFromElement(this.element, this.classNames.disabledState);\r\n            this.element.removeAttribute('aria-disabled');\r\n            if (this.type === PassedElementTypes.SelectOne) {\r\n                this.element.setAttribute('tabindex', '0');\r\n            }\r\n            this.isDisabled = false;\r\n        };\r\n        Container.prototype.disable = function () {\r\n            addClassesToElement(this.element, this.classNames.disabledState);\r\n            this.element.setAttribute('aria-disabled', 'true');\r\n            if (this.type === PassedElementTypes.SelectOne) {\r\n                this.element.setAttribute('tabindex', '-1');\r\n            }\r\n            this.isDisabled = true;\r\n        };\r\n        Container.prototype.wrap = function (element) {\r\n            var el = this.element;\r\n            var parentNode = element.parentNode;\r\n            if (parentNode) {\r\n                if (element.nextSibling) {\r\n                    parentNode.insertBefore(el, element.nextSibling);\r\n                }\r\n                else {\r\n                    parentNode.appendChild(el);\r\n                }\r\n            }\r\n            el.appendChild(element);\r\n        };\r\n        Container.prototype.unwrap = function (element) {\r\n            var el = this.element;\r\n            var parentNode = el.parentNode;\r\n            if (parentNode) {\r\n                // Move passed element outside this element\r\n                parentNode.insertBefore(element, el);\r\n                // Remove this element\r\n                parentNode.removeChild(el);\r\n            }\r\n        };\r\n        Container.prototype.addLoadingState = function () {\r\n            addClassesToElement(this.element, this.classNames.loadingState);\r\n            this.element.setAttribute('aria-busy', 'true');\r\n            this.isLoading = true;\r\n        };\r\n        Container.prototype.removeLoadingState = function () {\r\n            removeClassesFromElement(this.element, this.classNames.loadingState);\r\n            this.element.removeAttribute('aria-busy');\r\n            this.isLoading = false;\r\n        };\r\n        return Container;\r\n    }());\r\n\r\n    var Input = /** @class */ (function () {\r\n        function Input(_a) {\r\n            var element = _a.element, type = _a.type, classNames = _a.classNames, preventPaste = _a.preventPaste;\r\n            this.element = element;\r\n            this.type = type;\r\n            this.classNames = classNames;\r\n            this.preventPaste = preventPaste;\r\n            this.isFocussed = this.element.isEqualNode(document.activeElement);\r\n            this.isDisabled = element.disabled;\r\n            this._onPaste = this._onPaste.bind(this);\r\n            this._onInput = this._onInput.bind(this);\r\n            this._onFocus = this._onFocus.bind(this);\r\n            this._onBlur = this._onBlur.bind(this);\r\n        }\r\n        Object.defineProperty(Input.prototype, \"placeholder\", {\r\n            set: function (placeholder) {\r\n                this.element.placeholder = placeholder;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Input.prototype, \"value\", {\r\n            get: function () {\r\n                return this.element.value;\r\n            },\r\n            set: function (value) {\r\n                this.element.value = value;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Input.prototype.addEventListeners = function () {\r\n            var el = this.element;\r\n            el.addEventListener('paste', this._onPaste);\r\n            el.addEventListener('input', this._onInput, {\r\n                passive: true,\r\n            });\r\n            el.addEventListener('focus', this._onFocus, {\r\n                passive: true,\r\n            });\r\n            el.addEventListener('blur', this._onBlur, {\r\n                passive: true,\r\n            });\r\n        };\r\n        Input.prototype.removeEventListeners = function () {\r\n            var el = this.element;\r\n            el.removeEventListener('input', this._onInput);\r\n            el.removeEventListener('paste', this._onPaste);\r\n            el.removeEventListener('focus', this._onFocus);\r\n            el.removeEventListener('blur', this._onBlur);\r\n        };\r\n        Input.prototype.enable = function () {\r\n            var el = this.element;\r\n            el.removeAttribute('disabled');\r\n            this.isDisabled = false;\r\n        };\r\n        Input.prototype.disable = function () {\r\n            var el = this.element;\r\n            el.setAttribute('disabled', '');\r\n            this.isDisabled = true;\r\n        };\r\n        Input.prototype.focus = function () {\r\n            if (!this.isFocussed) {\r\n                this.element.focus();\r\n            }\r\n        };\r\n        Input.prototype.blur = function () {\r\n            if (this.isFocussed) {\r\n                this.element.blur();\r\n            }\r\n        };\r\n        Input.prototype.clear = function (setWidth) {\r\n            if (setWidth === void 0) { setWidth = true; }\r\n            this.element.value = '';\r\n            if (setWidth) {\r\n                this.setWidth();\r\n            }\r\n            return this;\r\n        };\r\n        /**\r\n         * Set the correct input width based on placeholder\r\n         * value or input value\r\n         */\r\n        Input.prototype.setWidth = function () {\r\n            // Resize input to contents or placeholder\r\n            var element = this.element;\r\n            element.style.minWidth = \"\".concat(element.placeholder.length + 1, \"ch\");\r\n            element.style.width = \"\".concat(element.value.length + 1, \"ch\");\r\n        };\r\n        Input.prototype.setActiveDescendant = function (activeDescendantID) {\r\n            this.element.setAttribute('aria-activedescendant', activeDescendantID);\r\n        };\r\n        Input.prototype.removeActiveDescendant = function () {\r\n            this.element.removeAttribute('aria-activedescendant');\r\n        };\r\n        Input.prototype._onInput = function () {\r\n            if (this.type !== PassedElementTypes.SelectOne) {\r\n                this.setWidth();\r\n            }\r\n        };\r\n        Input.prototype._onPaste = function (event) {\r\n            if (this.preventPaste) {\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        Input.prototype._onFocus = function () {\r\n            this.isFocussed = true;\r\n        };\r\n        Input.prototype._onBlur = function () {\r\n            this.isFocussed = false;\r\n        };\r\n        return Input;\r\n    }());\r\n\r\n    var SCROLLING_SPEED = 4;\r\n\r\n    var List = /** @class */ (function () {\r\n        function List(_a) {\r\n            var element = _a.element;\r\n            this.element = element;\r\n            this.scrollPos = this.element.scrollTop;\r\n            this.height = this.element.offsetHeight;\r\n        }\r\n        List.prototype.prepend = function (node) {\r\n            var child = this.element.firstElementChild;\r\n            if (child) {\r\n                this.element.insertBefore(node, child);\r\n            }\r\n            else {\r\n                this.element.append(node);\r\n            }\r\n        };\r\n        List.prototype.scrollToTop = function () {\r\n            this.element.scrollTop = 0;\r\n        };\r\n        List.prototype.scrollToChildElement = function (element, direction) {\r\n            var _this = this;\r\n            if (!element) {\r\n                return;\r\n            }\r\n            var listHeight = this.element.offsetHeight;\r\n            // Scroll position of dropdown\r\n            var listScrollPosition = this.element.scrollTop + listHeight;\r\n            var elementHeight = element.offsetHeight;\r\n            // Distance from bottom of element to top of parent\r\n            var elementPos = element.offsetTop + elementHeight;\r\n            // Difference between the element and scroll position\r\n            var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\r\n            requestAnimationFrame(function () {\r\n                _this._animateScroll(destination, direction);\r\n            });\r\n        };\r\n        List.prototype._scrollDown = function (scrollPos, strength, destination) {\r\n            var easing = (destination - scrollPos) / strength;\r\n            var distance = easing > 1 ? easing : 1;\r\n            this.element.scrollTop = scrollPos + distance;\r\n        };\r\n        List.prototype._scrollUp = function (scrollPos, strength, destination) {\r\n            var easing = (scrollPos - destination) / strength;\r\n            var distance = easing > 1 ? easing : 1;\r\n            this.element.scrollTop = scrollPos - distance;\r\n        };\r\n        List.prototype._animateScroll = function (destination, direction) {\r\n            var _this = this;\r\n            var strength = SCROLLING_SPEED;\r\n            var choiceListScrollTop = this.element.scrollTop;\r\n            var continueAnimation = false;\r\n            if (direction > 0) {\r\n                this._scrollDown(choiceListScrollTop, strength, destination);\r\n                if (choiceListScrollTop < destination) {\r\n                    continueAnimation = true;\r\n                }\r\n            }\r\n            else {\r\n                this._scrollUp(choiceListScrollTop, strength, destination);\r\n                if (choiceListScrollTop > destination) {\r\n                    continueAnimation = true;\r\n                }\r\n            }\r\n            if (continueAnimation) {\r\n                requestAnimationFrame(function () {\r\n                    _this._animateScroll(destination, direction);\r\n                });\r\n            }\r\n        };\r\n        return List;\r\n    }());\r\n\r\n    var WrappedElement = /** @class */ (function () {\r\n        function WrappedElement(_a) {\r\n            var element = _a.element, classNames = _a.classNames;\r\n            this.element = element;\r\n            this.classNames = classNames;\r\n            this.isDisabled = false;\r\n        }\r\n        Object.defineProperty(WrappedElement.prototype, \"isActive\", {\r\n            get: function () {\r\n                return this.element.dataset.choice === 'active';\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WrappedElement.prototype, \"dir\", {\r\n            get: function () {\r\n                return this.element.dir;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(WrappedElement.prototype, \"value\", {\r\n            get: function () {\r\n                return this.element.value;\r\n            },\r\n            set: function (value) {\r\n                this.element.setAttribute('value', value);\r\n                this.element.value = value;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        WrappedElement.prototype.conceal = function () {\r\n            var el = this.element;\r\n            // Hide passed input\r\n            addClassesToElement(el, this.classNames.input);\r\n            el.hidden = true;\r\n            // Remove element from tab index\r\n            el.tabIndex = -1;\r\n            // Backup original styles if any\r\n            var origStyle = el.getAttribute('style');\r\n            if (origStyle) {\r\n                el.setAttribute('data-choice-orig-style', origStyle);\r\n            }\r\n            el.setAttribute('data-choice', 'active');\r\n        };\r\n        WrappedElement.prototype.reveal = function () {\r\n            var el = this.element;\r\n            // Reinstate passed element\r\n            removeClassesFromElement(el, this.classNames.input);\r\n            el.hidden = false;\r\n            el.removeAttribute('tabindex');\r\n            // Recover original styles if any\r\n            var origStyle = el.getAttribute('data-choice-orig-style');\r\n            if (origStyle) {\r\n                el.removeAttribute('data-choice-orig-style');\r\n                el.setAttribute('style', origStyle);\r\n            }\r\n            else {\r\n                el.removeAttribute('style');\r\n            }\r\n            el.removeAttribute('data-choice');\r\n        };\r\n        WrappedElement.prototype.enable = function () {\r\n            this.element.removeAttribute('disabled');\r\n            this.element.disabled = false;\r\n            this.isDisabled = false;\r\n        };\r\n        WrappedElement.prototype.disable = function () {\r\n            this.element.setAttribute('disabled', '');\r\n            this.element.disabled = true;\r\n            this.isDisabled = true;\r\n        };\r\n        WrappedElement.prototype.triggerEvent = function (eventType, data) {\r\n            dispatchEvent(this.element, eventType, data || {});\r\n        };\r\n        return WrappedElement;\r\n    }());\r\n\r\n    var WrappedInput = /** @class */ (function (_super) {\r\n        __extends(WrappedInput, _super);\r\n        function WrappedInput() {\r\n            return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n        return WrappedInput;\r\n    }(WrappedElement));\r\n\r\n    var coerceBool = function (arg, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = true; }\r\n        return typeof arg === 'undefined' ? defaultValue : !!arg;\r\n    };\r\n    var stringToHtmlClass = function (input) {\r\n        if (typeof input === 'string') {\r\n            // eslint-disable-next-line no-param-reassign\r\n            input = input.split(' ').filter(function (s) { return s.length; });\r\n        }\r\n        if (Array.isArray(input) && input.length) {\r\n            return input;\r\n        }\r\n        return undefined;\r\n    };\r\n    var mapInputToChoice = function (value, allowGroup, allowRawString) {\r\n        if (allowRawString === void 0) { allowRawString = true; }\r\n        if (typeof value === 'string') {\r\n            var sanitisedValue = sanitise(value);\r\n            var userValue = allowRawString || sanitisedValue === value ? value : { escaped: sanitisedValue, raw: value };\r\n            var result_1 = mapInputToChoice({\r\n                value: value,\r\n                label: userValue,\r\n                selected: true,\r\n            }, false);\r\n            return result_1;\r\n        }\r\n        var groupOrChoice = value;\r\n        if ('choices' in groupOrChoice) {\r\n            if (!allowGroup) {\r\n                // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup\r\n                throw new TypeError(\"optGroup is not allowed\");\r\n            }\r\n            var group = groupOrChoice;\r\n            var choices = group.choices.map(function (e) { return mapInputToChoice(e, false); });\r\n            var result_2 = {\r\n                id: 0, // actual ID will be assigned during _addGroup\r\n                value: group.value,\r\n                label: unwrapStringForRaw(group.label) || group.value,\r\n                active: !!choices.length,\r\n                disabled: !!group.disabled,\r\n                choices: choices\r\n            };\r\n            return result_2;\r\n        }\r\n        var choice = groupOrChoice;\r\n        var result = {\r\n            id: 0, // actual ID will be assigned during _addChoice\r\n            group: null, // actual group will be assigned during _addGroup but before _addChoice\r\n            score: 0, // used in search\r\n            rank: 0, // used in search, stable sort order\r\n            value: choice.value,\r\n            label: choice.label || choice.value,\r\n            active: coerceBool(choice.active),\r\n            selected: coerceBool(choice.selected, false),\r\n            disabled: coerceBool(choice.disabled, false),\r\n            placeholder: coerceBool(choice.placeholder, false),\r\n            highlighted: false,\r\n            labelClass: stringToHtmlClass(choice.labelClass),\r\n            labelDescription: choice.labelDescription,\r\n            customProperties: choice.customProperties\r\n        };\r\n        return result;\r\n    };\r\n\r\n    var isHtmlInputElement = function (e) { return e.tagName === 'INPUT'; };\r\n    var isHtmlSelectElement = function (e) { return e.tagName === 'SELECT'; };\r\n    var isHtmlOption = function (e) { return e.tagName === 'OPTION'; };\r\n    var isHtmlOptgroup = function (e) { return e.tagName === 'OPTGROUP'; };\r\n\r\n    var WrappedSelect = /** @class */ (function (_super) {\r\n        __extends(WrappedSelect, _super);\r\n        function WrappedSelect(_a) {\r\n            var element = _a.element, classNames = _a.classNames, template = _a.template, extractPlaceholder = _a.extractPlaceholder;\r\n            var _this = _super.call(this, { element: element, classNames: classNames }) || this;\r\n            _this.template = template;\r\n            _this.extractPlaceholder = extractPlaceholder;\r\n            return _this;\r\n        }\r\n        Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\r\n            get: function () {\r\n                return (this.element.querySelector('option[value=\"\"]') ||\r\n                    // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\r\n                    this.element.querySelector('option[placeholder]'));\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        WrappedSelect.prototype.addOptions = function (choices) {\r\n            var _this = this;\r\n            var fragment = document.createDocumentFragment();\r\n            choices.forEach(function (obj) {\r\n                var choice = obj;\r\n                if (choice.element) {\r\n                    return;\r\n                }\r\n                var option = _this.template(choice);\r\n                fragment.appendChild(option);\r\n                choice.element = option;\r\n            });\r\n            this.element.appendChild(fragment);\r\n        };\r\n        WrappedSelect.prototype.optionsAsChoices = function () {\r\n            var _this = this;\r\n            var choices = [];\r\n            this.element.querySelectorAll(':scope > option, :scope > optgroup').forEach(function (e) {\r\n                if (isHtmlOption(e)) {\r\n                    choices.push(_this._optionToChoice(e));\r\n                }\r\n                else if (isHtmlOptgroup(e)) {\r\n                    choices.push(_this._optgroupToChoice(e));\r\n                }\r\n                // todo: hr as empty optgroup, requires displaying empty opt-groups to be useful\r\n            });\r\n            return choices;\r\n        };\r\n        // eslint-disable-next-line class-methods-use-this\r\n        WrappedSelect.prototype._optionToChoice = function (option) {\r\n            // option.value returns the label if there is no value attribute, which can break legacy placeholder attribute support\r\n            if (!option.hasAttribute('value') && option.hasAttribute('placeholder')) {\r\n                option.setAttribute('value', '');\r\n                option.value = '';\r\n            }\r\n            return {\r\n                id: 0,\r\n                group: null,\r\n                score: 0,\r\n                rank: 0,\r\n                value: option.value,\r\n                // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option\r\n                // This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content (ie `innerText`).\r\n                label: option.label,\r\n                element: option,\r\n                active: true,\r\n                // this returns true if nothing is selected on initial load, which will break placeholder support\r\n                selected: this.extractPlaceholder ? option.selected : option.hasAttribute('selected'),\r\n                disabled: option.disabled,\r\n                highlighted: false,\r\n                placeholder: this.extractPlaceholder && (!option.value || option.hasAttribute('placeholder')),\r\n                labelClass: typeof option.dataset.labelClass !== 'undefined' ? stringToHtmlClass(option.dataset.labelClass) : undefined,\r\n                labelDescription: typeof option.dataset.labelDescription !== 'undefined' ? option.dataset.labelDescription : undefined,\r\n                customProperties: parseCustomProperties(option.dataset.customProperties),\r\n            };\r\n        };\r\n        WrappedSelect.prototype._optgroupToChoice = function (optgroup) {\r\n            var _this = this;\r\n            var options = optgroup.querySelectorAll('option');\r\n            var choices = Array.from(options).map(function (option) { return _this._optionToChoice(option); });\r\n            return {\r\n                id: 0,\r\n                label: optgroup.label || '',\r\n                value: optgroup.getAttribute('value') || '',\r\n                element: optgroup,\r\n                active: !!choices.length,\r\n                disabled: optgroup.disabled,\r\n                choices: choices,\r\n            };\r\n        };\r\n        return WrappedSelect;\r\n    }(WrappedElement));\r\n\r\n    var DEFAULT_CLASSNAMES = {\r\n        containerOuter: ['choices'],\r\n        containerInner: ['choices__inner'],\r\n        input: ['choices__input'],\r\n        inputCloned: ['choices__input--cloned', 'form-control'],\r\n        list: ['choices__list'],\r\n        listItems: ['choices__list--multiple'],\r\n        listSingle: ['choices__list--single'],\r\n        listDropdown: ['choices__list--dropdown'],\r\n        item: ['choices__item'],\r\n        itemSelectable: ['choices__item--selectable'],\r\n        itemDisabled: ['choices__item--disabled'],\r\n        itemChoice: ['choices__item--choice'],\r\n        description: ['choices__description'],\r\n        placeholder: ['choices__placeholder'],\r\n        group: ['choices__group'],\r\n        groupHeading: ['choices__heading'],\r\n        button: ['choices__button btn-close'],\r\n        activeState: ['is-active'],\r\n        focusState: ['is-focused'],\r\n        openState: ['is-open'],\r\n        disabledState: ['is-disabled'],\r\n        highlightedState: ['is-highlighted'],\r\n        selectedState: ['is-selected'],\r\n        flippedState: ['is-flipped'],\r\n        loadingState: ['is-loading'],\r\n        notice: ['choices__notice'],\r\n        addChoice: ['choices__item--selectable', 'add-choice'],\r\n        noResults: ['has-no-results'],\r\n        noChoices: ['has-no-choices'],\r\n    };\r\n    var DEFAULT_CONFIG = {\r\n        items: [],\r\n        choices: [],\r\n        silent: false,\r\n        renderChoiceLimit: -1,\r\n        maxItemCount: -1,\r\n        closeDropdownOnSelect: 'auto',\r\n        singleModeForMultiSelect: false,\r\n        addChoices: false,\r\n        addItems: true,\r\n        addItemFilter: function (value) { return !!value && value !== ''; },\r\n        removeItems: true,\r\n        removeItemButton: false,\r\n        removeItemButtonAlignLeft: false,\r\n        editItems: false,\r\n        allowHTML: false,\r\n        allowHtmlUserInput: false,\r\n        duplicateItemsAllowed: true,\r\n        delimiter: ',',\r\n        paste: true,\r\n        searchEnabled: true,\r\n        searchChoices: true,\r\n        searchFloor: 1,\r\n        searchResultLimit: 4,\r\n        searchFields: ['label', 'value'],\r\n        position: 'auto',\r\n        resetScrollPosition: true,\r\n        shouldSort: true,\r\n        shouldSortItems: false,\r\n        sorter: sortByAlpha,\r\n        shadowRoot: null,\r\n        placeholder: true,\r\n        placeholderValue: null,\r\n        searchPlaceholderValue: null,\r\n        prependValue: null,\r\n        appendValue: null,\r\n        renderSelectedChoices: 'auto',\r\n        loadingText: 'Loading...',\r\n        noResultsText: 'No results found',\r\n        noChoicesText: 'No choices to choose from',\r\n        itemSelectText: 'Press to select',\r\n        uniqueItemText: 'Only unique values can be added',\r\n        customAddItemText: 'Only values matching specific conditions can be added',\r\n        addItemText: function (value) { return \"Press Enter to add <b>\\\"\".concat(value, \"\\\"</b>\"); },\r\n        removeItemIconText: function () { return \"Remove item\"; },\r\n        removeItemLabelText: function (value) { return \"Remove item: \".concat(value); },\r\n        maxItemText: function (maxItemCount) { return \"Only \".concat(maxItemCount, \" values can be added\"); },\r\n        valueComparer: function (value1, value2) { return value1 === value2; },\r\n        fuseOptions: {\r\n            includeScore: true,\r\n        },\r\n        labelId: '',\r\n        callbackOnInit: null,\r\n        callbackOnCreateTemplates: null,\r\n        classNames: DEFAULT_CLASSNAMES,\r\n        appendGroupInSearch: false,\r\n    };\r\n\r\n    var removeItem = function (item) {\r\n        var itemEl = item.itemEl;\r\n        if (itemEl) {\r\n            itemEl.remove();\r\n            item.itemEl = undefined;\r\n        }\r\n    };\r\n    function items(s, action, context) {\r\n        var state = s;\r\n        var update = true;\r\n        switch (action.type) {\r\n            case ActionType.ADD_ITEM: {\r\n                action.item.selected = true;\r\n                var el = action.item.element;\r\n                if (el) {\r\n                    el.selected = true;\r\n                    el.setAttribute('selected', '');\r\n                }\r\n                state.push(action.item);\r\n                break;\r\n            }\r\n            case ActionType.REMOVE_ITEM: {\r\n                action.item.selected = false;\r\n                var el = action.item.element;\r\n                if (el) {\r\n                    el.selected = false;\r\n                    el.removeAttribute('selected');\r\n                    // For a select-one, if all options are deselected, the first item is selected. To set a black value, select.value needs to be set\r\n                    var select = el.parentElement;\r\n                    if (select && isHtmlSelectElement(select) && select.type === PassedElementTypes.SelectOne) {\r\n                        select.value = '';\r\n                    }\r\n                }\r\n                // this is mixing concerns, but this is *so much faster*\r\n                removeItem(action.item);\r\n                state = state.filter(function (choice) { return choice.id !== action.item.id; });\r\n                break;\r\n            }\r\n            case ActionType.REMOVE_CHOICE: {\r\n                removeItem(action.choice);\r\n                state = state.filter(function (item) { return item.id !== action.choice.id; });\r\n                break;\r\n            }\r\n            case ActionType.HIGHLIGHT_ITEM: {\r\n                var highlighted = action.highlighted;\r\n                var item = state.find(function (obj) { return obj.id === action.item.id; });\r\n                if (item && item.highlighted !== highlighted) {\r\n                    item.highlighted = highlighted;\r\n                    if (context) {\r\n                        updateClassList(item, highlighted ? context.classNames.highlightedState : context.classNames.selectedState, highlighted ? context.classNames.selectedState : context.classNames.highlightedState);\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            default: {\r\n                update = false;\r\n                break;\r\n            }\r\n        }\r\n        return { state: state, update: update };\r\n    }\r\n\r\n    function groups(s, action) {\r\n        var state = s;\r\n        var update = true;\r\n        switch (action.type) {\r\n            case ActionType.ADD_GROUP: {\r\n                state.push(action.group);\r\n                break;\r\n            }\r\n            case ActionType.CLEAR_CHOICES: {\r\n                state = [];\r\n                break;\r\n            }\r\n            default: {\r\n                update = false;\r\n                break;\r\n            }\r\n        }\r\n        return { state: state, update: update };\r\n    }\r\n\r\n    /* eslint-disable */\r\n    function choices(s, action, context) {\r\n        var state = s;\r\n        var update = true;\r\n        switch (action.type) {\r\n            case ActionType.ADD_CHOICE: {\r\n                state.push(action.choice);\r\n                break;\r\n            }\r\n            case ActionType.REMOVE_CHOICE: {\r\n                action.choice.choiceEl = undefined;\r\n                if (action.choice.group) {\r\n                    action.choice.group.choices = action.choice.group.choices.filter(function (obj) { return obj.id !== action.choice.id; });\r\n                }\r\n                state = state.filter(function (obj) { return obj.id !== action.choice.id; });\r\n                break;\r\n            }\r\n            case ActionType.ADD_ITEM:\r\n            case ActionType.REMOVE_ITEM: {\r\n                action.item.choiceEl = undefined;\r\n                break;\r\n            }\r\n            case ActionType.FILTER_CHOICES: {\r\n                // avoid O(n^2) algorithm complexity when searching/filtering choices\r\n                var scoreLookup_1 = [];\r\n                action.results.forEach(function (result) {\r\n                    scoreLookup_1[result.item.id] = result;\r\n                });\r\n                state.forEach(function (choice) {\r\n                    var result = scoreLookup_1[choice.id];\r\n                    if (result !== undefined) {\r\n                        choice.score = result.score;\r\n                        choice.rank = result.rank;\r\n                        choice.active = true;\r\n                    }\r\n                    else {\r\n                        choice.score = 0;\r\n                        choice.rank = 0;\r\n                        choice.active = false;\r\n                    }\r\n                    if (context && context.appendGroupInSearch) {\r\n                        choice.choiceEl = undefined;\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case ActionType.ACTIVATE_CHOICES: {\r\n                state.forEach(function (choice) {\r\n                    choice.active = action.active;\r\n                    if (context && context.appendGroupInSearch) {\r\n                        choice.choiceEl = undefined;\r\n                    }\r\n                });\r\n                break;\r\n            }\r\n            case ActionType.CLEAR_CHOICES: {\r\n                state = [];\r\n                break;\r\n            }\r\n            default: {\r\n                update = false;\r\n                break;\r\n            }\r\n        }\r\n        return { state: state, update: update };\r\n    }\r\n\r\n    var reducers = {\r\n        groups: groups,\r\n        items: items,\r\n        choices: choices,\r\n    };\r\n    var Store = /** @class */ (function () {\r\n        function Store(context) {\r\n            this._state = this.defaultState;\r\n            this._listeners = [];\r\n            this._txn = 0;\r\n            this._context = context;\r\n        }\r\n        Object.defineProperty(Store.prototype, \"defaultState\", {\r\n            // eslint-disable-next-line class-methods-use-this\r\n            get: function () {\r\n                return {\r\n                    groups: [],\r\n                    items: [],\r\n                    choices: [],\r\n                };\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        // eslint-disable-next-line class-methods-use-this\r\n        Store.prototype.changeSet = function (init) {\r\n            return {\r\n                groups: init,\r\n                items: init,\r\n                choices: init,\r\n            };\r\n        };\r\n        Store.prototype.reset = function () {\r\n            this._state = this.defaultState;\r\n            var changes = this.changeSet(true);\r\n            if (this._txn) {\r\n                this._changeSet = changes;\r\n            }\r\n            else {\r\n                this._listeners.forEach(function (l) { return l(changes); });\r\n            }\r\n        };\r\n        Store.prototype.subscribe = function (onChange) {\r\n            this._listeners.push(onChange);\r\n            return this;\r\n        };\r\n        Store.prototype.dispatch = function (action) {\r\n            var _this = this;\r\n            var state = this._state;\r\n            var hasChanges = false;\r\n            var changes = this._changeSet || this.changeSet(false);\r\n            Object.keys(reducers).forEach(function (key) {\r\n                var stateUpdate = reducers[key](state[key], action, _this._context);\r\n                if (stateUpdate.update) {\r\n                    hasChanges = true;\r\n                    changes[key] = true;\r\n                    state[key] = stateUpdate.state;\r\n                }\r\n            });\r\n            if (hasChanges) {\r\n                if (this._txn) {\r\n                    this._changeSet = changes;\r\n                }\r\n                else {\r\n                    this._listeners.forEach(function (l) { return l(changes); });\r\n                }\r\n            }\r\n        };\r\n        Store.prototype.withTxn = function (func) {\r\n            this._txn++;\r\n            try {\r\n                func();\r\n            }\r\n            finally {\r\n                this._txn = Math.max(0, this._txn - 1);\r\n                if (!this._txn) {\r\n                    var changeSet_1 = this._changeSet;\r\n                    if (changeSet_1) {\r\n                        this._changeSet = undefined;\r\n                        this._listeners.forEach(function (l) { return l(changeSet_1); });\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        Object.defineProperty(Store.prototype, \"state\", {\r\n            /**\r\n             * Get store object\r\n             */\r\n            get: function () {\r\n                return this._state;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Store.prototype, \"items\", {\r\n            /**\r\n             * Get items from store\r\n             */\r\n            get: function () {\r\n                return this.state.items;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\r\n            /**\r\n             * Get highlighted items from store\r\n             */\r\n            get: function () {\r\n                return this.items.filter(function (item) { return item.active && item.highlighted; });\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Store.prototype, \"choices\", {\r\n            /**\r\n             * Get choices from store\r\n             */\r\n            get: function () {\r\n                return this.state.choices;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Store.prototype, \"activeChoices\", {\r\n            /**\r\n             * Get active choices from store\r\n             */\r\n            get: function () {\r\n                return this.choices.filter(function (choice) { return choice.active; });\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Store.prototype, \"searchableChoices\", {\r\n            /**\r\n             * Get choices that can be searched (excluding placeholders or disabled choices)\r\n             */\r\n            get: function () {\r\n                return this.choices.filter(function (choice) { return !choice.disabled && !choice.placeholder; });\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Store.prototype, \"groups\", {\r\n            /**\r\n             * Get groups from store\r\n             */\r\n            get: function () {\r\n                return this.state.groups;\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Object.defineProperty(Store.prototype, \"activeGroups\", {\r\n            /**\r\n             * Get active groups from store\r\n             */\r\n            get: function () {\r\n                var _this = this;\r\n                return this.state.groups.filter(function (group) {\r\n                    var isActive = group.active && !group.disabled;\r\n                    var hasActiveOptions = _this.state.choices.some(function (choice) { return choice.active && !choice.disabled; });\r\n                    return isActive && hasActiveOptions;\r\n                }, []);\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Store.prototype.inTxn = function () {\r\n            return this._txn > 0;\r\n        };\r\n        /**\r\n         * Get single choice by it's ID\r\n         */\r\n        Store.prototype.getChoiceById = function (id) {\r\n            return this.activeChoices.find(function (choice) { return choice.id === id; });\r\n        };\r\n        /**\r\n         * Get group by group id\r\n         */\r\n        Store.prototype.getGroupById = function (id) {\r\n            return this.groups.find(function (group) { return group.id === id; });\r\n        };\r\n        return Store;\r\n    }());\r\n\r\n    var NoticeTypes = {\r\n        noChoices: 'no-choices',\r\n        noResults: 'no-results',\r\n        addChoice: 'add-choice',\r\n        generic: '',\r\n    };\r\n\r\n    function _defineProperty(e, r, t) {\r\n      return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\r\n        value: t,\r\n        enumerable: !0,\r\n        configurable: !0,\r\n        writable: !0\r\n      }) : e[r] = t, e;\r\n    }\r\n    function ownKeys(e, r) {\r\n      var t = Object.keys(e);\r\n      if (Object.getOwnPropertySymbols) {\r\n        var o = Object.getOwnPropertySymbols(e);\r\n        r && (o = o.filter(function (r) {\r\n          return Object.getOwnPropertyDescriptor(e, r).enumerable;\r\n        })), t.push.apply(t, o);\r\n      }\r\n      return t;\r\n    }\r\n    function _objectSpread2(e) {\r\n      for (var r = 1; r < arguments.length; r++) {\r\n        var t = null != arguments[r] ? arguments[r] : {};\r\n        r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\r\n          _defineProperty(e, r, t[r]);\r\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\r\n          Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\r\n        });\r\n      }\r\n      return e;\r\n    }\r\n    function _toPrimitive(t, r) {\r\n      if (\"object\" != typeof t || !t) return t;\r\n      var e = t[Symbol.toPrimitive];\r\n      if (void 0 !== e) {\r\n        var i = e.call(t, r || \"default\");\r\n        if (\"object\" != typeof i) return i;\r\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n      }\r\n      return (\"string\" === r ? String : Number)(t);\r\n    }\r\n    function _toPropertyKey(t) {\r\n      var i = _toPrimitive(t, \"string\");\r\n      return \"symbol\" == typeof i ? i : i + \"\";\r\n    }\r\n\r\n    /**\r\n     * Fuse.js v7.0.0 - Lightweight fuzzy-search (http://fusejs.io)\r\n     *\r\n     * Copyright (c) 2023 Kiro Risk (http://kiro.me)\r\n     * All Rights Reserved. Apache Software License 2.0\r\n     *\r\n     * http://www.apache.org/licenses/LICENSE-2.0\r\n     */\r\n\r\n    function isArray(value) {\r\n      return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\r\n    }\r\n\r\n    // Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\r\n    const INFINITY = 1 / 0;\r\n    function baseToString(value) {\r\n      // Exit early for strings to avoid a performance hit in some environments.\r\n      if (typeof value == 'string') {\r\n        return value;\r\n      }\r\n      let result = value + '';\r\n      return result == '0' && 1 / value == -INFINITY ? '-0' : result;\r\n    }\r\n    function toString(value) {\r\n      return value == null ? '' : baseToString(value);\r\n    }\r\n    function isString(value) {\r\n      return typeof value === 'string';\r\n    }\r\n    function isNumber(value) {\r\n      return typeof value === 'number';\r\n    }\r\n\r\n    // Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\r\n    function isBoolean(value) {\r\n      return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\r\n    }\r\n    function isObject(value) {\r\n      return typeof value === 'object';\r\n    }\r\n\r\n    // Checks if `value` is object-like.\r\n    function isObjectLike(value) {\r\n      return isObject(value) && value !== null;\r\n    }\r\n    function isDefined(value) {\r\n      return value !== undefined && value !== null;\r\n    }\r\n    function isBlank(value) {\r\n      return !value.trim().length;\r\n    }\r\n\r\n    // Gets the `toStringTag` of `value`.\r\n    // Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\r\n    function getTag(value) {\r\n      return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\r\n    }\r\n    const EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\r\n    const INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\r\n    const LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = key => `Invalid value for key ${key}`;\r\n    const PATTERN_LENGTH_TOO_LARGE = max => `Pattern length exceeds max of ${max}.`;\r\n    const MISSING_KEY_PROPERTY = name => `Missing ${name} property in key`;\r\n    const INVALID_KEY_WEIGHT_VALUE = key => `Property 'weight' in key '${key}' must be a positive integer`;\r\n    const hasOwn = Object.prototype.hasOwnProperty;\r\n    class KeyStore {\r\n      constructor(keys) {\r\n        this._keys = [];\r\n        this._keyMap = {};\r\n        let totalWeight = 0;\r\n        keys.forEach(key => {\r\n          let obj = createKey(key);\r\n          this._keys.push(obj);\r\n          this._keyMap[obj.id] = obj;\r\n          totalWeight += obj.weight;\r\n        });\r\n\r\n        // Normalize weights so that their sum is equal to 1\r\n        this._keys.forEach(key => {\r\n          key.weight /= totalWeight;\r\n        });\r\n      }\r\n      get(keyId) {\r\n        return this._keyMap[keyId];\r\n      }\r\n      keys() {\r\n        return this._keys;\r\n      }\r\n      toJSON() {\r\n        return JSON.stringify(this._keys);\r\n      }\r\n    }\r\n    function createKey(key) {\r\n      let path = null;\r\n      let id = null;\r\n      let src = null;\r\n      let weight = 1;\r\n      let getFn = null;\r\n      if (isString(key) || isArray(key)) {\r\n        src = key;\r\n        path = createKeyPath(key);\r\n        id = createKeyId(key);\r\n      } else {\r\n        if (!hasOwn.call(key, 'name')) {\r\n          throw new Error(MISSING_KEY_PROPERTY('name'));\r\n        }\r\n        const name = key.name;\r\n        src = name;\r\n        if (hasOwn.call(key, 'weight')) {\r\n          weight = key.weight;\r\n          if (weight <= 0) {\r\n            throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\r\n          }\r\n        }\r\n        path = createKeyPath(name);\r\n        id = createKeyId(name);\r\n        getFn = key.getFn;\r\n      }\r\n      return {\r\n        path,\r\n        id,\r\n        weight,\r\n        src,\r\n        getFn\r\n      };\r\n    }\r\n    function createKeyPath(key) {\r\n      return isArray(key) ? key : key.split('.');\r\n    }\r\n    function createKeyId(key) {\r\n      return isArray(key) ? key.join('.') : key;\r\n    }\r\n    function get(obj, path) {\r\n      let list = [];\r\n      let arr = false;\r\n      const deepGet = (obj, path, index) => {\r\n        if (!isDefined(obj)) {\r\n          return;\r\n        }\r\n        if (!path[index]) {\r\n          // If there's no path left, we've arrived at the object we care about.\r\n          list.push(obj);\r\n        } else {\r\n          let key = path[index];\r\n          const value = obj[key];\r\n          if (!isDefined(value)) {\r\n            return;\r\n          }\r\n\r\n          // If we're at the last value in the path, and if it's a string/number/bool,\r\n          // add it to the list\r\n          if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\r\n            list.push(toString(value));\r\n          } else if (isArray(value)) {\r\n            arr = true;\r\n            // Search each item in the array.\r\n            for (let i = 0, len = value.length; i < len; i += 1) {\r\n              deepGet(value[i], path, index + 1);\r\n            }\r\n          } else if (path.length) {\r\n            // An object. Recurse further.\r\n            deepGet(value, path, index + 1);\r\n          }\r\n        }\r\n      };\r\n\r\n      // Backwards compatibility (since path used to be a string)\r\n      deepGet(obj, isString(path) ? path.split('.') : path, 0);\r\n      return arr ? list : list[0];\r\n    }\r\n    const MatchOptions = {\r\n      // Whether the matches should be included in the result set. When `true`, each record in the result\r\n      // set will include the indices of the matched characters.\r\n      // These can consequently be used for highlighting purposes.\r\n      includeMatches: false,\r\n      // When `true`, the matching function will continue to the end of a search pattern even if\r\n      // a perfect match has already been located in the string.\r\n      findAllMatches: false,\r\n      // Minimum number of characters that must be matched before a result is considered a match\r\n      minMatchCharLength: 1\r\n    };\r\n    const BasicOptions = {\r\n      // When `true`, the algorithm continues searching to the end of the input even if a perfect\r\n      // match is found before the end of the same input.\r\n      isCaseSensitive: false,\r\n      // When true, the matching function will continue to the end of a search pattern even if\r\n      includeScore: false,\r\n      // List of properties that will be searched. This also supports nested properties.\r\n      keys: [],\r\n      // Whether to sort the result list, by score\r\n      shouldSort: true,\r\n      // Default sort function: sort by ascending score, ascending index\r\n      sortFn: (a, b) => a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1\r\n    };\r\n    const FuzzyOptions = {\r\n      // Approximately where in the text is the pattern expected to be found?\r\n      location: 0,\r\n      // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\r\n      // (of both letters and location), a threshold of '1.0' would match anything.\r\n      threshold: 0.6,\r\n      // Determines how close the match must be to the fuzzy location (specified above).\r\n      // An exact letter match which is 'distance' characters away from the fuzzy location\r\n      // would score as a complete mismatch. A distance of '0' requires the match be at\r\n      // the exact location specified, a threshold of '1000' would require a perfect match\r\n      // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\r\n      distance: 100\r\n    };\r\n    const AdvancedOptions = {\r\n      // When `true`, it enables the use of unix-like search commands\r\n      useExtendedSearch: false,\r\n      // The get function to use when fetching an object's properties.\r\n      // The default will search nested paths *ie foo.bar.baz*\r\n      getFn: get,\r\n      // When `true`, search will ignore `location` and `distance`, so it won't matter\r\n      // where in the string the pattern appears.\r\n      // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\r\n      ignoreLocation: false,\r\n      // When `true`, the calculation for the relevance score (used for sorting) will\r\n      // ignore the field-length norm.\r\n      // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\r\n      ignoreFieldNorm: false,\r\n      // The weight to determine how much field length norm effects scoring.\r\n      fieldNormWeight: 1\r\n    };\r\n    var Config = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);\r\n    const SPACE = /[^ ]+/g;\r\n\r\n    // Field-length norm: the shorter the field, the higher the weight.\r\n    // Set to 3 decimals to reduce index size.\r\n    function norm(weight = 1, mantissa = 3) {\r\n      const cache = new Map();\r\n      const m = Math.pow(10, mantissa);\r\n      return {\r\n        get(value) {\r\n          const numTokens = value.match(SPACE).length;\r\n          if (cache.has(numTokens)) {\r\n            return cache.get(numTokens);\r\n          }\r\n\r\n          // Default function is 1/sqrt(x), weight makes that variable\r\n          const norm = 1 / Math.pow(numTokens, 0.5 * weight);\r\n\r\n          // In place of `toFixed(mantissa)`, for faster computation\r\n          const n = parseFloat(Math.round(norm * m) / m);\r\n          cache.set(numTokens, n);\r\n          return n;\r\n        },\r\n        clear() {\r\n          cache.clear();\r\n        }\r\n      };\r\n    }\r\n    class FuseIndex {\r\n      constructor({\r\n        getFn = Config.getFn,\r\n        fieldNormWeight = Config.fieldNormWeight\r\n      } = {}) {\r\n        this.norm = norm(fieldNormWeight, 3);\r\n        this.getFn = getFn;\r\n        this.isCreated = false;\r\n        this.setIndexRecords();\r\n      }\r\n      setSources(docs = []) {\r\n        this.docs = docs;\r\n      }\r\n      setIndexRecords(records = []) {\r\n        this.records = records;\r\n      }\r\n      setKeys(keys = []) {\r\n        this.keys = keys;\r\n        this._keysMap = {};\r\n        keys.forEach((key, idx) => {\r\n          this._keysMap[key.id] = idx;\r\n        });\r\n      }\r\n      create() {\r\n        if (this.isCreated || !this.docs.length) {\r\n          return;\r\n        }\r\n        this.isCreated = true;\r\n\r\n        // List is Array<String>\r\n        if (isString(this.docs[0])) {\r\n          this.docs.forEach((doc, docIndex) => {\r\n            this._addString(doc, docIndex);\r\n          });\r\n        } else {\r\n          // List is Array<Object>\r\n          this.docs.forEach((doc, docIndex) => {\r\n            this._addObject(doc, docIndex);\r\n          });\r\n        }\r\n        this.norm.clear();\r\n      }\r\n      // Adds a doc to the end of the index\r\n      add(doc) {\r\n        const idx = this.size();\r\n        if (isString(doc)) {\r\n          this._addString(doc, idx);\r\n        } else {\r\n          this._addObject(doc, idx);\r\n        }\r\n      }\r\n      // Removes the doc at the specified index of the index\r\n      removeAt(idx) {\r\n        this.records.splice(idx, 1);\r\n\r\n        // Change ref index of every subsquent doc\r\n        for (let i = idx, len = this.size(); i < len; i += 1) {\r\n          this.records[i].i -= 1;\r\n        }\r\n      }\r\n      getValueForItemAtKeyId(item, keyId) {\r\n        return item[this._keysMap[keyId]];\r\n      }\r\n      size() {\r\n        return this.records.length;\r\n      }\r\n      _addString(doc, docIndex) {\r\n        if (!isDefined(doc) || isBlank(doc)) {\r\n          return;\r\n        }\r\n        let record = {\r\n          v: doc,\r\n          i: docIndex,\r\n          n: this.norm.get(doc)\r\n        };\r\n        this.records.push(record);\r\n      }\r\n      _addObject(doc, docIndex) {\r\n        let record = {\r\n          i: docIndex,\r\n          $: {}\r\n        };\r\n\r\n        // Iterate over every key (i.e, path), and fetch the value at that key\r\n        this.keys.forEach((key, keyIndex) => {\r\n          let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\r\n          if (!isDefined(value)) {\r\n            return;\r\n          }\r\n          if (isArray(value)) {\r\n            let subRecords = [];\r\n            const stack = [{\r\n              nestedArrIndex: -1,\r\n              value\r\n            }];\r\n            while (stack.length) {\r\n              const {\r\n                nestedArrIndex,\r\n                value\r\n              } = stack.pop();\r\n              if (!isDefined(value)) {\r\n                continue;\r\n              }\r\n              if (isString(value) && !isBlank(value)) {\r\n                let subRecord = {\r\n                  v: value,\r\n                  i: nestedArrIndex,\r\n                  n: this.norm.get(value)\r\n                };\r\n                subRecords.push(subRecord);\r\n              } else if (isArray(value)) {\r\n                value.forEach((item, k) => {\r\n                  stack.push({\r\n                    nestedArrIndex: k,\r\n                    value: item\r\n                  });\r\n                });\r\n              } else ;\r\n            }\r\n            record.$[keyIndex] = subRecords;\r\n          } else if (isString(value) && !isBlank(value)) {\r\n            let subRecord = {\r\n              v: value,\r\n              n: this.norm.get(value)\r\n            };\r\n            record.$[keyIndex] = subRecord;\r\n          }\r\n        });\r\n        this.records.push(record);\r\n      }\r\n      toJSON() {\r\n        return {\r\n          keys: this.keys,\r\n          records: this.records\r\n        };\r\n      }\r\n    }\r\n    function createIndex(keys, docs, {\r\n      getFn = Config.getFn,\r\n      fieldNormWeight = Config.fieldNormWeight\r\n    } = {}) {\r\n      const myIndex = new FuseIndex({\r\n        getFn,\r\n        fieldNormWeight\r\n      });\r\n      myIndex.setKeys(keys.map(createKey));\r\n      myIndex.setSources(docs);\r\n      myIndex.create();\r\n      return myIndex;\r\n    }\r\n    function parseIndex(data, {\r\n      getFn = Config.getFn,\r\n      fieldNormWeight = Config.fieldNormWeight\r\n    } = {}) {\r\n      const {\r\n        keys,\r\n        records\r\n      } = data;\r\n      const myIndex = new FuseIndex({\r\n        getFn,\r\n        fieldNormWeight\r\n      });\r\n      myIndex.setKeys(keys);\r\n      myIndex.setIndexRecords(records);\r\n      return myIndex;\r\n    }\r\n    function computeScore$1(pattern, {\r\n      errors = 0,\r\n      currentLocation = 0,\r\n      expectedLocation = 0,\r\n      distance = Config.distance,\r\n      ignoreLocation = Config.ignoreLocation\r\n    } = {}) {\r\n      const accuracy = errors / pattern.length;\r\n      if (ignoreLocation) {\r\n        return accuracy;\r\n      }\r\n      const proximity = Math.abs(expectedLocation - currentLocation);\r\n      if (!distance) {\r\n        // Dodge divide by zero error.\r\n        return proximity ? 1.0 : accuracy;\r\n      }\r\n      return accuracy + proximity / distance;\r\n    }\r\n    function convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {\r\n      let indices = [];\r\n      let start = -1;\r\n      let end = -1;\r\n      let i = 0;\r\n      for (let len = matchmask.length; i < len; i += 1) {\r\n        let match = matchmask[i];\r\n        if (match && start === -1) {\r\n          start = i;\r\n        } else if (!match && start !== -1) {\r\n          end = i - 1;\r\n          if (end - start + 1 >= minMatchCharLength) {\r\n            indices.push([start, end]);\r\n          }\r\n          start = -1;\r\n        }\r\n      }\r\n\r\n      // (i-1 - start) + 1 => i - start\r\n      if (matchmask[i - 1] && i - start >= minMatchCharLength) {\r\n        indices.push([start, i - 1]);\r\n      }\r\n      return indices;\r\n    }\r\n\r\n    // Machine word size\r\n    const MAX_BITS = 32;\r\n    function search(text, pattern, patternAlphabet, {\r\n      location = Config.location,\r\n      distance = Config.distance,\r\n      threshold = Config.threshold,\r\n      findAllMatches = Config.findAllMatches,\r\n      minMatchCharLength = Config.minMatchCharLength,\r\n      includeMatches = Config.includeMatches,\r\n      ignoreLocation = Config.ignoreLocation\r\n    } = {}) {\r\n      if (pattern.length > MAX_BITS) {\r\n        throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\r\n      }\r\n      const patternLen = pattern.length;\r\n      // Set starting location at beginning text and initialize the alphabet.\r\n      const textLen = text.length;\r\n      // Handle the case when location > text.length\r\n      const expectedLocation = Math.max(0, Math.min(location, textLen));\r\n      // Highest score beyond which we give up.\r\n      let currentThreshold = threshold;\r\n      // Is there a nearby exact match? (speedup)\r\n      let bestLocation = expectedLocation;\r\n\r\n      // Performance: only computer matches when the minMatchCharLength > 1\r\n      // OR if `includeMatches` is true.\r\n      const computeMatches = minMatchCharLength > 1 || includeMatches;\r\n      // A mask of the matches, used for building the indices\r\n      const matchMask = computeMatches ? Array(textLen) : [];\r\n      let index;\r\n\r\n      // Get all exact matches, here for speed up\r\n      while ((index = text.indexOf(pattern, bestLocation)) > -1) {\r\n        let score = computeScore$1(pattern, {\r\n          currentLocation: index,\r\n          expectedLocation,\r\n          distance,\r\n          ignoreLocation\r\n        });\r\n        currentThreshold = Math.min(score, currentThreshold);\r\n        bestLocation = index + patternLen;\r\n        if (computeMatches) {\r\n          let i = 0;\r\n          while (i < patternLen) {\r\n            matchMask[index + i] = 1;\r\n            i += 1;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Reset the best location\r\n      bestLocation = -1;\r\n      let lastBitArr = [];\r\n      let finalScore = 1;\r\n      let binMax = patternLen + textLen;\r\n      const mask = 1 << patternLen - 1;\r\n      for (let i = 0; i < patternLen; i += 1) {\r\n        // Scan for the best match; each iteration allows for one more error.\r\n        // Run a binary search to determine how far from the match location we can stray\r\n        // at this error level.\r\n        let binMin = 0;\r\n        let binMid = binMax;\r\n        while (binMin < binMid) {\r\n          const score = computeScore$1(pattern, {\r\n            errors: i,\r\n            currentLocation: expectedLocation + binMid,\r\n            expectedLocation,\r\n            distance,\r\n            ignoreLocation\r\n          });\r\n          if (score <= currentThreshold) {\r\n            binMin = binMid;\r\n          } else {\r\n            binMax = binMid;\r\n          }\r\n          binMid = Math.floor((binMax - binMin) / 2 + binMin);\r\n        }\r\n\r\n        // Use the result from this iteration as the maximum for the next.\r\n        binMax = binMid;\r\n        let start = Math.max(1, expectedLocation - binMid + 1);\r\n        let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\r\n\r\n        // Initialize the bit array\r\n        let bitArr = Array(finish + 2);\r\n        bitArr[finish + 1] = (1 << i) - 1;\r\n        for (let j = finish; j >= start; j -= 1) {\r\n          let currentLocation = j - 1;\r\n          let charMatch = patternAlphabet[text.charAt(currentLocation)];\r\n          if (computeMatches) {\r\n            // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\r\n            matchMask[currentLocation] = +!!charMatch;\r\n          }\r\n\r\n          // First pass: exact match\r\n          bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\r\n\r\n          // Subsequent passes: fuzzy match\r\n          if (i) {\r\n            bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\r\n          }\r\n          if (bitArr[j] & mask) {\r\n            finalScore = computeScore$1(pattern, {\r\n              errors: i,\r\n              currentLocation,\r\n              expectedLocation,\r\n              distance,\r\n              ignoreLocation\r\n            });\r\n\r\n            // This match will almost certainly be better than any existing match.\r\n            // But check anyway.\r\n            if (finalScore <= currentThreshold) {\r\n              // Indeed it is\r\n              currentThreshold = finalScore;\r\n              bestLocation = currentLocation;\r\n\r\n              // Already passed `loc`, downhill from here on in.\r\n              if (bestLocation <= expectedLocation) {\r\n                break;\r\n              }\r\n\r\n              // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\r\n              start = Math.max(1, 2 * expectedLocation - bestLocation);\r\n            }\r\n          }\r\n        }\r\n\r\n        // No hope for a (better) match at greater error levels.\r\n        const score = computeScore$1(pattern, {\r\n          errors: i + 1,\r\n          currentLocation: expectedLocation,\r\n          expectedLocation,\r\n          distance,\r\n          ignoreLocation\r\n        });\r\n        if (score > currentThreshold) {\r\n          break;\r\n        }\r\n        lastBitArr = bitArr;\r\n      }\r\n      const result = {\r\n        isMatch: bestLocation >= 0,\r\n        // Count exact matches (those with a score of 0) to be \"almost\" exact\r\n        score: Math.max(0.001, finalScore)\r\n      };\r\n      if (computeMatches) {\r\n        const indices = convertMaskToIndices(matchMask, minMatchCharLength);\r\n        if (!indices.length) {\r\n          result.isMatch = false;\r\n        } else if (includeMatches) {\r\n          result.indices = indices;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n    function createPatternAlphabet(pattern) {\r\n      let mask = {};\r\n      for (let i = 0, len = pattern.length; i < len; i += 1) {\r\n        const char = pattern.charAt(i);\r\n        mask[char] = (mask[char] || 0) | 1 << len - i - 1;\r\n      }\r\n      return mask;\r\n    }\r\n    class BitapSearch {\r\n      constructor(pattern, {\r\n        location = Config.location,\r\n        threshold = Config.threshold,\r\n        distance = Config.distance,\r\n        includeMatches = Config.includeMatches,\r\n        findAllMatches = Config.findAllMatches,\r\n        minMatchCharLength = Config.minMatchCharLength,\r\n        isCaseSensitive = Config.isCaseSensitive,\r\n        ignoreLocation = Config.ignoreLocation\r\n      } = {}) {\r\n        this.options = {\r\n          location,\r\n          threshold,\r\n          distance,\r\n          includeMatches,\r\n          findAllMatches,\r\n          minMatchCharLength,\r\n          isCaseSensitive,\r\n          ignoreLocation\r\n        };\r\n        this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\r\n        this.chunks = [];\r\n        if (!this.pattern.length) {\r\n          return;\r\n        }\r\n        const addChunk = (pattern, startIndex) => {\r\n          this.chunks.push({\r\n            pattern,\r\n            alphabet: createPatternAlphabet(pattern),\r\n            startIndex\r\n          });\r\n        };\r\n        const len = this.pattern.length;\r\n        if (len > MAX_BITS) {\r\n          let i = 0;\r\n          const remainder = len % MAX_BITS;\r\n          const end = len - remainder;\r\n          while (i < end) {\r\n            addChunk(this.pattern.substr(i, MAX_BITS), i);\r\n            i += MAX_BITS;\r\n          }\r\n          if (remainder) {\r\n            const startIndex = len - MAX_BITS;\r\n            addChunk(this.pattern.substr(startIndex), startIndex);\r\n          }\r\n        } else {\r\n          addChunk(this.pattern, 0);\r\n        }\r\n      }\r\n      searchIn(text) {\r\n        const {\r\n          isCaseSensitive,\r\n          includeMatches\r\n        } = this.options;\r\n        if (!isCaseSensitive) {\r\n          text = text.toLowerCase();\r\n        }\r\n\r\n        // Exact match\r\n        if (this.pattern === text) {\r\n          let result = {\r\n            isMatch: true,\r\n            score: 0\r\n          };\r\n          if (includeMatches) {\r\n            result.indices = [[0, text.length - 1]];\r\n          }\r\n          return result;\r\n        }\r\n\r\n        // Otherwise, use Bitap algorithm\r\n        const {\r\n          location,\r\n          distance,\r\n          threshold,\r\n          findAllMatches,\r\n          minMatchCharLength,\r\n          ignoreLocation\r\n        } = this.options;\r\n        let allIndices = [];\r\n        let totalScore = 0;\r\n        let hasMatches = false;\r\n        this.chunks.forEach(({\r\n          pattern,\r\n          alphabet,\r\n          startIndex\r\n        }) => {\r\n          const {\r\n            isMatch,\r\n            score,\r\n            indices\r\n          } = search(text, pattern, alphabet, {\r\n            location: location + startIndex,\r\n            distance,\r\n            threshold,\r\n            findAllMatches,\r\n            minMatchCharLength,\r\n            includeMatches,\r\n            ignoreLocation\r\n          });\r\n          if (isMatch) {\r\n            hasMatches = true;\r\n          }\r\n          totalScore += score;\r\n          if (isMatch && indices) {\r\n            allIndices = [...allIndices, ...indices];\r\n          }\r\n        });\r\n        let result = {\r\n          isMatch: hasMatches,\r\n          score: hasMatches ? totalScore / this.chunks.length : 1\r\n        };\r\n        if (hasMatches && includeMatches) {\r\n          result.indices = allIndices;\r\n        }\r\n        return result;\r\n      }\r\n    }\r\n    class BaseMatch {\r\n      constructor(pattern) {\r\n        this.pattern = pattern;\r\n      }\r\n      static isMultiMatch(pattern) {\r\n        return getMatch(pattern, this.multiRegex);\r\n      }\r\n      static isSingleMatch(pattern) {\r\n        return getMatch(pattern, this.singleRegex);\r\n      }\r\n      search( /*text*/) {}\r\n    }\r\n    function getMatch(pattern, exp) {\r\n      const matches = pattern.match(exp);\r\n      return matches ? matches[1] : null;\r\n    }\r\n\r\n    // Token: 'file\r\n\r\n    class ExactMatch extends BaseMatch {\r\n      constructor(pattern) {\r\n        super(pattern);\r\n      }\r\n      static get type() {\r\n        return 'exact';\r\n      }\r\n      static get multiRegex() {\r\n        return /^=\"(.*)\"$/;\r\n      }\r\n      static get singleRegex() {\r\n        return /^=(.*)$/;\r\n      }\r\n      search(text) {\r\n        const isMatch = text === this.pattern;\r\n        return {\r\n          isMatch,\r\n          score: isMatch ? 0 : 1,\r\n          indices: [0, this.pattern.length - 1]\r\n        };\r\n      }\r\n    }\r\n\r\n    // Token: !fire\r\n\r\n    class InverseExactMatch extends BaseMatch {\r\n      constructor(pattern) {\r\n        super(pattern);\r\n      }\r\n      static get type() {\r\n        return 'inverse-exact';\r\n      }\r\n      static get multiRegex() {\r\n        return /^!\"(.*)\"$/;\r\n      }\r\n      static get singleRegex() {\r\n        return /^!(.*)$/;\r\n      }\r\n      search(text) {\r\n        const index = text.indexOf(this.pattern);\r\n        const isMatch = index === -1;\r\n        return {\r\n          isMatch,\r\n          score: isMatch ? 0 : 1,\r\n          indices: [0, text.length - 1]\r\n        };\r\n      }\r\n    }\r\n\r\n    // Token: ^file\r\n\r\n    class PrefixExactMatch extends BaseMatch {\r\n      constructor(pattern) {\r\n        super(pattern);\r\n      }\r\n      static get type() {\r\n        return 'prefix-exact';\r\n      }\r\n      static get multiRegex() {\r\n        return /^\\^\"(.*)\"$/;\r\n      }\r\n      static get singleRegex() {\r\n        return /^\\^(.*)$/;\r\n      }\r\n      search(text) {\r\n        const isMatch = text.startsWith(this.pattern);\r\n        return {\r\n          isMatch,\r\n          score: isMatch ? 0 : 1,\r\n          indices: [0, this.pattern.length - 1]\r\n        };\r\n      }\r\n    }\r\n\r\n    // Token: !^fire\r\n\r\n    class InversePrefixExactMatch extends BaseMatch {\r\n      constructor(pattern) {\r\n        super(pattern);\r\n      }\r\n      static get type() {\r\n        return 'inverse-prefix-exact';\r\n      }\r\n      static get multiRegex() {\r\n        return /^!\\^\"(.*)\"$/;\r\n      }\r\n      static get singleRegex() {\r\n        return /^!\\^(.*)$/;\r\n      }\r\n      search(text) {\r\n        const isMatch = !text.startsWith(this.pattern);\r\n        return {\r\n          isMatch,\r\n          score: isMatch ? 0 : 1,\r\n          indices: [0, text.length - 1]\r\n        };\r\n      }\r\n    }\r\n\r\n    // Token: .file$\r\n\r\n    class SuffixExactMatch extends BaseMatch {\r\n      constructor(pattern) {\r\n        super(pattern);\r\n      }\r\n      static get type() {\r\n        return 'suffix-exact';\r\n      }\r\n      static get multiRegex() {\r\n        return /^\"(.*)\"\\$$/;\r\n      }\r\n      static get singleRegex() {\r\n        return /^(.*)\\$$/;\r\n      }\r\n      search(text) {\r\n        const isMatch = text.endsWith(this.pattern);\r\n        return {\r\n          isMatch,\r\n          score: isMatch ? 0 : 1,\r\n          indices: [text.length - this.pattern.length, text.length - 1]\r\n        };\r\n      }\r\n    }\r\n\r\n    // Token: !.file$\r\n\r\n    class InverseSuffixExactMatch extends BaseMatch {\r\n      constructor(pattern) {\r\n        super(pattern);\r\n      }\r\n      static get type() {\r\n        return 'inverse-suffix-exact';\r\n      }\r\n      static get multiRegex() {\r\n        return /^!\"(.*)\"\\$$/;\r\n      }\r\n      static get singleRegex() {\r\n        return /^!(.*)\\$$/;\r\n      }\r\n      search(text) {\r\n        const isMatch = !text.endsWith(this.pattern);\r\n        return {\r\n          isMatch,\r\n          score: isMatch ? 0 : 1,\r\n          indices: [0, text.length - 1]\r\n        };\r\n      }\r\n    }\r\n    class FuzzyMatch extends BaseMatch {\r\n      constructor(pattern, {\r\n        location = Config.location,\r\n        threshold = Config.threshold,\r\n        distance = Config.distance,\r\n        includeMatches = Config.includeMatches,\r\n        findAllMatches = Config.findAllMatches,\r\n        minMatchCharLength = Config.minMatchCharLength,\r\n        isCaseSensitive = Config.isCaseSensitive,\r\n        ignoreLocation = Config.ignoreLocation\r\n      } = {}) {\r\n        super(pattern);\r\n        this._bitapSearch = new BitapSearch(pattern, {\r\n          location,\r\n          threshold,\r\n          distance,\r\n          includeMatches,\r\n          findAllMatches,\r\n          minMatchCharLength,\r\n          isCaseSensitive,\r\n          ignoreLocation\r\n        });\r\n      }\r\n      static get type() {\r\n        return 'fuzzy';\r\n      }\r\n      static get multiRegex() {\r\n        return /^\"(.*)\"$/;\r\n      }\r\n      static get singleRegex() {\r\n        return /^(.*)$/;\r\n      }\r\n      search(text) {\r\n        return this._bitapSearch.searchIn(text);\r\n      }\r\n    }\r\n\r\n    // Token: 'file\r\n\r\n    class IncludeMatch extends BaseMatch {\r\n      constructor(pattern) {\r\n        super(pattern);\r\n      }\r\n      static get type() {\r\n        return 'include';\r\n      }\r\n      static get multiRegex() {\r\n        return /^'\"(.*)\"$/;\r\n      }\r\n      static get singleRegex() {\r\n        return /^'(.*)$/;\r\n      }\r\n      search(text) {\r\n        let location = 0;\r\n        let index;\r\n        const indices = [];\r\n        const patternLen = this.pattern.length;\r\n\r\n        // Get all exact matches\r\n        while ((index = text.indexOf(this.pattern, location)) > -1) {\r\n          location = index + patternLen;\r\n          indices.push([index, location - 1]);\r\n        }\r\n        const isMatch = !!indices.length;\r\n        return {\r\n          isMatch,\r\n          score: isMatch ? 0 : 1,\r\n          indices\r\n        };\r\n      }\r\n    }\r\n\r\n    // Order is important. DO NOT CHANGE.\r\n    const searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\r\n    const searchersLen = searchers.length;\r\n\r\n    // Regex to split by spaces, but keep anything in quotes together\r\n    const SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\r\n    const OR_TOKEN = '|';\r\n\r\n    // Return a 2D array representation of the query, for simpler parsing.\r\n    // Example:\r\n    // \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\r\n    function parseQuery(pattern, options = {}) {\r\n      return pattern.split(OR_TOKEN).map(item => {\r\n        let query = item.trim().split(SPACE_RE).filter(item => item && !!item.trim());\r\n        let results = [];\r\n        for (let i = 0, len = query.length; i < len; i += 1) {\r\n          const queryItem = query[i];\r\n\r\n          // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\r\n          let found = false;\r\n          let idx = -1;\r\n          while (!found && ++idx < searchersLen) {\r\n            const searcher = searchers[idx];\r\n            let token = searcher.isMultiMatch(queryItem);\r\n            if (token) {\r\n              results.push(new searcher(token, options));\r\n              found = true;\r\n            }\r\n          }\r\n          if (found) {\r\n            continue;\r\n          }\r\n\r\n          // 2. Handle single query matches (i.e, once that are *not* quoted)\r\n          idx = -1;\r\n          while (++idx < searchersLen) {\r\n            const searcher = searchers[idx];\r\n            let token = searcher.isSingleMatch(queryItem);\r\n            if (token) {\r\n              results.push(new searcher(token, options));\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return results;\r\n      });\r\n    }\r\n\r\n    // These extended matchers can return an array of matches, as opposed\r\n    // to a singl match\r\n    const MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\r\n\r\n    /**\r\n     * Command-like searching\r\n     * ======================\r\n     *\r\n     * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\r\n     * search in a given text.\r\n     *\r\n     * Search syntax:\r\n     *\r\n     * | Token       | Match type                 | Description                            |\r\n     * | ----------- | -------------------------- | -------------------------------------- |\r\n     * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\r\n     * | `=scheme`   | exact-match                | Items that are `scheme`                |\r\n     * | `'python`   | include-match              | Items that include `python`            |\r\n     * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\r\n     * | `^java`     | prefix-exact-match         | Items that start with `java`           |\r\n     * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\r\n     * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\r\n     * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\r\n     *\r\n     * A single pipe character acts as an OR operator. For example, the following\r\n     * query matches entries that start with `core` and end with either`go`, `rb`,\r\n     * or`py`.\r\n     *\r\n     * ```\r\n     * ^core go$ | rb$ | py$\r\n     * ```\r\n     */\r\n    class ExtendedSearch {\r\n      constructor(pattern, {\r\n        isCaseSensitive = Config.isCaseSensitive,\r\n        includeMatches = Config.includeMatches,\r\n        minMatchCharLength = Config.minMatchCharLength,\r\n        ignoreLocation = Config.ignoreLocation,\r\n        findAllMatches = Config.findAllMatches,\r\n        location = Config.location,\r\n        threshold = Config.threshold,\r\n        distance = Config.distance\r\n      } = {}) {\r\n        this.query = null;\r\n        this.options = {\r\n          isCaseSensitive,\r\n          includeMatches,\r\n          minMatchCharLength,\r\n          findAllMatches,\r\n          ignoreLocation,\r\n          location,\r\n          threshold,\r\n          distance\r\n        };\r\n        this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\r\n        this.query = parseQuery(this.pattern, this.options);\r\n      }\r\n      static condition(_, options) {\r\n        return options.useExtendedSearch;\r\n      }\r\n      searchIn(text) {\r\n        const query = this.query;\r\n        if (!query) {\r\n          return {\r\n            isMatch: false,\r\n            score: 1\r\n          };\r\n        }\r\n        const {\r\n          includeMatches,\r\n          isCaseSensitive\r\n        } = this.options;\r\n        text = isCaseSensitive ? text : text.toLowerCase();\r\n        let numMatches = 0;\r\n        let allIndices = [];\r\n        let totalScore = 0;\r\n\r\n        // ORs\r\n        for (let i = 0, qLen = query.length; i < qLen; i += 1) {\r\n          const searchers = query[i];\r\n\r\n          // Reset indices\r\n          allIndices.length = 0;\r\n          numMatches = 0;\r\n\r\n          // ANDs\r\n          for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\r\n            const searcher = searchers[j];\r\n            const {\r\n              isMatch,\r\n              indices,\r\n              score\r\n            } = searcher.search(text);\r\n            if (isMatch) {\r\n              numMatches += 1;\r\n              totalScore += score;\r\n              if (includeMatches) {\r\n                const type = searcher.constructor.type;\r\n                if (MultiMatchSet.has(type)) {\r\n                  allIndices = [...allIndices, ...indices];\r\n                } else {\r\n                  allIndices.push(indices);\r\n                }\r\n              }\r\n            } else {\r\n              totalScore = 0;\r\n              numMatches = 0;\r\n              allIndices.length = 0;\r\n              break;\r\n            }\r\n          }\r\n\r\n          // OR condition, so if TRUE, return\r\n          if (numMatches) {\r\n            let result = {\r\n              isMatch: true,\r\n              score: totalScore / numMatches\r\n            };\r\n            if (includeMatches) {\r\n              result.indices = allIndices;\r\n            }\r\n            return result;\r\n          }\r\n        }\r\n\r\n        // Nothing was matched\r\n        return {\r\n          isMatch: false,\r\n          score: 1\r\n        };\r\n      }\r\n    }\r\n    const registeredSearchers = [];\r\n    function register(...args) {\r\n      registeredSearchers.push(...args);\r\n    }\r\n    function createSearcher(pattern, options) {\r\n      for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\r\n        let searcherClass = registeredSearchers[i];\r\n        if (searcherClass.condition(pattern, options)) {\r\n          return new searcherClass(pattern, options);\r\n        }\r\n      }\r\n      return new BitapSearch(pattern, options);\r\n    }\r\n    const LogicalOperator = {\r\n      AND: '$and',\r\n      OR: '$or'\r\n    };\r\n    const KeyType = {\r\n      PATH: '$path',\r\n      PATTERN: '$val'\r\n    };\r\n    const isExpression = query => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\r\n    const isPath = query => !!query[KeyType.PATH];\r\n    const isLeaf = query => !isArray(query) && isObject(query) && !isExpression(query);\r\n    const convertToExplicit = query => ({\r\n      [LogicalOperator.AND]: Object.keys(query).map(key => ({\r\n        [key]: query[key]\r\n      }))\r\n    });\r\n\r\n    // When `auto` is `true`, the parse function will infer and initialize and add\r\n    // the appropriate `Searcher` instance\r\n    function parse(query, options, {\r\n      auto = true\r\n    } = {}) {\r\n      const next = query => {\r\n        let keys = Object.keys(query);\r\n        const isQueryPath = isPath(query);\r\n        if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\r\n          return next(convertToExplicit(query));\r\n        }\r\n        if (isLeaf(query)) {\r\n          const key = isQueryPath ? query[KeyType.PATH] : keys[0];\r\n          const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\r\n          if (!isString(pattern)) {\r\n            throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\r\n          }\r\n          const obj = {\r\n            keyId: createKeyId(key),\r\n            pattern\r\n          };\r\n          if (auto) {\r\n            obj.searcher = createSearcher(pattern, options);\r\n          }\r\n          return obj;\r\n        }\r\n        let node = {\r\n          children: [],\r\n          operator: keys[0]\r\n        };\r\n        keys.forEach(key => {\r\n          const value = query[key];\r\n          if (isArray(value)) {\r\n            value.forEach(item => {\r\n              node.children.push(next(item));\r\n            });\r\n          }\r\n        });\r\n        return node;\r\n      };\r\n      if (!isExpression(query)) {\r\n        query = convertToExplicit(query);\r\n      }\r\n      return next(query);\r\n    }\r\n\r\n    // Practical scoring function\r\n    function computeScore(results, {\r\n      ignoreFieldNorm = Config.ignoreFieldNorm\r\n    }) {\r\n      results.forEach(result => {\r\n        let totalScore = 1;\r\n        result.matches.forEach(({\r\n          key,\r\n          norm,\r\n          score\r\n        }) => {\r\n          const weight = key ? key.weight : null;\r\n          totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\r\n        });\r\n        result.score = totalScore;\r\n      });\r\n    }\r\n    function transformMatches(result, data) {\r\n      const matches = result.matches;\r\n      data.matches = [];\r\n      if (!isDefined(matches)) {\r\n        return;\r\n      }\r\n      matches.forEach(match => {\r\n        if (!isDefined(match.indices) || !match.indices.length) {\r\n          return;\r\n        }\r\n        const {\r\n          indices,\r\n          value\r\n        } = match;\r\n        let obj = {\r\n          indices,\r\n          value\r\n        };\r\n        if (match.key) {\r\n          obj.key = match.key.src;\r\n        }\r\n        if (match.idx > -1) {\r\n          obj.refIndex = match.idx;\r\n        }\r\n        data.matches.push(obj);\r\n      });\r\n    }\r\n    function transformScore(result, data) {\r\n      data.score = result.score;\r\n    }\r\n    function format(results, docs, {\r\n      includeMatches = Config.includeMatches,\r\n      includeScore = Config.includeScore\r\n    } = {}) {\r\n      const transformers = [];\r\n      if (includeMatches) transformers.push(transformMatches);\r\n      if (includeScore) transformers.push(transformScore);\r\n      return results.map(result => {\r\n        const {\r\n          idx\r\n        } = result;\r\n        const data = {\r\n          item: docs[idx],\r\n          refIndex: idx\r\n        };\r\n        if (transformers.length) {\r\n          transformers.forEach(transformer => {\r\n            transformer(result, data);\r\n          });\r\n        }\r\n        return data;\r\n      });\r\n    }\r\n    class Fuse {\r\n      constructor(docs, options = {}, index) {\r\n        this.options = _objectSpread2(_objectSpread2({}, Config), options);\r\n        if (this.options.useExtendedSearch && !true) {\r\n          throw new Error(EXTENDED_SEARCH_UNAVAILABLE);\r\n        }\r\n        this._keyStore = new KeyStore(this.options.keys);\r\n        this.setCollection(docs, index);\r\n      }\r\n      setCollection(docs, index) {\r\n        this._docs = docs;\r\n        if (index && !(index instanceof FuseIndex)) {\r\n          throw new Error(INCORRECT_INDEX_TYPE);\r\n        }\r\n        this._myIndex = index || createIndex(this.options.keys, this._docs, {\r\n          getFn: this.options.getFn,\r\n          fieldNormWeight: this.options.fieldNormWeight\r\n        });\r\n      }\r\n      add(doc) {\r\n        if (!isDefined(doc)) {\r\n          return;\r\n        }\r\n        this._docs.push(doc);\r\n        this._myIndex.add(doc);\r\n      }\r\n      remove(predicate = ( /* doc, idx */) => false) {\r\n        const results = [];\r\n        for (let i = 0, len = this._docs.length; i < len; i += 1) {\r\n          const doc = this._docs[i];\r\n          if (predicate(doc, i)) {\r\n            this.removeAt(i);\r\n            i -= 1;\r\n            len -= 1;\r\n            results.push(doc);\r\n          }\r\n        }\r\n        return results;\r\n      }\r\n      removeAt(idx) {\r\n        this._docs.splice(idx, 1);\r\n        this._myIndex.removeAt(idx);\r\n      }\r\n      getIndex() {\r\n        return this._myIndex;\r\n      }\r\n      search(query, {\r\n        limit = -1\r\n      } = {}) {\r\n        const {\r\n          includeMatches,\r\n          includeScore,\r\n          shouldSort,\r\n          sortFn,\r\n          ignoreFieldNorm\r\n        } = this.options;\r\n        let results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\r\n        computeScore(results, {\r\n          ignoreFieldNorm\r\n        });\r\n        if (shouldSort) {\r\n          results.sort(sortFn);\r\n        }\r\n        if (isNumber(limit) && limit > -1) {\r\n          results = results.slice(0, limit);\r\n        }\r\n        return format(results, this._docs, {\r\n          includeMatches,\r\n          includeScore\r\n        });\r\n      }\r\n      _searchStringList(query) {\r\n        const searcher = createSearcher(query, this.options);\r\n        const {\r\n          records\r\n        } = this._myIndex;\r\n        const results = [];\r\n\r\n        // Iterate over every string in the index\r\n        records.forEach(({\r\n          v: text,\r\n          i: idx,\r\n          n: norm\r\n        }) => {\r\n          if (!isDefined(text)) {\r\n            return;\r\n          }\r\n          const {\r\n            isMatch,\r\n            score,\r\n            indices\r\n          } = searcher.searchIn(text);\r\n          if (isMatch) {\r\n            results.push({\r\n              item: text,\r\n              idx,\r\n              matches: [{\r\n                score,\r\n                value: text,\r\n                norm,\r\n                indices\r\n              }]\r\n            });\r\n          }\r\n        });\r\n        return results;\r\n      }\r\n      _searchLogical(query) {\r\n        const expression = parse(query, this.options);\r\n        const evaluate = (node, item, idx) => {\r\n          if (!node.children) {\r\n            const {\r\n              keyId,\r\n              searcher\r\n            } = node;\r\n            const matches = this._findMatches({\r\n              key: this._keyStore.get(keyId),\r\n              value: this._myIndex.getValueForItemAtKeyId(item, keyId),\r\n              searcher\r\n            });\r\n            if (matches && matches.length) {\r\n              return [{\r\n                idx,\r\n                item,\r\n                matches\r\n              }];\r\n            }\r\n            return [];\r\n          }\r\n          const res = [];\r\n          for (let i = 0, len = node.children.length; i < len; i += 1) {\r\n            const child = node.children[i];\r\n            const result = evaluate(child, item, idx);\r\n            if (result.length) {\r\n              res.push(...result);\r\n            } else if (node.operator === LogicalOperator.AND) {\r\n              return [];\r\n            }\r\n          }\r\n          return res;\r\n        };\r\n        const records = this._myIndex.records;\r\n        const resultMap = {};\r\n        const results = [];\r\n        records.forEach(({\r\n          $: item,\r\n          i: idx\r\n        }) => {\r\n          if (isDefined(item)) {\r\n            let expResults = evaluate(expression, item, idx);\r\n            if (expResults.length) {\r\n              // Dedupe when adding\r\n              if (!resultMap[idx]) {\r\n                resultMap[idx] = {\r\n                  idx,\r\n                  item,\r\n                  matches: []\r\n                };\r\n                results.push(resultMap[idx]);\r\n              }\r\n              expResults.forEach(({\r\n                matches\r\n              }) => {\r\n                resultMap[idx].matches.push(...matches);\r\n              });\r\n            }\r\n          }\r\n        });\r\n        return results;\r\n      }\r\n      _searchObjectList(query) {\r\n        const searcher = createSearcher(query, this.options);\r\n        const {\r\n          keys,\r\n          records\r\n        } = this._myIndex;\r\n        const results = [];\r\n\r\n        // List is Array<Object>\r\n        records.forEach(({\r\n          $: item,\r\n          i: idx\r\n        }) => {\r\n          if (!isDefined(item)) {\r\n            return;\r\n          }\r\n          let matches = [];\r\n\r\n          // Iterate over every key (i.e, path), and fetch the value at that key\r\n          keys.forEach((key, keyIndex) => {\r\n            matches.push(...this._findMatches({\r\n              key,\r\n              value: item[keyIndex],\r\n              searcher\r\n            }));\r\n          });\r\n          if (matches.length) {\r\n            results.push({\r\n              idx,\r\n              item,\r\n              matches\r\n            });\r\n          }\r\n        });\r\n        return results;\r\n      }\r\n      _findMatches({\r\n        key,\r\n        value,\r\n        searcher\r\n      }) {\r\n        if (!isDefined(value)) {\r\n          return [];\r\n        }\r\n        let matches = [];\r\n        if (isArray(value)) {\r\n          value.forEach(({\r\n            v: text,\r\n            i: idx,\r\n            n: norm\r\n          }) => {\r\n            if (!isDefined(text)) {\r\n              return;\r\n            }\r\n            const {\r\n              isMatch,\r\n              score,\r\n              indices\r\n            } = searcher.searchIn(text);\r\n            if (isMatch) {\r\n              matches.push({\r\n                score,\r\n                key,\r\n                value: text,\r\n                idx,\r\n                norm,\r\n                indices\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          const {\r\n            v: text,\r\n            n: norm\r\n          } = value;\r\n          const {\r\n            isMatch,\r\n            score,\r\n            indices\r\n          } = searcher.searchIn(text);\r\n          if (isMatch) {\r\n            matches.push({\r\n              score,\r\n              key,\r\n              value: text,\r\n              norm,\r\n              indices\r\n            });\r\n          }\r\n        }\r\n        return matches;\r\n      }\r\n    }\r\n    Fuse.version = '7.0.0';\r\n    Fuse.createIndex = createIndex;\r\n    Fuse.parseIndex = parseIndex;\r\n    Fuse.config = Config;\r\n    {\r\n      Fuse.parseQuery = parse;\r\n    }\r\n    {\r\n      register(ExtendedSearch);\r\n    }\r\n\r\n    var SearchByFuse = /** @class */ (function () {\r\n        function SearchByFuse(config) {\r\n            this._haystack = [];\r\n            this._fuseOptions = __assign(__assign({}, config.fuseOptions), { keys: __spreadArray([], config.searchFields, true), includeMatches: true });\r\n        }\r\n        SearchByFuse.prototype.index = function (data) {\r\n            this._haystack = data;\r\n            if (this._fuse) {\r\n                this._fuse.setCollection(data);\r\n            }\r\n        };\r\n        SearchByFuse.prototype.reset = function () {\r\n            this._haystack = [];\r\n            this._fuse = undefined;\r\n        };\r\n        SearchByFuse.prototype.isEmptyIndex = function () {\r\n            return !this._haystack.length;\r\n        };\r\n        SearchByFuse.prototype.search = function (needle) {\r\n            if (!this._fuse) {\r\n                {\r\n                    this._fuse = new Fuse(this._haystack, this._fuseOptions);\r\n                }\r\n            }\r\n            var results = this._fuse.search(needle);\r\n            return results.map(function (value, i) {\r\n                return {\r\n                    item: value.item,\r\n                    score: value.score || 0,\r\n                    rank: i + 1, // If value.score is used for sorting, this can create non-stable sorts!\r\n                };\r\n            });\r\n        };\r\n        return SearchByFuse;\r\n    }());\r\n\r\n    function getSearcher(config) {\r\n        {\r\n            return new SearchByFuse(config);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Helpers to create HTML elements used by Choices\r\n     * Can be overridden by providing `callbackOnCreateTemplates` option.\r\n     * `Choices.defaults.templates` allows access to the default template methods from `callbackOnCreateTemplates`\r\n     */\r\n    var isEmptyObject = function (obj) {\r\n        // eslint-disable-next-line no-restricted-syntax\r\n        for (var prop in obj) {\r\n            if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    var assignCustomProperties = function (el, choice, withCustomProperties) {\r\n        var dataset = el.dataset;\r\n        var customProperties = choice.customProperties, labelClass = choice.labelClass, labelDescription = choice.labelDescription;\r\n        if (labelClass) {\r\n            dataset.labelClass = getClassNames(labelClass).join(' ');\r\n        }\r\n        if (labelDescription) {\r\n            dataset.labelDescription = labelDescription;\r\n        }\r\n        if (withCustomProperties && customProperties) {\r\n            if (typeof customProperties === 'string') {\r\n                dataset.customProperties = customProperties;\r\n            }\r\n            else if (typeof customProperties === 'object' && !isEmptyObject(customProperties)) {\r\n                dataset.customProperties = JSON.stringify(customProperties);\r\n            }\r\n        }\r\n    };\r\n    var addAriaLabel = function (docRoot, id, element) {\r\n        var label = id && docRoot.querySelector(\"label[for='\".concat(id, \"']\"));\r\n        var text = label && label.innerText;\r\n        if (text) {\r\n            element.setAttribute('aria-label', text);\r\n        }\r\n    };\r\n    var templates = {\r\n        containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\r\n            var containerOuter = _a.classNames.containerOuter;\r\n            var div = document.createElement('div');\r\n            addClassesToElement(div, containerOuter);\r\n            div.dataset.type = passedElementType;\r\n            if (dir) {\r\n                div.dir = dir;\r\n            }\r\n            if (isSelectOneElement) {\r\n                div.tabIndex = 0;\r\n            }\r\n            if (isSelectElement) {\r\n                div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\r\n                if (searchEnabled) {\r\n                    div.setAttribute('aria-autocomplete', 'list');\r\n                }\r\n                else if (!labelId) {\r\n                    addAriaLabel(this._docRoot, this.passedElement.element.id, div);\r\n                }\r\n                div.setAttribute('aria-haspopup', 'true');\r\n                div.setAttribute('aria-expanded', 'false');\r\n            }\r\n            if (labelId) {\r\n                div.setAttribute('aria-labelledby', labelId);\r\n            }\r\n            return div;\r\n        },\r\n        containerInner: function (_a) {\r\n            var containerInner = _a.classNames.containerInner;\r\n            var div = document.createElement('div');\r\n            addClassesToElement(div, containerInner);\r\n            return div;\r\n        },\r\n        itemList: function (_a, isSelectOneElement) {\r\n            var searchEnabled = _a.searchEnabled, _b = _a.classNames, list = _b.list, listSingle = _b.listSingle, listItems = _b.listItems;\r\n            var div = document.createElement('div');\r\n            addClassesToElement(div, list);\r\n            addClassesToElement(div, isSelectOneElement ? listSingle : listItems);\r\n            if (this._isSelectElement && searchEnabled) {\r\n                div.setAttribute('role', 'listbox');\r\n            }\r\n            return div;\r\n        },\r\n        placeholder: function (_a, value) {\r\n            var allowHTML = _a.allowHTML, placeholder = _a.classNames.placeholder;\r\n            var div = document.createElement('div');\r\n            addClassesToElement(div, placeholder);\r\n            setElementHtml(div, allowHTML, value);\r\n            return div;\r\n        },\r\n        item: function (_a, choice, removeItemButton) {\r\n            var allowHTML = _a.allowHTML, removeItemButtonAlignLeft = _a.removeItemButtonAlignLeft, removeItemIconText = _a.removeItemIconText, removeItemLabelText = _a.removeItemLabelText, _b = _a.classNames, item = _b.item, button = _b.button, highlightedState = _b.highlightedState, itemSelectable = _b.itemSelectable, placeholder = _b.placeholder;\r\n            var rawValue = unwrapStringForRaw(choice.value);\r\n            var div = document.createElement('div');\r\n            addClassesToElement(div, item);\r\n            if (choice.labelClass) {\r\n                var spanLabel = document.createElement('span');\r\n                setElementHtml(spanLabel, allowHTML, choice.label);\r\n                addClassesToElement(spanLabel, choice.labelClass);\r\n                div.appendChild(spanLabel);\r\n            }\r\n            else {\r\n                setElementHtml(div, allowHTML, choice.label);\r\n            }\r\n            div.dataset.item = '';\r\n            div.dataset.id = choice.id;\r\n            div.dataset.value = rawValue;\r\n            assignCustomProperties(div, choice, true);\r\n            if (choice.disabled || this.containerOuter.isDisabled) {\r\n                div.setAttribute('aria-disabled', 'true');\r\n            }\r\n            if (this._isSelectElement) {\r\n                div.setAttribute('aria-selected', 'true');\r\n                div.setAttribute('role', 'option');\r\n            }\r\n            if (choice.placeholder) {\r\n                addClassesToElement(div, placeholder);\r\n                div.dataset.placeholder = '';\r\n            }\r\n            addClassesToElement(div, choice.highlighted ? highlightedState : itemSelectable);\r\n            if (removeItemButton) {\r\n                if (choice.disabled) {\r\n                    removeClassesFromElement(div, itemSelectable);\r\n                }\r\n                div.dataset.deletable = '';\r\n                var removeButton = document.createElement('button');\r\n                removeButton.type = 'button';\r\n                addClassesToElement(removeButton, button);\r\n                setElementHtml(removeButton, true, resolveNoticeFunction(removeItemIconText, choice.value));\r\n                var REMOVE_ITEM_LABEL = resolveNoticeFunction(removeItemLabelText, choice.value);\r\n                if (REMOVE_ITEM_LABEL) {\r\n                    removeButton.setAttribute('aria-label', REMOVE_ITEM_LABEL);\r\n                }\r\n                removeButton.dataset.button = '';\r\n                if (removeItemButtonAlignLeft) {\r\n                    div.insertAdjacentElement('afterbegin', removeButton);\r\n                }\r\n                else {\r\n                    div.appendChild(removeButton);\r\n                }\r\n            }\r\n            return div;\r\n        },\r\n        choiceList: function (_a, isSelectOneElement) {\r\n            var list = _a.classNames.list;\r\n            var div = document.createElement('div');\r\n            addClassesToElement(div, list);\r\n            if (!isSelectOneElement) {\r\n                div.setAttribute('aria-multiselectable', 'true');\r\n            }\r\n            div.setAttribute('role', 'listbox');\r\n            return div;\r\n        },\r\n        choiceGroup: function (_a, _b) {\r\n            var allowHTML = _a.allowHTML, _c = _a.classNames, group = _c.group, groupHeading = _c.groupHeading, itemDisabled = _c.itemDisabled;\r\n            var id = _b.id, label = _b.label, disabled = _b.disabled;\r\n            var rawLabel = unwrapStringForRaw(label);\r\n            var div = document.createElement('div');\r\n            addClassesToElement(div, group);\r\n            if (disabled) {\r\n                addClassesToElement(div, itemDisabled);\r\n            }\r\n            div.setAttribute('role', 'group');\r\n            div.dataset.group = '';\r\n            div.dataset.id = id;\r\n            div.dataset.value = rawLabel;\r\n            if (disabled) {\r\n                div.setAttribute('aria-disabled', 'true');\r\n            }\r\n            var heading = document.createElement('div');\r\n            addClassesToElement(heading, groupHeading);\r\n            setElementHtml(heading, allowHTML, label || '');\r\n            div.appendChild(heading);\r\n            return div;\r\n        },\r\n        choice: function (_a, choice, selectText, groupName) {\r\n            var allowHTML = _a.allowHTML, _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, itemSelectable = _b.itemSelectable, selectedState = _b.selectedState, itemDisabled = _b.itemDisabled, description = _b.description, placeholder = _b.placeholder;\r\n            // eslint-disable-next-line prefer-destructuring\r\n            var label = choice.label;\r\n            var rawValue = unwrapStringForRaw(choice.value);\r\n            var div = document.createElement('div');\r\n            div.id = choice.elementId;\r\n            addClassesToElement(div, item);\r\n            addClassesToElement(div, itemChoice);\r\n            if (groupName && typeof label === 'string') {\r\n                label = escapeForTemplate(allowHTML, label);\r\n                label += \" (\".concat(groupName, \")\");\r\n                label = { trusted: label };\r\n            }\r\n            var describedBy = div;\r\n            if (choice.labelClass) {\r\n                var spanLabel = document.createElement('span');\r\n                setElementHtml(spanLabel, allowHTML, label);\r\n                addClassesToElement(spanLabel, choice.labelClass);\r\n                describedBy = spanLabel;\r\n                div.appendChild(spanLabel);\r\n            }\r\n            else {\r\n                setElementHtml(div, allowHTML, label);\r\n            }\r\n            if (choice.labelDescription) {\r\n                var descId = \"\".concat(choice.elementId, \"-description\");\r\n                describedBy.setAttribute('aria-describedby', descId);\r\n                var spanDesc = document.createElement('span');\r\n                setElementHtml(spanDesc, allowHTML, choice.labelDescription);\r\n                spanDesc.id = descId;\r\n                addClassesToElement(spanDesc, description);\r\n                div.appendChild(spanDesc);\r\n            }\r\n            if (choice.selected) {\r\n                addClassesToElement(div, selectedState);\r\n            }\r\n            if (choice.placeholder) {\r\n                addClassesToElement(div, placeholder);\r\n            }\r\n            div.setAttribute('role', choice.group ? 'treeitem' : 'option');\r\n            div.dataset.choice = '';\r\n            div.dataset.id = choice.id;\r\n            div.dataset.value = rawValue;\r\n            if (selectText) {\r\n                div.dataset.selectText = selectText;\r\n            }\r\n            if (choice.group) {\r\n                div.dataset.groupId = \"\".concat(choice.group.id);\r\n            }\r\n            assignCustomProperties(div, choice, false);\r\n            if (choice.disabled) {\r\n                addClassesToElement(div, itemDisabled);\r\n                div.dataset.choiceDisabled = '';\r\n                div.setAttribute('aria-disabled', 'true');\r\n            }\r\n            else {\r\n                addClassesToElement(div, itemSelectable);\r\n                div.dataset.choiceSelectable = '';\r\n            }\r\n            return div;\r\n        },\r\n        input: function (_a, placeholderValue) {\r\n            var _b = _a.classNames, input = _b.input, inputCloned = _b.inputCloned, labelId = _a.labelId;\r\n            var inp = document.createElement('input');\r\n            inp.type = 'search';\r\n            addClassesToElement(inp, input);\r\n            addClassesToElement(inp, inputCloned);\r\n            inp.autocomplete = 'off';\r\n            inp.autocapitalize = 'off';\r\n            inp.spellcheck = false;\r\n            inp.setAttribute('aria-autocomplete', 'list');\r\n            if (placeholderValue) {\r\n                inp.setAttribute('aria-label', placeholderValue);\r\n            }\r\n            else if (!labelId) {\r\n                addAriaLabel(this._docRoot, this.passedElement.element.id, inp);\r\n            }\r\n            return inp;\r\n        },\r\n        dropdown: function (_a) {\r\n            var _b = _a.classNames, list = _b.list, listDropdown = _b.listDropdown;\r\n            var div = document.createElement('div');\r\n            addClassesToElement(div, list);\r\n            addClassesToElement(div, listDropdown);\r\n            div.setAttribute('aria-expanded', 'false');\r\n            return div;\r\n        },\r\n        notice: function (_a, innerHTML, type) {\r\n            var _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, addChoice = _b.addChoice, noResults = _b.noResults, noChoices = _b.noChoices, noticeItem = _b.notice;\r\n            if (type === void 0) { type = NoticeTypes.generic; }\r\n            var notice = document.createElement('div');\r\n            setElementHtml(notice, true, innerHTML);\r\n            addClassesToElement(notice, item);\r\n            addClassesToElement(notice, itemChoice);\r\n            addClassesToElement(notice, noticeItem);\r\n            // eslint-disable-next-line default-case\r\n            switch (type) {\r\n                case NoticeTypes.addChoice:\r\n                    addClassesToElement(notice, addChoice);\r\n                    break;\r\n                case NoticeTypes.noResults:\r\n                    addClassesToElement(notice, noResults);\r\n                    break;\r\n                case NoticeTypes.noChoices:\r\n                    addClassesToElement(notice, noChoices);\r\n                    break;\r\n            }\r\n            if (type === NoticeTypes.addChoice) {\r\n                notice.dataset.choiceSelectable = '';\r\n                notice.dataset.choice = '';\r\n            }\r\n            return notice;\r\n        },\r\n        option: function (choice) {\r\n            // HtmlOptionElement's label value does not support HTML, so the avoid double escaping unwrap the untrusted string.\r\n            var labelValue = unwrapStringForRaw(choice.label);\r\n            var opt = new Option(labelValue, choice.value, false, choice.selected);\r\n            assignCustomProperties(opt, choice, true);\r\n            opt.disabled = choice.disabled;\r\n            if (choice.selected) {\r\n                opt.setAttribute('selected', '');\r\n            }\r\n            return opt;\r\n        },\r\n    };\r\n\r\n    /** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\r\n    var IS_IE11 = '-ms-scroll-limit' in document.documentElement.style &&\r\n        '-ms-ime-align' in document.documentElement.style;\r\n    var USER_DEFAULTS = {};\r\n    var parseDataSetId = function (element) {\r\n        if (!element) {\r\n            return undefined;\r\n        }\r\n        return element.dataset.id ? parseInt(element.dataset.id, 10) : undefined;\r\n    };\r\n    var selectableChoiceIdentifier = '[data-choice-selectable]';\r\n    /**\r\n     * Choices\r\n     * @author Josh Johnson<josh@joshuajohnson.co.uk>\r\n     */\r\n    var Choices = /** @class */ (function () {\r\n        function Choices(element, userConfig) {\r\n            if (element === void 0) { element = '[data-choice]'; }\r\n            if (userConfig === void 0) { userConfig = {}; }\r\n            var _this = this;\r\n            this.initialisedOK = undefined;\r\n            this._hasNonChoicePlaceholder = false;\r\n            this._lastAddedChoiceId = 0;\r\n            this._lastAddedGroupId = 0;\r\n            var defaults = Choices.defaults;\r\n            this.config = __assign(__assign(__assign({}, defaults.allOptions), defaults.options), userConfig);\r\n            ObjectsInConfig.forEach(function (key) {\r\n                _this.config[key] = __assign(__assign(__assign({}, defaults.allOptions[key]), defaults.options[key]), userConfig[key]);\r\n            });\r\n            var config = this.config;\r\n            if (!config.silent) {\r\n                this._validateConfig();\r\n            }\r\n            var docRoot = config.shadowRoot || document.documentElement;\r\n            this._docRoot = docRoot;\r\n            var passedElement = typeof element === 'string' ? docRoot.querySelector(element) : element;\r\n            if (!passedElement ||\r\n                typeof passedElement !== 'object' ||\r\n                !(isHtmlInputElement(passedElement) || isHtmlSelectElement(passedElement))) {\r\n                if (!passedElement && typeof element === 'string') {\r\n                    throw TypeError(\"Selector \".concat(element, \" failed to find an element\"));\r\n                }\r\n                throw TypeError(\"Expected one of the following types text|select-one|select-multiple\");\r\n            }\r\n            var elementType = passedElement.type;\r\n            var isText = elementType === PassedElementTypes.Text;\r\n            if (isText || config.maxItemCount !== 1) {\r\n                config.singleModeForMultiSelect = false;\r\n            }\r\n            if (config.singleModeForMultiSelect) {\r\n                elementType = PassedElementTypes.SelectMultiple;\r\n            }\r\n            var isSelectOne = elementType === PassedElementTypes.SelectOne;\r\n            var isSelectMultiple = elementType === PassedElementTypes.SelectMultiple;\r\n            var isSelect = isSelectOne || isSelectMultiple;\r\n            this._elementType = elementType;\r\n            this._isTextElement = isText;\r\n            this._isSelectOneElement = isSelectOne;\r\n            this._isSelectMultipleElement = isSelectMultiple;\r\n            this._isSelectElement = isSelectOne || isSelectMultiple;\r\n            this._canAddUserChoices = (isText && config.addItems) || (isSelect && config.addChoices);\r\n            if (typeof config.renderSelectedChoices !== 'boolean') {\r\n                config.renderSelectedChoices = config.renderSelectedChoices === 'always' || isSelectOne;\r\n            }\r\n            if (config.closeDropdownOnSelect === 'auto') {\r\n                config.closeDropdownOnSelect = isText || isSelectOne || config.singleModeForMultiSelect;\r\n            }\r\n            else {\r\n                config.closeDropdownOnSelect = coerceBool(config.closeDropdownOnSelect);\r\n            }\r\n            if (config.placeholder) {\r\n                if (config.placeholderValue) {\r\n                    this._hasNonChoicePlaceholder = true;\r\n                }\r\n                else if (passedElement.dataset.placeholder) {\r\n                    this._hasNonChoicePlaceholder = true;\r\n                    config.placeholderValue = passedElement.dataset.placeholder;\r\n                }\r\n            }\r\n            if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\r\n                var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\r\n                config.addItemFilter = re.test.bind(re);\r\n            }\r\n            if (this._isTextElement) {\r\n                this.passedElement = new WrappedInput({\r\n                    element: passedElement,\r\n                    classNames: config.classNames,\r\n                });\r\n            }\r\n            else {\r\n                var selectEl = passedElement;\r\n                this.passedElement = new WrappedSelect({\r\n                    element: selectEl,\r\n                    classNames: config.classNames,\r\n                    template: function (data) { return _this._templates.option(data); },\r\n                    extractPlaceholder: config.placeholder && !this._hasNonChoicePlaceholder,\r\n                });\r\n            }\r\n            this.initialised = false;\r\n            this._store = new Store(config);\r\n            this._currentValue = '';\r\n            config.searchEnabled = (!isText && config.searchEnabled) || isSelectMultiple;\r\n            this._canSearch = config.searchEnabled;\r\n            this._isScrollingOnIe = false;\r\n            this._highlightPosition = 0;\r\n            this._wasTap = true;\r\n            this._placeholderValue = this._generatePlaceholderValue();\r\n            this._baseId = generateId(passedElement, 'choices-');\r\n            /**\r\n             * setting direction in cases where it's explicitly set on passedElement\r\n             * or when calculated direction is different from the document\r\n             */\r\n            this._direction = passedElement.dir;\r\n            if (!this._direction) {\r\n                var elementDirection = window.getComputedStyle(passedElement).direction;\r\n                var documentDirection = window.getComputedStyle(document.documentElement).direction;\r\n                if (elementDirection !== documentDirection) {\r\n                    this._direction = elementDirection;\r\n                }\r\n            }\r\n            this._idNames = {\r\n                itemChoice: 'item-choice',\r\n            };\r\n            this._templates = defaults.templates;\r\n            this._render = this._render.bind(this);\r\n            this._onFocus = this._onFocus.bind(this);\r\n            this._onBlur = this._onBlur.bind(this);\r\n            this._onKeyUp = this._onKeyUp.bind(this);\r\n            this._onKeyDown = this._onKeyDown.bind(this);\r\n            this._onInput = this._onInput.bind(this);\r\n            this._onClick = this._onClick.bind(this);\r\n            this._onTouchMove = this._onTouchMove.bind(this);\r\n            this._onTouchEnd = this._onTouchEnd.bind(this);\r\n            this._onMouseDown = this._onMouseDown.bind(this);\r\n            this._onMouseOver = this._onMouseOver.bind(this);\r\n            this._onFormReset = this._onFormReset.bind(this);\r\n            this._onSelectKey = this._onSelectKey.bind(this);\r\n            this._onEnterKey = this._onEnterKey.bind(this);\r\n            this._onEscapeKey = this._onEscapeKey.bind(this);\r\n            this._onDirectionKey = this._onDirectionKey.bind(this);\r\n            this._onDeleteKey = this._onDeleteKey.bind(this);\r\n            // If element has already been initialised with Choices, fail silently\r\n            if (this.passedElement.isActive) {\r\n                if (!config.silent) {\r\n                    console.warn('Trying to initialise Choices on element already initialised', { element: element });\r\n                }\r\n                this.initialised = true;\r\n                this.initialisedOK = false;\r\n                return;\r\n            }\r\n            // Let's go\r\n            this.init();\r\n            // preserve the selected item list after setup for form reset\r\n            this._initialItems = this._store.items.map(function (choice) { return choice.value; });\r\n        }\r\n        Object.defineProperty(Choices, \"defaults\", {\r\n            get: function () {\r\n                return Object.preventExtensions({\r\n                    get options() {\r\n                        return USER_DEFAULTS;\r\n                    },\r\n                    get allOptions() {\r\n                        return DEFAULT_CONFIG;\r\n                    },\r\n                    get templates() {\r\n                        return templates;\r\n                    },\r\n                });\r\n            },\r\n            enumerable: false,\r\n            configurable: true\r\n        });\r\n        Choices.prototype.init = function () {\r\n            if (this.initialised || this.initialisedOK !== undefined) {\r\n                return;\r\n            }\r\n            this._searcher = getSearcher(this.config);\r\n            this._loadChoices();\r\n            this._createTemplates();\r\n            this._createElements();\r\n            this._createStructure();\r\n            if ((this._isTextElement && !this.config.addItems) ||\r\n                this.passedElement.element.hasAttribute('disabled') ||\r\n                !!this.passedElement.element.closest('fieldset:disabled')) {\r\n                this.disable();\r\n            }\r\n            else {\r\n                this.enable();\r\n                this._addEventListeners();\r\n            }\r\n            // should be triggered **after** disabled state to avoid additional re-draws\r\n            this._initStore();\r\n            this.initialised = true;\r\n            this.initialisedOK = true;\r\n            var callbackOnInit = this.config.callbackOnInit;\r\n            // Run callback if it is a function\r\n            if (typeof callbackOnInit === 'function') {\r\n                callbackOnInit.call(this);\r\n            }\r\n        };\r\n        Choices.prototype.destroy = function () {\r\n            if (!this.initialised) {\r\n                return;\r\n            }\r\n            this._removeEventListeners();\r\n            this.passedElement.reveal();\r\n            this.containerOuter.unwrap(this.passedElement.element);\r\n            this._store._listeners = []; // prevents select/input value being wiped\r\n            this.clearStore(false);\r\n            this._stopSearch();\r\n            this._templates = Choices.defaults.templates;\r\n            this.initialised = false;\r\n            this.initialisedOK = undefined;\r\n        };\r\n        Choices.prototype.enable = function () {\r\n            if (this.passedElement.isDisabled) {\r\n                this.passedElement.enable();\r\n            }\r\n            if (this.containerOuter.isDisabled) {\r\n                this._addEventListeners();\r\n                this.input.enable();\r\n                this.input.element.focus();\r\n                this.containerOuter.enable();\r\n            }\r\n            return this;\r\n        };\r\n        Choices.prototype.disable = function () {\r\n            if (!this.passedElement.isDisabled) {\r\n                this.passedElement.disable();\r\n            }\r\n            if (!this.containerOuter.isDisabled) {\r\n                this._removeEventListeners();\r\n                this.input.disable();\r\n                this.containerOuter.disable();\r\n            }\r\n            return this;\r\n        };\r\n        Choices.prototype.highlightItem = function (item, runEvent) {\r\n            if (runEvent === void 0) { runEvent = true; }\r\n            if (!item || !item.id) {\r\n                return this;\r\n            }\r\n            var choice = this._store.items.find(function (c) { return c.id === item.id; });\r\n            if (!choice || choice.highlighted) {\r\n                return this;\r\n            }\r\n            this._store.dispatch(highlightItem(choice, true));\r\n            if (runEvent) {\r\n                this.passedElement.triggerEvent(EventType.highlightItem, this._getChoiceForOutput(choice));\r\n            }\r\n            return this;\r\n        };\r\n        Choices.prototype.unhighlightItem = function (item, runEvent) {\r\n            if (runEvent === void 0) { runEvent = true; }\r\n            if (!item || !item.id) {\r\n                return this;\r\n            }\r\n            var choice = this._store.items.find(function (c) { return c.id === item.id; });\r\n            if (!choice || !choice.highlighted) {\r\n                return this;\r\n            }\r\n            this._store.dispatch(highlightItem(choice, false));\r\n            if (runEvent) {\r\n                this.passedElement.triggerEvent(EventType.unhighlightItem, this._getChoiceForOutput(choice));\r\n            }\r\n            return this;\r\n        };\r\n        Choices.prototype.highlightAll = function () {\r\n            var _this = this;\r\n            this._store.withTxn(function () {\r\n                _this._store.items.forEach(function (item) {\r\n                    if (!item.highlighted) {\r\n                        _this._store.dispatch(highlightItem(item, true));\r\n                        _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\r\n                    }\r\n                });\r\n            });\r\n            return this;\r\n        };\r\n        Choices.prototype.unhighlightAll = function () {\r\n            var _this = this;\r\n            this._store.withTxn(function () {\r\n                _this._store.items.forEach(function (item) {\r\n                    if (item.highlighted) {\r\n                        _this._store.dispatch(highlightItem(item, false));\r\n                        _this.passedElement.triggerEvent(EventType.highlightItem, _this._getChoiceForOutput(item));\r\n                    }\r\n                });\r\n            });\r\n            return this;\r\n        };\r\n        Choices.prototype.removeActiveItemsByValue = function (value) {\r\n            var _this = this;\r\n            this._store.withTxn(function () {\r\n                _this._store.items.filter(function (item) { return item.value === value; }).forEach(function (item) { return _this._removeItem(item); });\r\n            });\r\n            return this;\r\n        };\r\n        Choices.prototype.removeActiveItems = function (excludedId) {\r\n            var _this = this;\r\n            this._store.withTxn(function () {\r\n                _this._store.items.filter(function (_a) {\r\n                    var id = _a.id;\r\n                    return id !== excludedId;\r\n                }).forEach(function (item) { return _this._removeItem(item); });\r\n            });\r\n            return this;\r\n        };\r\n        Choices.prototype.removeHighlightedItems = function (runEvent) {\r\n            var _this = this;\r\n            if (runEvent === void 0) { runEvent = false; }\r\n            this._store.withTxn(function () {\r\n                _this._store.highlightedActiveItems.forEach(function (item) {\r\n                    _this._removeItem(item);\r\n                    // If this action was performed by the user\r\n                    // trigger the event\r\n                    if (runEvent) {\r\n                        _this._triggerChange(item.value);\r\n                    }\r\n                });\r\n            });\r\n            return this;\r\n        };\r\n        Choices.prototype.showDropdown = function (preventInputFocus) {\r\n            var _this = this;\r\n            if (this.dropdown.isActive) {\r\n                return this;\r\n            }\r\n            if (preventInputFocus === undefined) {\r\n                // eslint-disable-next-line no-param-reassign\r\n                preventInputFocus = !this._canSearch;\r\n            }\r\n            requestAnimationFrame(function () {\r\n                _this.dropdown.show();\r\n                var rect = _this.dropdown.element.getBoundingClientRect();\r\n                _this.containerOuter.open(rect.bottom, rect.height);\r\n                if (!preventInputFocus) {\r\n                    _this.input.focus();\r\n                }\r\n                _this.passedElement.triggerEvent(EventType.showDropdown);\r\n            });\r\n            return this;\r\n        };\r\n        Choices.prototype.hideDropdown = function (preventInputBlur) {\r\n            var _this = this;\r\n            if (!this.dropdown.isActive) {\r\n                return this;\r\n            }\r\n            requestAnimationFrame(function () {\r\n                _this.dropdown.hide();\r\n                _this.containerOuter.close();\r\n                if (!preventInputBlur && _this._canSearch) {\r\n                    _this.input.removeActiveDescendant();\r\n                    _this.input.blur();\r\n                }\r\n                _this.passedElement.triggerEvent(EventType.hideDropdown);\r\n            });\r\n            return this;\r\n        };\r\n        Choices.prototype.getValue = function (valueOnly) {\r\n            var _this = this;\r\n            var values = this._store.items.map(function (item) {\r\n                return (valueOnly ? item.value : _this._getChoiceForOutput(item));\r\n            });\r\n            return this._isSelectOneElement || this.config.singleModeForMultiSelect ? values[0] : values;\r\n        };\r\n        Choices.prototype.setValue = function (items) {\r\n            var _this = this;\r\n            if (!this.initialisedOK) {\r\n                this._warnChoicesInitFailed('setValue');\r\n                return this;\r\n            }\r\n            this._store.withTxn(function () {\r\n                items.forEach(function (value) {\r\n                    if (value) {\r\n                        _this._addChoice(mapInputToChoice(value, false));\r\n                    }\r\n                });\r\n            });\r\n            // @todo integrate with Store\r\n            this._searcher.reset();\r\n            return this;\r\n        };\r\n        Choices.prototype.setChoiceByValue = function (value) {\r\n            var _this = this;\r\n            if (!this.initialisedOK) {\r\n                this._warnChoicesInitFailed('setChoiceByValue');\r\n                return this;\r\n            }\r\n            if (this._isTextElement) {\r\n                return this;\r\n            }\r\n            this._store.withTxn(function () {\r\n                // If only one value has been passed, convert to array\r\n                var choiceValue = Array.isArray(value) ? value : [value];\r\n                // Loop through each value and\r\n                choiceValue.forEach(function (val) { return _this._findAndSelectChoiceByValue(val); });\r\n                _this.unhighlightAll();\r\n            });\r\n            // @todo integrate with Store\r\n            this._searcher.reset();\r\n            return this;\r\n        };\r\n        /**\r\n         * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\r\n         * a value field name and a label field name.\r\n         * This behaves the same as passing items via the choices option but can be called after initialising Choices.\r\n         * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\r\n         * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\r\n         *\r\n         * **Input types affected:** select-one, select-multiple\r\n         *\r\n         * @example\r\n         * ```js\r\n         * const example = new Choices(element);\r\n         *\r\n         * example.setChoices([\r\n         *   {value: 'One', label: 'Label One', disabled: true},\r\n         *   {value: 'Two', label: 'Label Two', selected: true},\r\n         *   {value: 'Three', label: 'Label Three'},\r\n         * ], 'value', 'label', false);\r\n         * ```\r\n         *\r\n         * @example\r\n         * ```js\r\n         * const example = new Choices(element);\r\n         *\r\n         * example.setChoices(async () => {\r\n         *   try {\r\n         *      const items = await fetch('/items');\r\n         *      return items.json()\r\n         *   } catch(err) {\r\n         *      console.error(err)\r\n         *   }\r\n         * });\r\n         * ```\r\n         *\r\n         * @example\r\n         * ```js\r\n         * const example = new Choices(element);\r\n         *\r\n         * example.setChoices([{\r\n         *   label: 'Group one',\r\n         *   id: 1,\r\n         *   disabled: false,\r\n         *   choices: [\r\n         *     {value: 'Child One', label: 'Child One', selected: true},\r\n         *     {value: 'Child Two', label: 'Child Two',  disabled: true},\r\n         *     {value: 'Child Three', label: 'Child Three'},\r\n         *   ]\r\n         * },\r\n         * {\r\n         *   label: 'Group two',\r\n         *   id: 2,\r\n         *   disabled: false,\r\n         *   choices: [\r\n         *     {value: 'Child Four', label: 'Child Four', disabled: true},\r\n         *     {value: 'Child Five', label: 'Child Five'},\r\n         *     {value: 'Child Six', label: 'Child Six', customProperties: {\r\n         *       description: 'Custom description about child six',\r\n         *       random: 'Another random custom property'\r\n         *     }},\r\n         *   ]\r\n         * }], 'value', 'label', false);\r\n         * ```\r\n         */\r\n        Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices, clearSearchFlag, replaceItems) {\r\n            var _this = this;\r\n            if (choicesArrayOrFetcher === void 0) { choicesArrayOrFetcher = []; }\r\n            if (value === void 0) { value = 'value'; }\r\n            if (label === void 0) { label = 'label'; }\r\n            if (replaceChoices === void 0) { replaceChoices = false; }\r\n            if (clearSearchFlag === void 0) { clearSearchFlag = true; }\r\n            if (replaceItems === void 0) { replaceItems = false; }\r\n            if (!this.initialisedOK) {\r\n                this._warnChoicesInitFailed('setChoices');\r\n                return this;\r\n            }\r\n            if (!this._isSelectElement) {\r\n                throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\r\n            }\r\n            if (typeof value !== 'string' || !value) {\r\n                throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\r\n            }\r\n            if (typeof choicesArrayOrFetcher === 'function') {\r\n                // it's a choices fetcher function\r\n                var fetcher_1 = choicesArrayOrFetcher(this);\r\n                if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\r\n                    // that's a promise\r\n                    // eslint-disable-next-line no-promise-executor-return\r\n                    return new Promise(function (resolve) { return requestAnimationFrame(resolve); })\r\n                        .then(function () { return _this._handleLoadingState(true); })\r\n                        .then(function () { return fetcher_1; })\r\n                        .then(function (data) {\r\n                        return _this.setChoices(data, value, label, replaceChoices, clearSearchFlag, replaceItems);\r\n                    })\r\n                        .catch(function (err) {\r\n                        if (!_this.config.silent) {\r\n                            console.error(err);\r\n                        }\r\n                    })\r\n                        .then(function () { return _this._handleLoadingState(false); })\r\n                        .then(function () { return _this; });\r\n                }\r\n                // function returned something else than promise, let's check if it's an array of choices\r\n                if (!Array.isArray(fetcher_1)) {\r\n                    throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\r\n                }\r\n                // recursion with results, it's sync and choices were cleared already\r\n                return this.setChoices(fetcher_1, value, label, false);\r\n            }\r\n            if (!Array.isArray(choicesArrayOrFetcher)) {\r\n                throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\r\n            }\r\n            this.containerOuter.removeLoadingState();\r\n            this._store.withTxn(function () {\r\n                if (clearSearchFlag) {\r\n                    _this._isSearching = false;\r\n                }\r\n                // Clear choices if needed\r\n                if (replaceChoices) {\r\n                    _this.clearChoices(true, replaceItems);\r\n                }\r\n                var isDefaultValue = value === 'value';\r\n                var isDefaultLabel = label === 'label';\r\n                choicesArrayOrFetcher.forEach(function (groupOrChoice) {\r\n                    if ('choices' in groupOrChoice) {\r\n                        var group = groupOrChoice;\r\n                        if (!isDefaultLabel) {\r\n                            group = __assign(__assign({}, group), { label: group[label], value: group[value] });\r\n                        }\r\n                        _this._addGroup(mapInputToChoice(group, true));\r\n                    }\r\n                    else {\r\n                        var choice = groupOrChoice;\r\n                        if (!isDefaultLabel || !isDefaultValue) {\r\n                            choice = __assign(__assign({}, choice), { value: choice[value], label: choice[label] });\r\n                        }\r\n                        var choiceFull = mapInputToChoice(choice, false);\r\n                        _this._addChoice(choiceFull);\r\n                        if (choiceFull.placeholder && !_this._hasNonChoicePlaceholder) {\r\n                            _this._placeholderValue = unwrapStringForEscaped(choiceFull.label);\r\n                        }\r\n                    }\r\n                });\r\n                _this.unhighlightAll();\r\n            });\r\n            // @todo integrate with Store\r\n            this._searcher.reset();\r\n            return this;\r\n        };\r\n        Choices.prototype.refresh = function (withEvents, selectFirstOption, deselectAll) {\r\n            var _this = this;\r\n            if (withEvents === void 0) { withEvents = false; }\r\n            if (selectFirstOption === void 0) { selectFirstOption = false; }\r\n            if (deselectAll === void 0) { deselectAll = false; }\r\n            if (!this._isSelectElement) {\r\n                if (!this.config.silent) {\r\n                    console.warn('refresh method can only be used on choices backed by a <select> element');\r\n                }\r\n                return this;\r\n            }\r\n            this._store.withTxn(function () {\r\n                var choicesFromOptions = _this.passedElement.optionsAsChoices();\r\n                // Build the list of items which require preserving\r\n                var existingItems = {};\r\n                if (!deselectAll) {\r\n                    _this._store.items.forEach(function (choice) {\r\n                        if (choice.id && choice.active && choice.selected) {\r\n                            existingItems[choice.value] = true;\r\n                        }\r\n                    });\r\n                }\r\n                _this.clearStore(false);\r\n                var updateChoice = function (choice) {\r\n                    if (deselectAll) {\r\n                        _this._store.dispatch(removeItem$1(choice));\r\n                    }\r\n                    else if (existingItems[choice.value]) {\r\n                        choice.selected = true;\r\n                    }\r\n                };\r\n                choicesFromOptions.forEach(function (groupOrChoice) {\r\n                    if ('choices' in groupOrChoice) {\r\n                        groupOrChoice.choices.forEach(updateChoice);\r\n                        return;\r\n                    }\r\n                    updateChoice(groupOrChoice);\r\n                });\r\n                /* @todo only generate add events for the added options instead of all\r\n                if (withEvents) {\r\n                  items.forEach((choice) => {\r\n                    if (existingItems[choice.value]) {\r\n                      this.passedElement.triggerEvent(\r\n                        EventType.removeItem,\r\n                        this._getChoiceForEvent(choice),\r\n                      );\r\n                    }\r\n                  });\r\n                }\r\n                */\r\n                // load new choices & items\r\n                _this._addPredefinedChoices(choicesFromOptions, selectFirstOption, withEvents);\r\n                // re-do search if required\r\n                if (_this._isSearching) {\r\n                    _this._searchChoices(_this.input.value);\r\n                }\r\n            });\r\n            return this;\r\n        };\r\n        Choices.prototype.removeChoice = function (value) {\r\n            var choice = this._store.choices.find(function (c) { return c.value === value; });\r\n            if (!choice) {\r\n                return this;\r\n            }\r\n            this._clearNotice();\r\n            this._store.dispatch(removeChoice(choice));\r\n            // @todo integrate with Store\r\n            this._searcher.reset();\r\n            if (choice.selected) {\r\n                this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(choice));\r\n            }\r\n            return this;\r\n        };\r\n        Choices.prototype.clearChoices = function (clearOptions, clearItems) {\r\n            var _this = this;\r\n            if (clearOptions === void 0) { clearOptions = true; }\r\n            if (clearItems === void 0) { clearItems = false; }\r\n            if (clearOptions) {\r\n                if (clearItems) {\r\n                    this.passedElement.element.replaceChildren('');\r\n                }\r\n                else {\r\n                    this.passedElement.element.querySelectorAll(':not([selected])').forEach(function (el) {\r\n                        el.remove();\r\n                    });\r\n                }\r\n            }\r\n            this.itemList.element.replaceChildren('');\r\n            this.choiceList.element.replaceChildren('');\r\n            this._clearNotice();\r\n            this._store.withTxn(function () {\r\n                var items = clearItems ? [] : _this._store.items;\r\n                _this._store.reset();\r\n                items.forEach(function (item) {\r\n                    _this._store.dispatch(addChoice(item));\r\n                    _this._store.dispatch(addItem(item));\r\n                });\r\n            });\r\n            // @todo integrate with Store\r\n            this._searcher.reset();\r\n            return this;\r\n        };\r\n        Choices.prototype.clearStore = function (clearOptions) {\r\n            if (clearOptions === void 0) { clearOptions = true; }\r\n            this.clearChoices(clearOptions, true);\r\n            this._stopSearch();\r\n            this._lastAddedChoiceId = 0;\r\n            this._lastAddedGroupId = 0;\r\n            return this;\r\n        };\r\n        Choices.prototype.clearInput = function () {\r\n            var shouldSetInputWidth = !this._isSelectOneElement;\r\n            this.input.clear(shouldSetInputWidth);\r\n            this._stopSearch();\r\n            return this;\r\n        };\r\n        Choices.prototype._validateConfig = function () {\r\n            var config = this.config;\r\n            var invalidConfigOptions = diff(config, DEFAULT_CONFIG);\r\n            if (invalidConfigOptions.length) {\r\n                console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\r\n            }\r\n            if (config.allowHTML && config.allowHtmlUserInput) {\r\n                if (config.addItems) {\r\n                    console.warn('Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks');\r\n                }\r\n                if (config.addChoices) {\r\n                    console.warn('Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks');\r\n                }\r\n            }\r\n        };\r\n        Choices.prototype._render = function (changes) {\r\n            if (changes === void 0) { changes = { choices: true, groups: true, items: true }; }\r\n            if (this._store.inTxn()) {\r\n                return;\r\n            }\r\n            if (this._isSelectElement) {\r\n                if (changes.choices || changes.groups) {\r\n                    this._renderChoices();\r\n                }\r\n            }\r\n            if (changes.items) {\r\n                this._renderItems();\r\n            }\r\n        };\r\n        Choices.prototype._renderChoices = function () {\r\n            var _this = this;\r\n            if (!this._canAddItems()) {\r\n                return; // block rendering choices if the input limit is reached.\r\n            }\r\n            var _a = this, config = _a.config, isSearching = _a._isSearching;\r\n            var _b = this._store, activeGroups = _b.activeGroups, activeChoices = _b.activeChoices;\r\n            var renderLimit = 0;\r\n            if (isSearching && config.searchResultLimit > 0) {\r\n                renderLimit = config.searchResultLimit;\r\n            }\r\n            else if (config.renderChoiceLimit > 0) {\r\n                renderLimit = config.renderChoiceLimit;\r\n            }\r\n            if (this._isSelectElement) {\r\n                var backingOptions = activeChoices.filter(function (choice) { return !choice.element; });\r\n                if (backingOptions.length) {\r\n                    this.passedElement.addOptions(backingOptions);\r\n                }\r\n            }\r\n            var fragment = document.createDocumentFragment();\r\n            var renderableChoices = function (choices) {\r\n                return choices.filter(function (choice) {\r\n                    return !choice.placeholder && (isSearching ? !!choice.rank : config.renderSelectedChoices || !choice.selected);\r\n                });\r\n            };\r\n            var selectableChoices = false;\r\n            var renderChoices = function (choices, withinGroup, groupLabel) {\r\n                if (isSearching) {\r\n                    // sortByRank is used to ensure stable sorting, as scores are non-unique\r\n                    // this additionally ensures fuseOptions.sortFn is not ignored\r\n                    choices.sort(sortByRank);\r\n                }\r\n                else if (config.shouldSort) {\r\n                    choices.sort(config.sorter);\r\n                }\r\n                var choiceLimit = choices.length;\r\n                choiceLimit = !withinGroup && renderLimit && choiceLimit > renderLimit ? renderLimit : choiceLimit;\r\n                choiceLimit--;\r\n                choices.every(function (choice, index) {\r\n                    // choiceEl being empty signals the contents has probably significantly changed\r\n                    var dropdownItem = choice.choiceEl || _this._templates.choice(config, choice, config.itemSelectText, groupLabel);\r\n                    choice.choiceEl = dropdownItem;\r\n                    fragment.appendChild(dropdownItem);\r\n                    if (isSearching || !choice.selected) {\r\n                        selectableChoices = true;\r\n                    }\r\n                    return index < choiceLimit;\r\n                });\r\n            };\r\n            if (activeChoices.length) {\r\n                if (config.resetScrollPosition) {\r\n                    requestAnimationFrame(function () { return _this.choiceList.scrollToTop(); });\r\n                }\r\n                if (!this._hasNonChoicePlaceholder && !isSearching && this._isSelectOneElement) {\r\n                    // If we have a placeholder choice along with groups\r\n                    renderChoices(activeChoices.filter(function (choice) { return choice.placeholder && !choice.group; }), false, undefined);\r\n                }\r\n                // If we have grouped options\r\n                if (activeGroups.length && !isSearching) {\r\n                    if (config.shouldSort) {\r\n                        activeGroups.sort(config.sorter);\r\n                    }\r\n                    // render Choices without group first, regardless of sort, otherwise they won't be distinguishable\r\n                    // from the last group\r\n                    renderChoices(activeChoices.filter(function (choice) { return !choice.placeholder && !choice.group; }), false, undefined);\r\n                    activeGroups.forEach(function (group) {\r\n                        var groupChoices = renderableChoices(group.choices);\r\n                        if (groupChoices.length) {\r\n                            if (group.label) {\r\n                                var dropdownGroup = group.groupEl || _this._templates.choiceGroup(_this.config, group);\r\n                                group.groupEl = dropdownGroup;\r\n                                dropdownGroup.remove();\r\n                                fragment.appendChild(dropdownGroup);\r\n                            }\r\n                            renderChoices(groupChoices, true, config.appendGroupInSearch && isSearching ? group.label : undefined);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    renderChoices(renderableChoices(activeChoices), false, undefined);\r\n                }\r\n            }\r\n            if (!selectableChoices && (isSearching || !fragment.children.length || !config.renderSelectedChoices)) {\r\n                if (!this._notice) {\r\n                    this._notice = {\r\n                        text: resolveStringFunction(isSearching ? config.noResultsText : config.noChoicesText),\r\n                        type: isSearching ? NoticeTypes.noResults : NoticeTypes.noChoices,\r\n                    };\r\n                }\r\n                fragment.replaceChildren('');\r\n            }\r\n            this._renderNotice(fragment);\r\n            this.choiceList.element.replaceChildren(fragment);\r\n            if (selectableChoices) {\r\n                this._highlightChoice();\r\n            }\r\n        };\r\n        Choices.prototype._renderItems = function () {\r\n            var _this = this;\r\n            var items = this._store.items || [];\r\n            var itemList = this.itemList.element;\r\n            var config = this.config;\r\n            var fragment = document.createDocumentFragment();\r\n            var itemFromList = function (item) {\r\n                return itemList.querySelector(\"[data-item][data-id=\\\"\".concat(item.id, \"\\\"]\"));\r\n            };\r\n            var addItemToFragment = function (item) {\r\n                var el = item.itemEl;\r\n                if (el && el.parentElement) {\r\n                    return;\r\n                }\r\n                el = itemFromList(item) || _this._templates.item(config, item, config.removeItemButton);\r\n                item.itemEl = el;\r\n                fragment.appendChild(el);\r\n            };\r\n            // new items\r\n            items.forEach(addItemToFragment);\r\n            var addedItems = !!fragment.childNodes.length;\r\n            if (this._isSelectOneElement) {\r\n                var existingItems = itemList.children.length;\r\n                if (addedItems || existingItems > 1) {\r\n                    var placeholder = itemList.querySelector(getClassNamesSelector(config.classNames.placeholder));\r\n                    if (placeholder) {\r\n                        placeholder.remove();\r\n                    }\r\n                }\r\n                else if (!addedItems && !existingItems && this._placeholderValue) {\r\n                    addedItems = true;\r\n                    addItemToFragment(mapInputToChoice({\r\n                        selected: true,\r\n                        value: '',\r\n                        label: this._placeholderValue,\r\n                        placeholder: true,\r\n                    }, false));\r\n                }\r\n            }\r\n            if (addedItems) {\r\n                itemList.append(fragment);\r\n                if (config.shouldSortItems && !this._isSelectOneElement) {\r\n                    items.sort(config.sorter);\r\n                    // push sorting into the DOM\r\n                    items.forEach(function (item) {\r\n                        var el = itemFromList(item);\r\n                        if (el) {\r\n                            el.remove();\r\n                            fragment.append(el);\r\n                        }\r\n                    });\r\n                    itemList.append(fragment);\r\n                }\r\n            }\r\n            if (this._isTextElement) {\r\n                // Update the value of the hidden input\r\n                this.passedElement.value = items.map(function (_a) {\r\n                    var value = _a.value;\r\n                    return value;\r\n                }).join(config.delimiter);\r\n            }\r\n        };\r\n        Choices.prototype._displayNotice = function (text, type, openDropdown) {\r\n            if (openDropdown === void 0) { openDropdown = true; }\r\n            var oldNotice = this._notice;\r\n            if (oldNotice &&\r\n                ((oldNotice.type === type && oldNotice.text === text) ||\r\n                    (oldNotice.type === NoticeTypes.addChoice &&\r\n                        (type === NoticeTypes.noResults || type === NoticeTypes.noChoices)))) {\r\n                if (openDropdown) {\r\n                    this.showDropdown(true);\r\n                }\r\n                return;\r\n            }\r\n            this._clearNotice();\r\n            this._notice = text\r\n                ? {\r\n                    text: text,\r\n                    type: type,\r\n                }\r\n                : undefined;\r\n            this._renderNotice();\r\n            if (openDropdown && text) {\r\n                this.showDropdown(true);\r\n            }\r\n        };\r\n        Choices.prototype._clearNotice = function () {\r\n            if (!this._notice) {\r\n                return;\r\n            }\r\n            var noticeElement = this.choiceList.element.querySelector(getClassNamesSelector(this.config.classNames.notice));\r\n            if (noticeElement) {\r\n                noticeElement.remove();\r\n            }\r\n            this._notice = undefined;\r\n        };\r\n        Choices.prototype._renderNotice = function (fragment) {\r\n            var noticeConf = this._notice;\r\n            if (noticeConf) {\r\n                var notice = this._templates.notice(this.config, noticeConf.text, noticeConf.type);\r\n                if (fragment) {\r\n                    fragment.append(notice);\r\n                }\r\n                else {\r\n                    this.choiceList.prepend(notice);\r\n                }\r\n            }\r\n        };\r\n        // eslint-disable-next-line class-methods-use-this\r\n        Choices.prototype._getChoiceForOutput = function (choice, keyCode) {\r\n            return {\r\n                id: choice.id,\r\n                highlighted: choice.highlighted,\r\n                labelClass: choice.labelClass,\r\n                labelDescription: choice.labelDescription,\r\n                customProperties: choice.customProperties,\r\n                disabled: choice.disabled,\r\n                active: choice.active,\r\n                label: choice.label,\r\n                placeholder: choice.placeholder,\r\n                value: choice.value,\r\n                groupValue: choice.group ? choice.group.label : undefined,\r\n                element: choice.element,\r\n                keyCode: keyCode,\r\n            };\r\n        };\r\n        Choices.prototype._triggerChange = function (value) {\r\n            if (value === undefined || value === null) {\r\n                return;\r\n            }\r\n            this.passedElement.triggerEvent(EventType.change, {\r\n                value: value,\r\n            });\r\n        };\r\n        Choices.prototype._handleButtonAction = function (element) {\r\n            var _this = this;\r\n            var items = this._store.items;\r\n            if (!items.length || !this.config.removeItems || !this.config.removeItemButton) {\r\n                return;\r\n            }\r\n            var id = element && parseDataSetId(element.parentElement);\r\n            var itemToRemove = id && items.find(function (item) { return item.id === id; });\r\n            if (!itemToRemove) {\r\n                return;\r\n            }\r\n            this._store.withTxn(function () {\r\n                // Remove item associated with button\r\n                _this._removeItem(itemToRemove);\r\n                _this._triggerChange(itemToRemove.value);\r\n                if (_this._isSelectOneElement && !_this._hasNonChoicePlaceholder) {\r\n                    var placeholderChoice = (_this.config.shouldSort ? _this._store.choices.reverse() : _this._store.choices).find(function (choice) { return choice.placeholder; });\r\n                    if (placeholderChoice) {\r\n                        _this._addItem(placeholderChoice);\r\n                        _this.unhighlightAll();\r\n                        if (placeholderChoice.value) {\r\n                            _this._triggerChange(placeholderChoice.value);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        Choices.prototype._handleItemAction = function (element, hasShiftKey) {\r\n            var _this = this;\r\n            if (hasShiftKey === void 0) { hasShiftKey = false; }\r\n            var items = this._store.items;\r\n            if (!items.length || !this.config.removeItems || this._isSelectOneElement) {\r\n                return;\r\n            }\r\n            var id = parseDataSetId(element);\r\n            if (!id) {\r\n                return;\r\n            }\r\n            // We only want to select one item with a click\r\n            // so we deselect any items that aren't the target\r\n            // unless shift is being pressed\r\n            items.forEach(function (item) {\r\n                if (item.id === id && !item.highlighted) {\r\n                    _this.highlightItem(item);\r\n                }\r\n                else if (!hasShiftKey && item.highlighted) {\r\n                    _this.unhighlightItem(item);\r\n                }\r\n            });\r\n            // Focus input as without focus, a user cannot do anything with a\r\n            // highlighted item\r\n            this.input.focus();\r\n        };\r\n        Choices.prototype._handleChoiceAction = function (element) {\r\n            var _this = this;\r\n            // If we are clicking on an option\r\n            var id = parseDataSetId(element);\r\n            var choice = id && this._store.getChoiceById(id);\r\n            if (!choice || choice.disabled) {\r\n                return false;\r\n            }\r\n            var hasActiveDropdown = this.dropdown.isActive;\r\n            if (!choice.selected) {\r\n                if (!this._canAddItems()) {\r\n                    return true; // causes _onEnterKey to early out\r\n                }\r\n                this._store.withTxn(function () {\r\n                    _this._addItem(choice, true, true);\r\n                    _this.clearInput();\r\n                    _this.unhighlightAll();\r\n                });\r\n                this._triggerChange(choice.value);\r\n            }\r\n            // We want to close the dropdown if we are dealing with a single select box\r\n            if (hasActiveDropdown && this.config.closeDropdownOnSelect) {\r\n                this.hideDropdown(true);\r\n                this.containerOuter.element.focus();\r\n            }\r\n            return true;\r\n        };\r\n        Choices.prototype._handleBackspace = function (items) {\r\n            var config = this.config;\r\n            if (!config.removeItems || !items.length) {\r\n                return;\r\n            }\r\n            var lastItem = items[items.length - 1];\r\n            var hasHighlightedItems = items.some(function (item) { return item.highlighted; });\r\n            // If editing the last item is allowed and there are not other selected items,\r\n            // we can edit the item value. Otherwise if we can remove items, remove all selected items\r\n            if (config.editItems && !hasHighlightedItems && lastItem) {\r\n                this.input.value = lastItem.value;\r\n                this.input.setWidth();\r\n                this._removeItem(lastItem);\r\n                this._triggerChange(lastItem.value);\r\n            }\r\n            else {\r\n                if (!hasHighlightedItems) {\r\n                    // Highlight last item if none already highlighted\r\n                    this.highlightItem(lastItem, false);\r\n                }\r\n                this.removeHighlightedItems(true);\r\n            }\r\n        };\r\n        Choices.prototype._loadChoices = function () {\r\n            var _a;\r\n            var _this = this;\r\n            var config = this.config;\r\n            if (this._isTextElement) {\r\n                // Assign preset items from passed object first\r\n                this._presetChoices = config.items.map(function (e) { return mapInputToChoice(e, false); });\r\n                // Add any values passed from attribute\r\n                if (this.passedElement.value) {\r\n                    var elementItems = this.passedElement.value\r\n                        .split(config.delimiter)\r\n                        .map(function (e) { return mapInputToChoice(e, false, _this.config.allowHtmlUserInput); });\r\n                    this._presetChoices = this._presetChoices.concat(elementItems);\r\n                }\r\n                this._presetChoices.forEach(function (choice) {\r\n                    choice.selected = true;\r\n                });\r\n            }\r\n            else if (this._isSelectElement) {\r\n                // Assign preset choices from passed object\r\n                this._presetChoices = config.choices.map(function (e) { return mapInputToChoice(e, true); });\r\n                // Create array of choices from option elements\r\n                var choicesFromOptions = this.passedElement.optionsAsChoices();\r\n                if (choicesFromOptions) {\r\n                    (_a = this._presetChoices).push.apply(_a, choicesFromOptions);\r\n                }\r\n            }\r\n        };\r\n        Choices.prototype._handleLoadingState = function (setLoading) {\r\n            if (setLoading === void 0) { setLoading = true; }\r\n            var el = this.itemList.element;\r\n            if (setLoading) {\r\n                this.disable();\r\n                this.containerOuter.addLoadingState();\r\n                if (this._isSelectOneElement) {\r\n                    el.replaceChildren(this._templates.placeholder(this.config, this.config.loadingText));\r\n                }\r\n                else {\r\n                    this.input.placeholder = this.config.loadingText;\r\n                }\r\n            }\r\n            else {\r\n                this.enable();\r\n                this.containerOuter.removeLoadingState();\r\n                if (this._isSelectOneElement) {\r\n                    el.replaceChildren('');\r\n                    this._render();\r\n                }\r\n                else {\r\n                    this.input.placeholder = this._placeholderValue || '';\r\n                }\r\n            }\r\n        };\r\n        Choices.prototype._handleSearch = function (value) {\r\n            if (!this.input.isFocussed) {\r\n                return;\r\n            }\r\n            // Check that we have a value to search and the input was an alphanumeric character\r\n            if (value !== null && typeof value !== 'undefined' && value.length >= this.config.searchFloor) {\r\n                var resultCount = this.config.searchChoices ? this._searchChoices(value) : 0;\r\n                if (resultCount !== null) {\r\n                    // Trigger search event\r\n                    this.passedElement.triggerEvent(EventType.search, {\r\n                        value: value,\r\n                        resultCount: resultCount,\r\n                    });\r\n                }\r\n            }\r\n            else if (this._store.choices.some(function (option) { return !option.active; })) {\r\n                this._stopSearch();\r\n            }\r\n        };\r\n        Choices.prototype._canAddItems = function () {\r\n            var config = this.config;\r\n            var maxItemCount = config.maxItemCount, maxItemText = config.maxItemText;\r\n            if (!config.singleModeForMultiSelect && maxItemCount > 0 && maxItemCount <= this._store.items.length) {\r\n                this.choiceList.element.replaceChildren('');\r\n                this._notice = undefined;\r\n                this._displayNotice(typeof maxItemText === 'function' ? maxItemText(maxItemCount) : maxItemText, NoticeTypes.addChoice);\r\n                return false;\r\n            }\r\n            if (this._notice && this._notice.type === NoticeTypes.addChoice) {\r\n                this._clearNotice();\r\n            }\r\n            return true;\r\n        };\r\n        Choices.prototype._canCreateItem = function (value) {\r\n            var config = this.config;\r\n            var canAddItem = true;\r\n            var notice = '';\r\n            if (canAddItem && typeof config.addItemFilter === 'function' && !config.addItemFilter(value)) {\r\n                canAddItem = false;\r\n                notice = resolveNoticeFunction(config.customAddItemText, value);\r\n            }\r\n            if (canAddItem) {\r\n                var foundChoice = this._store.choices.find(function (choice) { return config.valueComparer(choice.value, value); });\r\n                if (foundChoice) {\r\n                    if (this._isSelectElement) {\r\n                        // for exact matches, do not prompt to add it as a custom choice\r\n                        this._displayNotice('', NoticeTypes.addChoice);\r\n                        return false;\r\n                    }\r\n                    if (!config.duplicateItemsAllowed) {\r\n                        canAddItem = false;\r\n                        notice = resolveNoticeFunction(config.uniqueItemText, value);\r\n                    }\r\n                }\r\n            }\r\n            if (canAddItem) {\r\n                notice = resolveNoticeFunction(config.addItemText, value);\r\n            }\r\n            if (notice) {\r\n                this._displayNotice(notice, NoticeTypes.addChoice);\r\n            }\r\n            return canAddItem;\r\n        };\r\n        Choices.prototype._searchChoices = function (value) {\r\n            var newValue = value.trim().replace(/\\s{2,}/, ' ');\r\n            // signal input didn't change search\r\n            if (!newValue.length || newValue === this._currentValue) {\r\n                return null;\r\n            }\r\n            var searcher = this._searcher;\r\n            if (searcher.isEmptyIndex()) {\r\n                searcher.index(this._store.searchableChoices);\r\n            }\r\n            // If new value matches the desired length and is not the same as the current value with a space\r\n            var results = searcher.search(newValue);\r\n            this._currentValue = newValue;\r\n            this._highlightPosition = 0;\r\n            this._isSearching = true;\r\n            var notice = this._notice;\r\n            var noticeType = notice && notice.type;\r\n            if (noticeType !== NoticeTypes.addChoice) {\r\n                if (!results.length) {\r\n                    this._displayNotice(resolveStringFunction(this.config.noResultsText), NoticeTypes.noResults);\r\n                }\r\n                else {\r\n                    this._clearNotice();\r\n                }\r\n            }\r\n            this._store.dispatch(filterChoices(results));\r\n            return results.length;\r\n        };\r\n        Choices.prototype._stopSearch = function () {\r\n            if (this._isSearching) {\r\n                this._currentValue = '';\r\n                this._isSearching = false;\r\n                this._clearNotice();\r\n                this._store.dispatch(activateChoices(true));\r\n                this.passedElement.triggerEvent(EventType.search, {\r\n                    value: '',\r\n                    resultCount: 0,\r\n                });\r\n            }\r\n        };\r\n        Choices.prototype._addEventListeners = function () {\r\n            var documentElement = this._docRoot;\r\n            var outerElement = this.containerOuter.element;\r\n            var inputElement = this.input.element;\r\n            // capture events - can cancel event processing or propagation\r\n            documentElement.addEventListener('touchend', this._onTouchEnd, true);\r\n            outerElement.addEventListener('keydown', this._onKeyDown, true);\r\n            outerElement.addEventListener('mousedown', this._onMouseDown, true);\r\n            // passive events - doesn't call `preventDefault` or `stopPropagation`\r\n            documentElement.addEventListener('click', this._onClick, { passive: true });\r\n            documentElement.addEventListener('touchmove', this._onTouchMove, {\r\n                passive: true,\r\n            });\r\n            this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\r\n                passive: true,\r\n            });\r\n            if (this._isSelectOneElement) {\r\n                outerElement.addEventListener('focus', this._onFocus, {\r\n                    passive: true,\r\n                });\r\n                outerElement.addEventListener('blur', this._onBlur, {\r\n                    passive: true,\r\n                });\r\n            }\r\n            inputElement.addEventListener('keyup', this._onKeyUp, {\r\n                passive: true,\r\n            });\r\n            inputElement.addEventListener('input', this._onInput, {\r\n                passive: true,\r\n            });\r\n            inputElement.addEventListener('focus', this._onFocus, {\r\n                passive: true,\r\n            });\r\n            inputElement.addEventListener('blur', this._onBlur, {\r\n                passive: true,\r\n            });\r\n            if (inputElement.form) {\r\n                inputElement.form.addEventListener('reset', this._onFormReset, {\r\n                    passive: true,\r\n                });\r\n            }\r\n            this.input.addEventListeners();\r\n        };\r\n        Choices.prototype._removeEventListeners = function () {\r\n            var documentElement = this._docRoot;\r\n            var outerElement = this.containerOuter.element;\r\n            var inputElement = this.input.element;\r\n            documentElement.removeEventListener('touchend', this._onTouchEnd, true);\r\n            outerElement.removeEventListener('keydown', this._onKeyDown, true);\r\n            outerElement.removeEventListener('mousedown', this._onMouseDown, true);\r\n            documentElement.removeEventListener('click', this._onClick);\r\n            documentElement.removeEventListener('touchmove', this._onTouchMove);\r\n            this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\r\n            if (this._isSelectOneElement) {\r\n                outerElement.removeEventListener('focus', this._onFocus);\r\n                outerElement.removeEventListener('blur', this._onBlur);\r\n            }\r\n            inputElement.removeEventListener('keyup', this._onKeyUp);\r\n            inputElement.removeEventListener('input', this._onInput);\r\n            inputElement.removeEventListener('focus', this._onFocus);\r\n            inputElement.removeEventListener('blur', this._onBlur);\r\n            if (inputElement.form) {\r\n                inputElement.form.removeEventListener('reset', this._onFormReset);\r\n            }\r\n            this.input.removeEventListeners();\r\n        };\r\n        Choices.prototype._onKeyDown = function (event) {\r\n            var keyCode = event.keyCode;\r\n            var hasActiveDropdown = this.dropdown.isActive;\r\n            /*\r\n            See:\r\n            https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\r\n            https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\r\n            https://en.wikipedia.org/wiki/UTF-16#Code_points_from_U+010000_to_U+10FFFF - UTF-16 surrogate pairs\r\n            https://stackoverflow.com/a/70866532 - \"Unidentified\" for mobile\r\n            http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635 - U+FFFF is reserved (Section 16.7)\r\n        \r\n            Logic: when a key event is sent, `event.key` represents its printable value _or_ one\r\n            of a large list of special values indicating meta keys/functionality. In addition,\r\n            key events for compose functionality contain a value of `Dead` when mid-composition.\r\n        \r\n            I can't quite verify it, but non-English IMEs may also be able to generate key codes\r\n            for code points in the surrogate-pair range, which could potentially be seen as having\r\n            key.length > 1. Since `Fn` is one of the special keys, we can't distinguish by that\r\n            alone.\r\n        \r\n            Here, key.length === 1 means we know for sure the input was printable and not a special\r\n            `key` value. When the length is greater than 1, it could be either a printable surrogate\r\n            pair or a special `key` value. We can tell the difference by checking if the _character\r\n            code_ value (not code point!) is in the \"surrogate pair\" range or not.\r\n        \r\n            We don't use .codePointAt because an invalid code point would return 65535, which wouldn't\r\n            pass the >= 0x10000 check we would otherwise use.\r\n        \r\n            > ...The Unicode Standard sets aside 66 noncharacter code points. The last two code points\r\n            > of each plane are noncharacters: U+FFFE and U+FFFF on the BMP...\r\n            */\r\n            var wasPrintableChar = event.key.length === 1 ||\r\n                (event.key.length === 2 && event.key.charCodeAt(0) >= 0xd800) ||\r\n                event.key === 'Unidentified';\r\n            /*\r\n              We do not show the dropdown if focusing out with esc or navigating through input fields.\r\n              An activated search can still be opened with any other key.\r\n             */\r\n            if (!this._isTextElement &&\r\n                !hasActiveDropdown &&\r\n                keyCode !== KeyCodeMap.ESC_KEY &&\r\n                keyCode !== KeyCodeMap.TAB_KEY &&\r\n                keyCode !== KeyCodeMap.SHIFT_KEY) {\r\n                this.showDropdown();\r\n                if (!this.input.isFocussed && wasPrintableChar) {\r\n                    /*\r\n                      We update the input value with the pressed key as\r\n                      the input was not focussed at the time of key press\r\n                      therefore does not have the value of the key.\r\n                    */\r\n                    this.input.value += event.key;\r\n                    // browsers interpret a space as pagedown\r\n                    if (event.key === ' ') {\r\n                        event.preventDefault();\r\n                    }\r\n                }\r\n            }\r\n            switch (keyCode) {\r\n                case KeyCodeMap.A_KEY:\r\n                    return this._onSelectKey(event, this.itemList.element.hasChildNodes());\r\n                case KeyCodeMap.ENTER_KEY:\r\n                    return this._onEnterKey(event, hasActiveDropdown);\r\n                case KeyCodeMap.ESC_KEY:\r\n                    return this._onEscapeKey(event, hasActiveDropdown);\r\n                case KeyCodeMap.UP_KEY:\r\n                case KeyCodeMap.PAGE_UP_KEY:\r\n                case KeyCodeMap.DOWN_KEY:\r\n                case KeyCodeMap.PAGE_DOWN_KEY:\r\n                    return this._onDirectionKey(event, hasActiveDropdown);\r\n                case KeyCodeMap.DELETE_KEY:\r\n                case KeyCodeMap.BACK_KEY:\r\n                    return this._onDeleteKey(event, this._store.items, this.input.isFocussed);\r\n            }\r\n        };\r\n        Choices.prototype._onKeyUp = function ( /* event: KeyboardEvent */) {\r\n            this._canSearch = this.config.searchEnabled;\r\n        };\r\n        Choices.prototype._onInput = function ( /* event: InputEvent */) {\r\n            var value = this.input.value;\r\n            if (!value) {\r\n                if (this._isTextElement) {\r\n                    this.hideDropdown(true);\r\n                }\r\n                else {\r\n                    this._stopSearch();\r\n                }\r\n                return;\r\n            }\r\n            if (!this._canAddItems()) {\r\n                return;\r\n            }\r\n            if (this._canSearch) {\r\n                // do the search even if the entered text can not be added\r\n                this._handleSearch(value);\r\n            }\r\n            if (!this._canAddUserChoices) {\r\n                return;\r\n            }\r\n            // determine if a notice needs to be displayed for why a search result can't be added\r\n            this._canCreateItem(value);\r\n            if (this._isSelectElement) {\r\n                this._highlightPosition = 0; // reset to select the notice and/or exact match\r\n                this._highlightChoice();\r\n            }\r\n        };\r\n        Choices.prototype._onSelectKey = function (event, hasItems) {\r\n            // If CTRL + A or CMD + A have been pressed and there are items to select\r\n            if ((event.ctrlKey || event.metaKey) && hasItems) {\r\n                this._canSearch = false;\r\n                var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\r\n                if (shouldHightlightAll) {\r\n                    this.highlightAll();\r\n                }\r\n            }\r\n        };\r\n        Choices.prototype._onEnterKey = function (event, hasActiveDropdown) {\r\n            var _this = this;\r\n            var value = this.input.value;\r\n            var target = event.target;\r\n            event.preventDefault();\r\n            if (target && target.hasAttribute('data-button')) {\r\n                this._handleButtonAction(target);\r\n                return;\r\n            }\r\n            if (!hasActiveDropdown) {\r\n                if (this._isSelectElement || this._notice) {\r\n                    this.showDropdown();\r\n                }\r\n                return;\r\n            }\r\n            var highlightedChoice = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\r\n            if (highlightedChoice && this._handleChoiceAction(highlightedChoice)) {\r\n                return;\r\n            }\r\n            if (!target || !value) {\r\n                this.hideDropdown(true);\r\n                return;\r\n            }\r\n            if (!this._canAddItems()) {\r\n                return;\r\n            }\r\n            var addedItem = false;\r\n            this._store.withTxn(function () {\r\n                addedItem = _this._findAndSelectChoiceByValue(value, true);\r\n                if (!addedItem) {\r\n                    if (!_this._canAddUserChoices) {\r\n                        return;\r\n                    }\r\n                    if (!_this._canCreateItem(value)) {\r\n                        return;\r\n                    }\r\n                    _this._addChoice(mapInputToChoice(value, false, _this.config.allowHtmlUserInput), true, true);\r\n                    addedItem = true;\r\n                }\r\n                _this.clearInput();\r\n                _this.unhighlightAll();\r\n            });\r\n            if (!addedItem) {\r\n                return;\r\n            }\r\n            this._triggerChange(value);\r\n            if (this.config.closeDropdownOnSelect) {\r\n                this.hideDropdown(true);\r\n            }\r\n        };\r\n        Choices.prototype._onEscapeKey = function (event, hasActiveDropdown) {\r\n            if (hasActiveDropdown) {\r\n                event.stopPropagation();\r\n                this.hideDropdown(true);\r\n                this._stopSearch();\r\n                this.containerOuter.element.focus();\r\n            }\r\n        };\r\n        Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\r\n            var keyCode = event.keyCode;\r\n            // If up or down key is pressed, traverse through options\r\n            if (hasActiveDropdown || this._isSelectOneElement) {\r\n                this.showDropdown();\r\n                this._canSearch = false;\r\n                var directionInt = keyCode === KeyCodeMap.DOWN_KEY || keyCode === KeyCodeMap.PAGE_DOWN_KEY ? 1 : -1;\r\n                var skipKey = event.metaKey || keyCode === KeyCodeMap.PAGE_DOWN_KEY || keyCode === KeyCodeMap.PAGE_UP_KEY;\r\n                var nextEl = void 0;\r\n                if (skipKey) {\r\n                    if (directionInt > 0) {\r\n                        nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\r\n                    }\r\n                    else {\r\n                        nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\r\n                    }\r\n                }\r\n                else {\r\n                    var currentEl = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\r\n                    if (currentEl) {\r\n                        nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\r\n                    }\r\n                    else {\r\n                        nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\r\n                    }\r\n                }\r\n                if (nextEl) {\r\n                    // We prevent default to stop the cursor moving\r\n                    // when pressing the arrow\r\n                    if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\r\n                        this.choiceList.scrollToChildElement(nextEl, directionInt);\r\n                    }\r\n                    this._highlightChoice(nextEl);\r\n                }\r\n                // Prevent default to maintain cursor position whilst\r\n                // traversing dropdown options\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        Choices.prototype._onDeleteKey = function (event, items, hasFocusedInput) {\r\n            // If backspace or delete key is pressed and the input has no value\r\n            if (!this._isSelectOneElement && !event.target.value && hasFocusedInput) {\r\n                this._handleBackspace(items);\r\n                event.preventDefault();\r\n            }\r\n        };\r\n        Choices.prototype._onTouchMove = function () {\r\n            if (this._wasTap) {\r\n                this._wasTap = false;\r\n            }\r\n        };\r\n        Choices.prototype._onTouchEnd = function (event) {\r\n            var target = (event || event.touches[0]).target;\r\n            var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\r\n            if (touchWasWithinContainer) {\r\n                var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\r\n                if (containerWasExactTarget) {\r\n                    if (this._isTextElement) {\r\n                        this.input.focus();\r\n                    }\r\n                    else if (this._isSelectMultipleElement) {\r\n                        this.showDropdown();\r\n                    }\r\n                }\r\n                // Prevents focus event firing\r\n                event.stopPropagation();\r\n            }\r\n            this._wasTap = true;\r\n        };\r\n        /**\r\n         * Handles mousedown event in capture mode for containetOuter.element\r\n         */\r\n        Choices.prototype._onMouseDown = function (event) {\r\n            var target = event.target;\r\n            if (!(target instanceof HTMLElement)) {\r\n                return;\r\n            }\r\n            // If we have our mouse down on the scrollbar and are on IE11...\r\n            if (IS_IE11 && this.choiceList.element.contains(target)) {\r\n                // check if click was on a scrollbar area\r\n                var firstChoice = this.choiceList.element.firstElementChild;\r\n                this._isScrollingOnIe =\r\n                    this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\r\n            }\r\n            if (target === this.input.element) {\r\n                return;\r\n            }\r\n            var item = target.closest('[data-button],[data-item],[data-choice]');\r\n            if (item instanceof HTMLElement) {\r\n                if ('button' in item.dataset) {\r\n                    this._handleButtonAction(item);\r\n                }\r\n                else if ('item' in item.dataset) {\r\n                    this._handleItemAction(item, event.shiftKey);\r\n                }\r\n                else if ('choice' in item.dataset) {\r\n                    this._handleChoiceAction(item);\r\n                }\r\n            }\r\n            event.preventDefault();\r\n        };\r\n        /**\r\n         * Handles mouseover event over this.dropdown\r\n         * @param {MouseEvent} event\r\n         */\r\n        Choices.prototype._onMouseOver = function (_a) {\r\n            var target = _a.target;\r\n            if (target instanceof HTMLElement && 'choice' in target.dataset) {\r\n                this._highlightChoice(target);\r\n            }\r\n        };\r\n        Choices.prototype._onClick = function (_a) {\r\n            var target = _a.target;\r\n            var containerOuter = this.containerOuter;\r\n            var clickWasWithinContainer = containerOuter.element.contains(target);\r\n            if (clickWasWithinContainer) {\r\n                if (!this.dropdown.isActive && !containerOuter.isDisabled) {\r\n                    if (this._isTextElement) {\r\n                        if (document.activeElement !== this.input.element) {\r\n                            this.input.focus();\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.showDropdown();\r\n                        containerOuter.element.focus();\r\n                    }\r\n                }\r\n                else if (this._isSelectOneElement &&\r\n                    target !== this.input.element &&\r\n                    !this.dropdown.element.contains(target)) {\r\n                    this.hideDropdown();\r\n                }\r\n            }\r\n            else {\r\n                containerOuter.removeFocusState();\r\n                this.hideDropdown(true);\r\n                this.unhighlightAll();\r\n            }\r\n        };\r\n        Choices.prototype._onFocus = function (_a) {\r\n            var target = _a.target;\r\n            var containerOuter = this.containerOuter;\r\n            var focusWasWithinContainer = target && containerOuter.element.contains(target);\r\n            if (!focusWasWithinContainer) {\r\n                return;\r\n            }\r\n            var targetIsInput = target === this.input.element;\r\n            if (this._isTextElement) {\r\n                if (targetIsInput) {\r\n                    containerOuter.addFocusState();\r\n                }\r\n            }\r\n            else if (this._isSelectMultipleElement) {\r\n                if (targetIsInput) {\r\n                    this.showDropdown(true);\r\n                    // If element is a select box, the focused element is the container and the dropdown\r\n                    // isn't already open, focus and show dropdown\r\n                    containerOuter.addFocusState();\r\n                }\r\n            }\r\n            else {\r\n                containerOuter.addFocusState();\r\n                if (targetIsInput) {\r\n                    this.showDropdown(true);\r\n                }\r\n            }\r\n        };\r\n        Choices.prototype._onBlur = function (_a) {\r\n            var target = _a.target;\r\n            var containerOuter = this.containerOuter;\r\n            var blurWasWithinContainer = target && containerOuter.element.contains(target);\r\n            if (blurWasWithinContainer && !this._isScrollingOnIe) {\r\n                if (target === this.input.element) {\r\n                    containerOuter.removeFocusState();\r\n                    this.hideDropdown(true);\r\n                    if (this._isTextElement || this._isSelectMultipleElement) {\r\n                        this.unhighlightAll();\r\n                    }\r\n                }\r\n                else if (target === this.containerOuter.element) {\r\n                    // Remove the focus state when the past outerContainer was the target\r\n                    containerOuter.removeFocusState();\r\n                    // Also close the dropdown if search is disabled\r\n                    if (!this._canSearch) {\r\n                        this.hideDropdown(true);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                // On IE11, clicking the scollbar blurs our input and thus\r\n                // closes the dropdown. To stop this, we refocus our input\r\n                // if we know we are on IE *and* are scrolling.\r\n                this._isScrollingOnIe = false;\r\n                this.input.element.focus();\r\n            }\r\n        };\r\n        Choices.prototype._onFormReset = function () {\r\n            var _this = this;\r\n            this._store.withTxn(function () {\r\n                _this.clearInput();\r\n                _this.hideDropdown();\r\n                _this.refresh(false, false, true);\r\n                if (_this._initialItems.length) {\r\n                    _this.setChoiceByValue(_this._initialItems);\r\n                }\r\n            });\r\n        };\r\n        Choices.prototype._highlightChoice = function (el) {\r\n            if (el === void 0) { el = null; }\r\n            var choices = Array.from(this.dropdown.element.querySelectorAll(selectableChoiceIdentifier));\r\n            if (!choices.length) {\r\n                return;\r\n            }\r\n            var passedEl = el;\r\n            var highlightedState = this.config.classNames.highlightedState;\r\n            var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(getClassNamesSelector(highlightedState)));\r\n            // Remove any highlighted choices\r\n            highlightedChoices.forEach(function (choice) {\r\n                removeClassesFromElement(choice, highlightedState);\r\n                choice.setAttribute('aria-selected', 'false');\r\n            });\r\n            if (passedEl) {\r\n                this._highlightPosition = choices.indexOf(passedEl);\r\n            }\r\n            else {\r\n                // Highlight choice based on last known highlight location\r\n                if (choices.length > this._highlightPosition) {\r\n                    // If we have an option to highlight\r\n                    passedEl = choices[this._highlightPosition];\r\n                }\r\n                else {\r\n                    // Otherwise highlight the option before\r\n                    passedEl = choices[choices.length - 1];\r\n                }\r\n                if (!passedEl) {\r\n                    passedEl = choices[0];\r\n                }\r\n            }\r\n            addClassesToElement(passedEl, highlightedState);\r\n            passedEl.setAttribute('aria-selected', 'true');\r\n            this.passedElement.triggerEvent(EventType.highlightChoice, {\r\n                el: passedEl,\r\n            });\r\n            if (this.dropdown.isActive) {\r\n                // IE11 ignores aria-label and blocks virtual keyboard\r\n                // if aria-activedescendant is set without a dropdown\r\n                this.input.setActiveDescendant(passedEl.id);\r\n                this.containerOuter.setActiveDescendant(passedEl.id);\r\n            }\r\n        };\r\n        Choices.prototype._addItem = function (item, withEvents, userTriggered) {\r\n            if (withEvents === void 0) { withEvents = true; }\r\n            if (userTriggered === void 0) { userTriggered = false; }\r\n            if (!item.id) {\r\n                throw new TypeError('item.id must be set before _addItem is called for a choice/item');\r\n            }\r\n            if (this.config.singleModeForMultiSelect || this._isSelectOneElement) {\r\n                this.removeActiveItems(item.id);\r\n            }\r\n            this._store.dispatch(addItem(item));\r\n            if (withEvents) {\r\n                this.passedElement.triggerEvent(EventType.addItem, this._getChoiceForOutput(item));\r\n                if (userTriggered) {\r\n                    this.passedElement.triggerEvent(EventType.choice, this._getChoiceForOutput(item));\r\n                }\r\n            }\r\n        };\r\n        Choices.prototype._removeItem = function (item) {\r\n            if (!item.id) {\r\n                return;\r\n            }\r\n            this._store.dispatch(removeItem$1(item));\r\n            var notice = this._notice;\r\n            if (notice && notice.type === NoticeTypes.noChoices) {\r\n                this._clearNotice();\r\n            }\r\n            this.passedElement.triggerEvent(EventType.removeItem, this._getChoiceForOutput(item));\r\n        };\r\n        Choices.prototype._addChoice = function (choice, withEvents, userTriggered) {\r\n            if (withEvents === void 0) { withEvents = true; }\r\n            if (userTriggered === void 0) { userTriggered = false; }\r\n            if (choice.id) {\r\n                throw new TypeError('Can not re-add a choice which has already been added');\r\n            }\r\n            var config = this.config;\r\n            if (!config.duplicateItemsAllowed && this._store.choices.find(function (c) { return config.valueComparer(c.value, choice.value); })) {\r\n                return;\r\n            }\r\n            // Generate unique id, in-place update is required so chaining _addItem works as expected\r\n            this._lastAddedChoiceId++;\r\n            choice.id = this._lastAddedChoiceId;\r\n            choice.elementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choice.id);\r\n            var prependValue = config.prependValue, appendValue = config.appendValue;\r\n            if (prependValue) {\r\n                choice.value = prependValue + choice.value;\r\n            }\r\n            if (appendValue) {\r\n                choice.value += appendValue.toString();\r\n            }\r\n            if ((prependValue || appendValue) && choice.element) {\r\n                choice.element.value = choice.value;\r\n            }\r\n            this._clearNotice();\r\n            this._store.dispatch(addChoice(choice));\r\n            if (choice.selected) {\r\n                this._addItem(choice, withEvents, userTriggered);\r\n            }\r\n        };\r\n        Choices.prototype._addGroup = function (group, withEvents) {\r\n            var _this = this;\r\n            if (withEvents === void 0) { withEvents = true; }\r\n            if (group.id) {\r\n                throw new TypeError('Can not re-add a group which has already been added');\r\n            }\r\n            this._store.dispatch(addGroup(group));\r\n            if (!group.choices) {\r\n                return;\r\n            }\r\n            // add unique id for the group(s), and do not store the full list of choices in this group\r\n            this._lastAddedGroupId++;\r\n            group.id = this._lastAddedGroupId;\r\n            group.choices.forEach(function (item) {\r\n                item.group = group;\r\n                if (group.disabled) {\r\n                    item.disabled = true;\r\n                }\r\n                _this._addChoice(item, withEvents);\r\n            });\r\n        };\r\n        Choices.prototype._createTemplates = function () {\r\n            var _this = this;\r\n            var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\r\n            var userTemplates = {};\r\n            if (typeof callbackOnCreateTemplates === 'function') {\r\n                userTemplates = callbackOnCreateTemplates.call(this, strToEl, escapeForTemplate, getClassNames);\r\n            }\r\n            var templating = {};\r\n            Object.keys(this._templates).forEach(function (name) {\r\n                if (name in userTemplates) {\r\n                    templating[name] = userTemplates[name].bind(_this);\r\n                }\r\n                else {\r\n                    templating[name] = _this._templates[name].bind(_this);\r\n                }\r\n            });\r\n            this._templates = templating;\r\n        };\r\n        Choices.prototype._createElements = function () {\r\n            var templating = this._templates;\r\n            var _a = this, config = _a.config, isSelectOneElement = _a._isSelectOneElement;\r\n            var position = config.position, classNames = config.classNames;\r\n            var elementType = this._elementType;\r\n            this.containerOuter = new Container({\r\n                element: templating.containerOuter(config, this._direction, this._isSelectElement, isSelectOneElement, config.searchEnabled, elementType, config.labelId),\r\n                classNames: classNames,\r\n                type: elementType,\r\n                position: position,\r\n            });\r\n            this.containerInner = new Container({\r\n                element: templating.containerInner(config),\r\n                classNames: classNames,\r\n                type: elementType,\r\n                position: position,\r\n            });\r\n            this.input = new Input({\r\n                element: templating.input(config, this._placeholderValue),\r\n                classNames: classNames,\r\n                type: elementType,\r\n                preventPaste: !config.paste,\r\n            });\r\n            this.choiceList = new List({\r\n                element: templating.choiceList(config, isSelectOneElement),\r\n            });\r\n            this.itemList = new List({\r\n                element: templating.itemList(config, isSelectOneElement),\r\n            });\r\n            this.dropdown = new Dropdown({\r\n                element: templating.dropdown(config),\r\n                classNames: classNames,\r\n                type: elementType,\r\n            });\r\n        };\r\n        Choices.prototype._createStructure = function () {\r\n            var _a = this, containerInner = _a.containerInner, containerOuter = _a.containerOuter, passedElement = _a.passedElement;\r\n            var dropdownElement = this.dropdown.element;\r\n            // Hide original element\r\n            passedElement.conceal();\r\n            // Wrap input in container preserving DOM ordering\r\n            containerInner.wrap(passedElement.element);\r\n            // Wrapper inner container with outer container\r\n            containerOuter.wrap(containerInner.element);\r\n            if (this._isSelectOneElement) {\r\n                this.input.placeholder = this.config.searchPlaceholderValue || '';\r\n            }\r\n            else {\r\n                if (this._placeholderValue) {\r\n                    this.input.placeholder = this._placeholderValue;\r\n                }\r\n                this.input.setWidth();\r\n            }\r\n            containerOuter.element.appendChild(containerInner.element);\r\n            containerOuter.element.appendChild(dropdownElement);\r\n            containerInner.element.appendChild(this.itemList.element);\r\n            dropdownElement.appendChild(this.choiceList.element);\r\n            if (!this._isSelectOneElement) {\r\n                containerInner.element.appendChild(this.input.element);\r\n            }\r\n            else if (this.config.searchEnabled) {\r\n                dropdownElement.insertBefore(this.input.element, dropdownElement.firstChild);\r\n            }\r\n            this._highlightPosition = 0;\r\n            this._isSearching = false;\r\n        };\r\n        Choices.prototype._initStore = function () {\r\n            var _this = this;\r\n            this._store.subscribe(this._render).withTxn(function () {\r\n                _this._addPredefinedChoices(_this._presetChoices, _this._isSelectOneElement && !_this._hasNonChoicePlaceholder, false);\r\n            });\r\n            if (!this._store.choices.length || (this._isSelectOneElement && this._hasNonChoicePlaceholder)) {\r\n                this._render();\r\n            }\r\n        };\r\n        Choices.prototype._addPredefinedChoices = function (choices, selectFirstOption, withEvents) {\r\n            var _this = this;\r\n            if (selectFirstOption === void 0) { selectFirstOption = false; }\r\n            if (withEvents === void 0) { withEvents = true; }\r\n            if (selectFirstOption) {\r\n                /**\r\n                 * If there is a selected choice already or the choice is not the first in\r\n                 * the array, add each choice normally.\r\n                 *\r\n                 * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\r\n                 */\r\n                var noSelectedChoices = choices.findIndex(function (choice) { return choice.selected; }) === -1;\r\n                if (noSelectedChoices) {\r\n                    choices.some(function (choice) {\r\n                        if (choice.disabled || 'choices' in choice) {\r\n                            return false;\r\n                        }\r\n                        choice.selected = true;\r\n                        return true;\r\n                    });\r\n                }\r\n            }\r\n            choices.forEach(function (item) {\r\n                if ('choices' in item) {\r\n                    if (_this._isSelectElement) {\r\n                        _this._addGroup(item, withEvents);\r\n                    }\r\n                }\r\n                else {\r\n                    _this._addChoice(item, withEvents);\r\n                }\r\n            });\r\n        };\r\n        Choices.prototype._findAndSelectChoiceByValue = function (value, userTriggered) {\r\n            var _this = this;\r\n            if (userTriggered === void 0) { userTriggered = false; }\r\n            // Check 'value' property exists and the choice isn't already selected\r\n            var foundChoice = this._store.choices.find(function (choice) { return _this.config.valueComparer(choice.value, value); });\r\n            if (foundChoice && !foundChoice.disabled && !foundChoice.selected) {\r\n                this._addItem(foundChoice, true, userTriggered);\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        Choices.prototype._generatePlaceholderValue = function () {\r\n            var config = this.config;\r\n            if (!config.placeholder) {\r\n                return null;\r\n            }\r\n            if (this._hasNonChoicePlaceholder) {\r\n                return config.placeholderValue;\r\n            }\r\n            if (this._isSelectElement) {\r\n                var placeholderOption = this.passedElement.placeholderOption;\r\n                return placeholderOption ? placeholderOption.text : null;\r\n            }\r\n            return null;\r\n        };\r\n        Choices.prototype._warnChoicesInitFailed = function (caller) {\r\n            if (this.config.silent) {\r\n                return;\r\n            }\r\n            if (!this.initialised) {\r\n                throw new TypeError(\"\".concat(caller, \" called on a non-initialised instance of Choices\"));\r\n            }\r\n            else if (!this.initialisedOK) {\r\n                throw new TypeError(\"\".concat(caller, \" called for an element which has multiple instances of Choices initialised on it\"));\r\n            }\r\n        };\r\n        Choices.version = '11.1.0';\r\n        return Choices;\r\n    }());\r\n\r\n    return Choices;\r\n\r\n}));\r\n","import * as bootstrap from 'bootstrap';\nimport { renderAttachPreview } from './utilities';\nimport { setPageNumber } from './paging';\nexport function getAlbumImagesData(pageSize, pageNumber, isPageChange) {\n    var _a;\n    const placeHolder = document.getElementById('PostAlbumsListPlaceholder');\n    const list = document.querySelector('.AlbumsList');\n    const yafUserId = placeHolder.dataset.userid || '0';\n    const ajaxUrl = '/api/Album/GetAlbumImages';\n    const pagedResults = {\n        UserId: parseInt(yafUserId),\n        PageSize: pageSize,\n        PageNumber: pageNumber,\n    };\n    fetch(ajaxUrl, {\n        method: 'POST',\n        body: JSON.stringify(pagedResults),\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json;charset=utf-8',\n            'RequestVerificationToken': ((_a = document.querySelector('input[name=\"__RequestVerificationToken\"]')) === null || _a === void 0 ? void 0 : _a.value) || '',\n        },\n    })\n        .then((res) => res.json())\n        .then((data) => {\n        list.innerHTML = '';\n        document.getElementById('PostAlbumsLoader').style.display = 'none';\n        data.attachmentList.forEach((dataItem) => {\n            const li = document.createElement('div');\n            li.classList.add('col-6', 'col-sm-4', 'p-1');\n            li.style.cursor = 'pointer';\n            li.setAttribute('onclick', dataItem.onClick);\n            li.innerHTML = dataItem.iconImage;\n            list.appendChild(li);\n        });\n        renderAttachPreview('.attachments-preview');\n        setPageNumber(pageSize, pageNumber, data.totalRecords, document.getElementById('AlbumsListPager'), 'Album Images', 'getAlbumImagesData');\n        if (isPageChange && document.querySelector('.albums-toggle') !== null) {\n            const toggleBtn = document.querySelector('.albums-toggle');\n            const dropdownEl = new bootstrap.Dropdown(toggleBtn);\n            dropdownEl.toggle();\n        }\n    })\n        .catch((error) => {\n        console.error(error);\n        document.getElementById('PostAlbumsLoader').style.display = 'none';\n        placeHolder.textContent = error.message;\n    });\n}\nconst _global = (window /* browser */ || global /* node */);\n_global.getAlbumImagesData = getAlbumImagesData;\n","import { setPageNumber } from './paging';\nimport * as Utilities from '../forum/utilities';\nexport function getPaginationData(pageSize, pageNumber, isPageChange) {\n    const placeHolder = document.getElementById('PostAttachmentListPlaceholder');\n    const list = document.querySelector('.AttachmentList');\n    const yafUserId = placeHolder.dataset.userid || '0';\n    const pagedResults = {\n        UserId: parseInt(yafUserId),\n        PageSize: pageSize,\n        PageNumber: pageNumber\n    };\n    const ajaxUrl = '/api/Attachment/GetAttachments';\n    fetch(ajaxUrl, {\n        method: 'POST',\n        body: JSON.stringify(pagedResults),\n        headers: {\n            Accept: 'application/json',\n            \"Content-Type\": 'application/json;charset=utf-8',\n            \"RequestVerificationToken\": document.querySelector('input[name=\"__RequestVerificationToken\"]').value\n        }\n    }).then(res => res.json()).then(data => {\n        list.innerHTML = '';\n        document.getElementById('PostAttachmentLoader').style.display = 'none';\n        if (data.attachmentList.length === 0) {\n            const li = document.createElement('div');\n            li.classList.add('col');\n            const noText = placeHolder.dataset.notext;\n            const noAttachmentsText = noText || '';\n            li.innerHTML = `<div class=\"alert alert-info text-break\" role=\"alert\" style=\"white-space:normal;width:200px\">${noAttachmentsText}</div>`;\n            list.appendChild(li);\n        }\n        let count = 0;\n        data.attachmentList.forEach((dataItem) => {\n            const li = document.createElement('div');\n            li.classList.add('col-6', 'col-sm-4');\n            li.style.cursor = 'pointer';\n            li.setAttribute('onclick', dataItem.onClick);\n            li.innerHTML = dataItem.iconImage;\n            list.appendChild(li);\n            count++;\n        });\n        Utilities.renderAttachPreview('.attachments-preview');\n        setPageNumber(pageSize, pageNumber, data.totalRecords, document.getElementById('AttachmentsListPager'), 'Attachments', 'getPaginationData');\n    }).catch((error) => {\n        console.error(error);\n        document.getElementById('PostAttachmentLoader').style.display = 'none';\n        placeHolder.textContent = error.toString();\n    });\n}\nconst _global = (window /* browser */ || global /* node */);\n_global.getPaginationData = getPaginationData;\n","import * as Utilities from '../forum/utilities';\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Numeric Spinner Inputs\n    document.querySelectorAll(\"input[type='number']\").forEach((input) => {\n        var _a, _b;\n        // create wrapper div if not exist\n        if (!input.parentNode || !input.parentNode.classList.contains('input-group')) {\n            const wrapDiv = document.createElement('div');\n            wrapDiv.classList.add('input-group');\n            Utilities.wrap(input, wrapDiv);\n        }\n        // Insert minus button\n        const minusButton = document.createElement('button');\n        minusButton.classList.add('btn', 'btn-secondary', 'bootstrap-touchspin-down');\n        minusButton.type = 'button';\n        minusButton.addEventListener('click', touchSpinDown);\n        minusButton.innerHTML = '<i class=\"fa-solid fa-minus\"></i>';\n        (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(minusButton, input);\n        // Insert plus button\n        const plusButton = document.createElement('button');\n        plusButton.classList.add('btn', 'btn-secondary', 'bootstrap-touchspin-up');\n        plusButton.type = 'button';\n        plusButton.addEventListener('click', touchSpinUp);\n        plusButton.innerHTML = '<i class=\"fa-solid fa-plus\"></i>';\n        (_b = input.parentNode) === null || _b === void 0 ? void 0 : _b.append(plusButton);\n    });\n    function touchSpinDown() {\n        var _a;\n        const btn = this;\n        const input = btn.nextSibling;\n        const oldValue = input.value.trim();\n        let minValue = 1;\n        if (input.classList.contains('form-control-days')) {\n            minValue = parseInt((_a = input.dataset.min) !== null && _a !== void 0 ? _a : '1');\n        }\n        else if (input.classList.contains('serverTime-Input')) {\n            minValue = -720;\n        }\n        const newVal = parseInt(oldValue) > minValue ? parseInt(oldValue) - 1 : minValue;\n        input.value = newVal.toString();\n    }\n    function touchSpinUp() {\n        const btn = this;\n        const input = btn.previousSibling;\n        const oldValue = input.value.trim();\n        let maxValue = 2147483647;\n        if (input.classList.contains('serverTime-Input')) {\n            maxValue = -720;\n        }\n        if (parseInt(oldValue) <= maxValue) {\n            const newVal = parseInt(oldValue) + 1;\n            input.value = newVal.toString();\n        }\n    }\n});\n","import * as Utilities from '../forum/utilities';\ndocument.addEventListener('DOMContentLoaded', () => {\n    document.querySelectorAll('.list-group-item-menu, .message').forEach(element => {\n        const isMessageContext = element.classList.contains('message');\n        const contextMenu = element.querySelector('.context-menu');\n        let messageId = 0;\n        const quoteableElement = element.querySelector('.selectionQuoteable');\n        if (quoteableElement != null) {\n            messageId = parseInt(quoteableElement.id, 10);\n        }\n        if (window.matchMedia('only screen and (max-width: 760px)').matches) {\n            const el = element;\n            // listen for the long-press event\n            el.addEventListener('long-press', (e) => {\n                e.preventDefault();\n                if (isMessageContext && contextMenu) {\n                    const selectedText = getSelectedMessageText();\n                    if (selectedText.length) {\n                        const searchItem = contextMenu.querySelector('.item-search');\n                        const selectedItem = contextMenu.querySelector('.item-selected-quoting');\n                        const selectedDivider = contextMenu.querySelector('.selected-divider');\n                        searchItem === null || searchItem === void 0 ? void 0 : searchItem.remove();\n                        selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.remove();\n                        selectedDivider === null || selectedDivider === void 0 ? void 0 : selectedDivider.remove();\n                        if (contextMenu.dataset.url) {\n                            const link = document.createElement('a');\n                            link.classList.add('dropdown-item', 'item-selected-quoting');\n                            link.href = `javascript:goToURL('${messageId}','${selectedText}','${contextMenu.dataset.url} ')`;\n                            link.innerHTML = `<i class=\"fas fa-quote-left fa-fw\"></i>&nbsp;${contextMenu.dataset.quote}`;\n                            contextMenu.appendChild(link);\n                        }\n                        const linkSearch = document.createElement('a');\n                        linkSearch.classList.add('dropdown-item', 'item-search');\n                        linkSearch.href = `javascript:copyToClipBoard('${selectedText}')`;\n                        linkSearch.innerHTML = `<i class=\"fas fa-clipboard fa-fw\"></i>&nbsp;${contextMenu.dataset.copy}`;\n                        contextMenu.appendChild(linkSearch);\n                        const divider = document.createElement('div');\n                        divider.classList.add('dropdown-divider', 'selected-divider');\n                        const linkSelected = document.createElement('a');\n                        linkSelected.classList.add('dropdown-item', 'item-search');\n                        linkSelected.href = `javascript:searchText('${selectedText}')`;\n                        linkSelected.innerHTML = `<i class=\"fas fa-search fa-fw\"></i>&nbsp;${contextMenu.dataset.search} \"${selectedText}\"`;\n                        contextMenu.appendChild(linkSelected);\n                    }\n                }\n                contextMenu.style.left = `${e.detail.pageX}px`;\n                contextMenu.style.top = `${e.detail.pageY}px`;\n                contextMenu.style.display = 'block';\n                contextMenu.classList.add('show');\n            });\n        }\n        element.addEventListener('contextmenu', (e) => {\n            e.preventDefault();\n            // close other\n            document.querySelectorAll('.context-menu').forEach(menu => {\n                menu.style.display = 'none';\n                menu.classList.remove('show');\n            });\n            if (isMessageContext) {\n                const selectedText = getSelectedMessageText();\n                if (selectedText.length) {\n                    const searchItem = contextMenu.querySelector('.item-search'), selectedItem = contextMenu.querySelector('.item-selected-quoting'), selectedDivider = contextMenu.querySelector('.selected-divider');\n                    if (searchItem != null) {\n                        document.querySelectorAll('.item-search').forEach(item => {\n                            item.remove();\n                        });\n                    }\n                    if (selectedItem != null) {\n                        selectedItem.remove();\n                    }\n                    if (selectedDivider != null) {\n                        selectedDivider.remove();\n                    }\n                    if (contextMenu.dataset.url) {\n                        const link = document.createElement('a');\n                        link.classList.add('dropdown-item', 'item-selected-quoting');\n                        link.href = `javascript:goToURL('${messageId}','${selectedText}','${contextMenu.dataset.url} ')`;\n                        link.innerHTML = `<i class=\"fas fa-quote-left fa-fw\"></i>&nbsp;${contextMenu.dataset.quote}`;\n                        contextMenu.appendChild(link);\n                    }\n                    const linkSearch = document.createElement('a');\n                    linkSearch.classList.add('dropdown-item', 'item-search');\n                    linkSearch.href = `javascript:copyToClipBoard('${selectedText}')`;\n                    linkSearch.innerHTML = `<i class=\"fas fa-clipboard fa-fw\"></i>&nbsp;${contextMenu.dataset.copy}`;\n                    contextMenu.appendChild(linkSearch);\n                    const divider = document.createElement('div');\n                    divider.classList.add('dropdown-divider', 'selected-divider');\n                    const linkSelected = document.createElement('a');\n                    linkSelected.classList.add('dropdown-item', 'item-search');\n                    linkSelected.href = `javascript:searchText('${selectedText}')`;\n                    linkSelected.innerHTML = `<i class=\"fas fa-search fa-fw\"></i>&nbsp;${contextMenu.dataset.search} \"${selectedText}\"`;\n                    contextMenu.appendChild(linkSelected);\n                }\n            }\n            contextMenu.style.display = 'block';\n            contextMenu.style.left = e.offsetX + 'px';\n            contextMenu.style.top = e.offsetY + 'px';\n            contextMenu.classList.add('show');\n            return false;\n        });\n        element.addEventListener('click', () => {\n            contextMenu === null || contextMenu === void 0 ? void 0 : contextMenu.classList.remove('show');\n            contextMenu.style.display = 'none';\n        });\n        contextMenu.addEventListener('click', event => {\n            const targetElement = event.target;\n            if (targetElement.parentElement && targetElement.parentElement.matches('[data-bs-toggle=\"confirm\"]')) {\n                event.preventDefault();\n                var button = event.target.parentElement;\n                const text = button.dataset.title;\n                const yes = button.dataset.yes;\n                const no = button.dataset.no;\n                const title = button.innerHTML;\n                Utilities.bootboxConfirm(button, title, text, yes, no, r => {\n                    if (r) {\n                        button.click();\n                    }\n                    else {\n                        contextMenu.classList.remove('show');\n                        contextMenu.style.display = 'none';\n                    }\n                });\n                contextMenu.classList.remove('show');\n                contextMenu.style.display = 'none';\n            }\n        }, false);\n        document.querySelector('body').addEventListener('click', () => {\n            contextMenu.classList.remove('show');\n            contextMenu.style.display = 'none';\n        });\n    });\n});\nexport function goToURL(messageId, input, url) {\n    window.location.href = `${url}&q=${messageId}&text=${encodeURIComponent(input)}`;\n}\nexport function copyToClipBoard(input) {\n    navigator.clipboard.writeText(input);\n}\nexport function searchText(input) {\n    const a = document.createElement('a');\n    a.target = '_blank';\n    a.href = `https://www.google.com/search?q=${encodeURIComponent(input)}`;\n    a.click();\n}\nfunction getSelectedMessageText() {\n    var _a, _b;\n    let text = '';\n    const sel = window.getSelection();\n    if (sel === null || sel === void 0 ? void 0 : sel.rangeCount) {\n        const container = document.createElement('div');\n        for (let i = 0; i < sel.rangeCount; ++i) {\n            container.appendChild(sel.getRangeAt(i).cloneContents());\n        }\n        text = (_b = (_a = container.textContent) === null || _a === void 0 ? void 0 : _a.trim()) !== null && _b !== void 0 ? _b : '';\n    }\n    return text.replace(/<p[^>]*>/ig, '\\n').replace(/<\\/p>| {2}/ig, '').replace(/[\"';()]/g, '');\n}\nconst _global = (window /* browser */ || global /* node */);\n_global.goToURL = goToURL;\n_global.copyToClipBoard = copyToClipBoard;\n_global.searchText = searchText;\n","import * as bootstrap from 'bootstrap';\nfunction userCardContent(pop, delay) {\n    const popover = new bootstrap.Popover(pop, {\n        delay: {\n            show: delay,\n            hide: 100\n        },\n        trigger: 'hover',\n        html: true,\n        content: '&nbsp;',\n        template: '<div class=\"popover\" role=\"tooltip\"><div class=\"popover-arrow\"></div><div class=\"popover-body p-2\"></div></div>'\n    });\n    pop.addEventListener('show.bs.popover', () => {\n        if (popover._newContent) {\n            return;\n        }\n        fetch(pop.dataset.hovercard, {\n            method: 'GET',\n            headers: {\n                RequestVerificationToken: document.querySelector('input[name=\"__RequestVerificationToken\"]').value,\n                Accept: 'application/json',\n                \"Content-Type\": 'application/json;charset=utf-8'\n            }\n        }).then(res => res.json()).then((profileData) => {\n            var _a;\n            const content = (profileData.avatar ? `<img src=\"${profileData.avatar}\" class=\"rounded mx-auto d-block\" style=\"width:75px\" alt=\"\" />` : '')\n                + '<ul class=\"list-unstyled m-0\">'\n                + (profileData.location ? `<li class=\"px-2 py-1\"><i class=\"fas fa-home me-1\"></i>${profileData.location}</li>` : '')\n                + (profileData.rank ? `<li class=\"px-2 py-1\"><i class=\"fas fa-graduation-cap me-1\"></i>${profileData.rank}</li>` : '')\n                + (profileData.interests ? `<li class=\"px-2 py-1\"><i class=\"fas fa-running me-1\"></i>${profileData.interests}</li>` : '')\n                + (profileData.joined ? `<li class=\"px-2 py-1\"><i class=\"fas fa-user-check me-1\"></i>${profileData.joined}</li>` : '')\n                + (profileData.homePage ? `<li class=\"px-2 py-1\"><i class=\"fas fa-globe me-1\"></i><a href=\"${profileData.homePage}\" target=\"_blank\">${profileData.homePage}</a></li>` : '')\n                + `<li class=\"px-2 py-1\"><i class=\"far fa-comment me-1\"></i>${(_a = profileData.posts) !== null && _a !== void 0 ? _a : ''}</li></ul>`;\n            popover.setContent({ '.popover-body': content });\n        }).catch(error => {\n            console.error(error);\n        });\n    });\n}\nwindow.userCardContent = userCardContent;\n","import * as bootstrap from 'bootstrap';\nconst _global = (window /* browser */ || global /* node */);\ndocument.addEventListener('DOMContentLoaded', () => {\n    var placeholderElement = document.getElementById('modal-placeholder');\n    if (placeholderElement) {\n        document.querySelectorAll('button[data-bs-toggle=\"ajax-modal\"],a[data-bs-toggle=\"ajax-modal\"]').forEach(button => {\n            button.addEventListener('click', (event) => {\n                event.preventDefault();\n                const url = button.dataset.url;\n                fetch(url).then(res => res.text()).then(data => {\n                    placeholderElement.innerHTML = data;\n                    loadModal(_global.dialog = new bootstrap.Modal(placeholderElement.querySelector('.modal')), placeholderElement);\n                }).catch(error => {\n                    console.log(error);\n                });\n            });\n        });\n    }\n    if (document.querySelector('[data-bs-save=\"quickReply\"]') !== null) {\n        const replyButton = document.querySelector('[data-bs-save=\"quickReply\"]');\n        replyButton.addEventListener('click', (event) => {\n            var _a;\n            replyButton.innerHTML =\n                \"<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'></span> Loading...\";\n            replyButton.classList.add('disabled');\n            event.preventDefault();\n            const form = (_a = document.getElementById('quickReply')) === null || _a === void 0 ? void 0 : _a.querySelector('form');\n            const actionUrl = form.action;\n            var formData = serialize(form, {\n                hash: true\n            });\n            fetch(actionUrl, {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json;charset=utf-8',\n                    'RequestVerificationToken': document.querySelector('input[name=\"__RequestVerificationToken\"]').value\n                }\n            }).then(res => res.json())\n                .then((response) => {\n                if (response) {\n                    if (response.messageType) {\n                        _global.showModalNotify(response.messageType, response.message, '#quickReply form');\n                    }\n                    else {\n                        window.location.href = response;\n                    }\n                }\n                else {\n                    window.location.href = window.location.pathname + window.location.search;\n                }\n            });\n        });\n    }\n});\nfunction loadModal(modal, placeholderElement) {\n    modal.show();\n    modal._element.addEventListener('shown.bs.modal', (event) => {\n        var _a;\n        const target = event.target;\n        if (target.id === 'LoginBox') {\n            togglePassword();\n            const form = (_a = document.querySelector('.modal.show')) === null || _a === void 0 ? void 0 : _a.querySelector('form');\n            form.addEventListener('submit', (e) => {\n                if (!form.checkValidity()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                form.classList.add('was-validated');\n            }, false);\n        }\n        else {\n            _global.dialogFunctions(event);\n        }\n    });\n    if (placeholderElement.querySelector('[data-bs-save=\"modal\"]')) {\n        placeholderElement.querySelector('[data-bs-save=\"modal\"]').addEventListener('click', (event) => {\n            event.preventDefault();\n            const form = document.querySelector('.modal.show').querySelector('form');\n            const actionUrl = form.action;\n            var formData = serialize(form, {\n                hash: true\n            });\n            fetch(actionUrl, {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json;charset=utf-8',\n                    'RequestVerificationToken': document.querySelector('input[name=\"__RequestVerificationToken\"]').value\n                }\n            }).then(res => res.json())\n                .then((response) => {\n                if (response) {\n                    if (response.messageType) {\n                        _global.showModalNotify(response.messageType, response.message, '.modal.show form');\n                    }\n                    else {\n                        window.location.href = response;\n                    }\n                }\n                else {\n                    window.location.href = window.location.pathname + window.location.search;\n                }\n            });\n        });\n    }\n    if (placeholderElement.querySelector('[data-bs-save=\"editModal\"]')) {\n        placeholderElement.querySelector('[data-bs-save=\"editModal\"]').addEventListener('click', (event) => {\n            var _a;\n            event.preventDefault();\n            event.stopPropagation();\n            const form = (_a = document.querySelector('.modal.show')) === null || _a === void 0 ? void 0 : _a.querySelector('form');\n            const actionUrl = form.action;\n            form.classList.add('was-validated');\n            if (!form.checkValidity()) {\n                return;\n            }\n            var formData = serialize(form, {\n                hash: true\n            });\n            fetch(actionUrl, {\n                method: 'POST',\n                body: formData,\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json;charset=utf-8',\n                    'RequestVerificationToken': document.querySelector('input[name=\"__RequestVerificationToken\"]').value\n                }\n            }).then(res => res.json())\n                .then(response => {\n                if (response) {\n                    if (response.messageType) {\n                        _global.showModalNotify(response.messageType, response.message, '.modal.show form');\n                    }\n                    else {\n                        window.location.href = response;\n                    }\n                }\n                else {\n                    window.location.href = window.location.pathname + window.location.search;\n                }\n            }).catch(() => {\n                window.location.href = window.location.pathname + window.location.search;\n            });\n        });\n    }\n    if (placeholderElement.querySelector('[data-bs-save=\"importModal\"]')) {\n        placeholderElement.querySelector('[data-bs-save=\"importModal\"]').addEventListener('click', (event) => {\n            event.preventDefault();\n            event.stopPropagation();\n            var form = document.querySelector('.modal.show').querySelector('form');\n            const actionUrl = form.action, formData = new FormData(), fileInput = document.getElementById('Import');\n            if (fileInput.files) {\n                formData.append('file', fileInput.files[0]);\n                fetch(actionUrl, {\n                    method: 'POST',\n                    body: formData,\n                    headers: {\n                        'RequestVerificationToken': document.querySelector('input[name=\"__RequestVerificationToken\"]').value\n                    }\n                }).then(res => res.json())\n                    .then(response => {\n                    if (response) {\n                        if (response.messageType) {\n                            _global.showModalNotify(response.messageType, response.message, '.modal.show form');\n                        }\n                        else {\n                            window.location.href = response;\n                        }\n                    }\n                    else {\n                        window.location.href = window.location.pathname + window.location.search;\n                    }\n                }).catch(() => {\n                    window.location.href = window.location.pathname + window.location.search;\n                });\n            }\n        });\n    }\n}\n","import * as signalR from '@microsoft/signalr';\nconst connection = new signalR.HubConnectionBuilder()\n    .withUrl('/NotificationHub')\n    .withAutomaticReconnect()\n    .build();\nconnection.on('newActivityAsync', (alerts) => {\n    const alert = document.getElementById('notificationAlert');\n    const notifyLink = document.getElementById('notificationLink');\n    if (alerts > 0 && notifyLink.classList.contains('d-none')) {\n        notifyLink.classList.toggle('d-none');\n        alert.classList.toggle('d-none');\n    }\n});\nconnection.start();\ndocument.addEventListener('DOMContentLoaded', () => {\n    const alert = document.getElementById('notificationAlert');\n    const notifyLink = document.getElementById('notificationLink');\n    if (alert !== null && parseInt(alert.dataset.alerts || '0', 10) > 0) {\n        notifyLink.classList.toggle('d-none');\n        alert.classList.toggle('d-none');\n    }\n});\n","import * as bootstrap from 'bootstrap';\nexport function getNotifyData(pageSize, pageNumber, isPageChange) {\n    var _a, _b, _c;\n    const placeHolder = document.getElementById('NotifyListPlaceholder');\n    const list = placeHolder.querySelector('ul');\n    const yafUserId = (_a = placeHolder.dataset.userid) !== null && _a !== void 0 ? _a : '';\n    const pagedResults = {\n        UserId: parseInt(yafUserId),\n        PageSize: pageSize,\n        PageNumber: pageNumber,\n    };\n    const ajaxUrl = '/api/Notify/GetNotifications';\n    fetch(ajaxUrl, {\n        method: 'POST',\n        body: JSON.stringify(pagedResults),\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json;charset=utf-8',\n            'RequestVerificationToken': (_c = (_b = document.querySelector('input[name=\"__RequestVerificationToken\"]')) === null || _b === void 0 ? void 0 : _b.value) !== null && _c !== void 0 ? _c : '',\n        },\n    })\n        .then((res) => res.json())\n        .then((data) => {\n        empty(list);\n        document.getElementById('Loader').style.display = 'none';\n        if (data.attachmentList.length > 0) {\n            const markRead = document.getElementById('MarkRead');\n            markRead.classList.remove('d-none');\n            markRead.classList.add('d-block');\n            data.attachmentList.forEach((dataItem) => {\n                const li = document.createElement('li');\n                li.classList.add('list-group-item', 'list-group-item-action', 'small', 'text-wrap');\n                li.style.width = '15rem';\n                li.innerHTML = dataItem.fileName;\n                list.appendChild(li);\n            });\n            setPageNumber(pageSize, pageNumber, data.totalRecords, document.getElementById('NotifyListPager'), 'Notifications', 'getNotifyData');\n            if (isPageChange) {\n                const toggleBtn = document.querySelector('.notify-toggle');\n                const dropdownEl = new bootstrap.Dropdown(toggleBtn);\n                dropdownEl.toggle();\n            }\n        }\n    })\n        .catch((error) => {\n        console.log(error);\n        document.getElementById('Loader').style.display = 'none';\n        placeHolder.textContent = error.toString();\n    });\n}\n","import * as Utilities from '../forum/utilities';\nexport function setPageNumber(pageSize, pageNumber, total, pagerHolder, label, javascriptFunction) {\n    const pages = Math.ceil(total / pageSize), pagination = document.createElement('ul'), paginationNav = document.createElement('nav');\n    paginationNav.setAttribute('aria-label', label + ' Page Results');\n    pagination.classList.add('pagination');\n    pagination.classList.add('pagination-sm');\n    Utilities.empty(pagerHolder);\n    if (pageNumber > 0) {\n        const page = document.createElement('li');\n        page.classList.add('page-item');\n        page.innerHTML = `<a href=\"javascript:${javascriptFunction}(${pageSize},${pageNumber - 1},${total},true)\" class=\"page-link\"><i class=\"fas fa-angle-left\"></i></a>`;\n        pagination.appendChild(page);\n    }\n    var start = pageNumber - 2;\n    var end = pageNumber + 3;\n    if (start < 0) {\n        start = 0;\n    }\n    if (end > pages) {\n        end = pages;\n    }\n    if (start > 0) {\n        let page = document.createElement('li');\n        page.classList.add('page-item');\n        page.innerHTML = `<a href=\"javascript:${javascriptFunction}(${pageSize},${0},${total}, true);\" class=\"page-link\">1</a>`;\n        pagination.appendChild(page);\n        page = document.createElement('li');\n        page.classList.add('page-item');\n        page.classList.add('disabled');\n        page.innerHTML = '<a class=\"page-link\" href=\"#\" tabindex=\"-1\">...</a>';\n        pagination.appendChild(page);\n    }\n    for (var i = start; i < end; i++) {\n        if (i === pageNumber) {\n            const page = document.createElement('li');\n            page.classList.add('page-item');\n            page.classList.add('active');\n            page.innerHTML = `<span class=\"page-link\">${i + 1}</span>`;\n            pagination.appendChild(page);\n        }\n        else {\n            const page = document.createElement('li');\n            page.classList.add('page-item');\n            page.innerHTML = `<a href=\"javascript:${javascriptFunction}(${pageSize},${i},${total},true);\" class=\"page-link\">${i + 1}</a>`;\n            pagination.appendChild(page);\n        }\n    }\n    if (end < pages) {\n        let page = document.createElement('li');\n        page.classList.add('page-item');\n        page.classList.add('disabled');\n        page.innerHTML = '<a class=\"page-link\" href=\"#\" tabindex=\"-1\">...</a>';\n        pagination.appendChild(page);\n        page = document.createElement('li');\n        page.classList.add('page-item');\n        page.innerHTML = `<a href=\"javascript:${javascriptFunction}(${pageSize},${pages - 1},${total},true)\" class=\"page-link\">${pages}</a>`;\n        pagination.appendChild(page);\n    }\n    if (pageNumber < pages - 1) {\n        const page = document.createElement('li');\n        page.classList.add('page-item');\n        page.innerHTML = `<a href=\"javascript:${javascriptFunction}(${pageSize},${pageNumber + 1},${total},true)\" class=\"page-link\"><i class=\"fas fa-angle-right\"></i></a>`;\n        pagination.appendChild(page);\n    }\n    paginationNav.appendChild(pagination);\n    pagerHolder.appendChild(paginationNav);\n}\n","\"use strict\";\ndocument.addEventListener('DOMContentLoaded', () => {\n    if (document.querySelector('.searchSimilarTopics') != null) {\n        const input = document.querySelector('.searchSimilarTopics');\n        input.addEventListener('keyup', () => {\n            const placeHolder = document.getElementById('SearchResultsPlaceholder'), searchText = input.value;\n            if (searchText.length && searchText.length >= 4) {\n                const searchTopic = {\n                    ForumId: 0,\n                    PageSize: 0,\n                    Page: 0,\n                    SearchTerm: searchText\n                };\n                const ajaxUrl = '/api/Search/GetSimilarTitles';\n                fetch(ajaxUrl, {\n                    method: 'POST',\n                    body: JSON.stringify(searchTopic),\n                    headers: {\n                        Accept: 'application/json',\n                        \"Content-Type\": 'application/json;charset=utf-8',\n                        \"RequestVerificationToken\": document.querySelector('input[name=\"__RequestVerificationToken\"]').value\n                    }\n                }).then(res => res.json()).then(data => {\n                    empty(placeHolder);\n                    placeHolder.classList.remove('list-group');\n                    if (data.totalRecords > 0) {\n                        var list = document.createElement('ul');\n                        list.classList.add('list-group');\n                        list.classList.add('list-similar');\n                        if (data.searchResults.length > 0) {\n                            const markRead = document.getElementById('MarkRead');\n                            markRead.classList.remove('d-none');\n                            markRead.classList.add('d-block');\n                            data.searchResults.forEach((dataItem) => {\n                                var li = document.createElement('li');\n                                li.classList.add('list-group-item');\n                                li.classList.add('list-group-item-action');\n                                li.innerHTML = `<a href=\"${dataItem.topicUrl}\" target=\"_blank\">${dataItem.topic}</a>`;\n                                list.appendChild(li);\n                            });\n                        }\n                        placeHolder.appendChild(list);\n                    }\n                }).catch(error => {\n                    console.log(error);\n                    placeHolder.textContent = error;\n                });\n            }\n        });\n    }\n});\n","import * as bootstrap from 'bootstrap';\nimport bootbox from '../bootbox.js';\nexport function createTagsSelectTemplates(template) {\n    const config = this.config;\n    const removeItemButton = config.removeItemButton;\n    return {\n        item({ classNames }, data) {\n            let label = data.label;\n            if (data.customProperties) {\n                let json;\n                try {\n                    json = JSON.parse(data.customProperties);\n                }\n                catch (e) {\n                    json = data.customProperties;\n                }\n                label = json.label === undefined ? data.label : json.label;\n            }\n            return template(`\r\n                     <div class=\"${String(classNames.item)} ${String(data.highlighted\n                ? classNames.highlightedState\n                : classNames.itemSelectable)} badge text-bg-primary fs-6 m-1\"\r\n                          data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                          ${String(removeItemButton ? 'data-deletable' : '')}\r\n                          ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                ? 'aria-disabled=\"true\"'\n                : '')}>\r\n                        <i class=\"fas fa-fw fa-tag align-middle me-1\"></i>${String(label)}\r\n                        ${String(removeItemButton ? `<button type=\"button\" class=\"${String(classNames.button)}\" aria-label=\"Remove item: '${String(data.value)}'\" data-button=\"\">Remove item</button>` : '')}\r\n                     </div>\r\n                    `);\n        }\n    };\n}\nexport function createForumSelectTemplates(template) {\n    const config = this.config;\n    const itemSelectText = config.itemSelectText;\n    return {\n        item({ classNames }, data) {\n            return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(data.highlighted\n                ? classNames.highlightedState\n                : classNames.itemSelectable)} ${String(data.placeholder ? classNames.placeholder : '')}\"\r\n                                      data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                ? 'aria-disabled=\"true\"'\n                : '')}>\r\n                                    <span><i class=\"fas fa-fw fa-comments text-secondary me-1\"></i>${String(data.label)}</span>\r\n                                 </div>\r\n                                `);\n        },\n        choice({ classNames }, data) {\n            return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(classNames.itemChoice)} ${String(data.disabled ? classNames.itemDisabled : classNames.itemSelectable)}\"\r\n                                      data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                ? 'data-choice-disabled aria-disabled=\"true\"'\n                : 'data-choice-selectable')}\r\n                                      data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                                      <span><i class=\"fas fa-comments fa-fw text-secondary me-1\"></i>${String(data.label)}</span>\r\n                                 </div>\r\n                                 `);\n        },\n        choiceGroup({ classNames }, data) {\n            return template(`\r\n                     <div class=\"${String(classNames.item)} fw-bold text-secondary\"\r\n                          data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                ? 'data-choice-disabled aria-disabled=\"true\"'\n                : 'data-choice-selectable')}\r\n                          data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                          ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                          <span><i class=\"fas fa-fw fa-folder text-warning me-1\"></i>${String(data.label)}</span>\r\n                     </div>\r\n                     `);\n        }\n    };\n}\nexport function loadForumChoiceOptions(params, url, selectedForumId) {\n    return fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(params),\n        headers: {\n            \"RequestVerificationToken\": document.querySelector('input[name=\"__RequestVerificationToken\"]').value,\n            \"Accept\": 'application/json',\n            \"Content-Type\": 'application/json;charset=utf-8'\n        }\n    }).then(response => response.json())\n        .then(data => data.results.map((group) => ({\n        value: group.id,\n        label: group.text,\n        choices: group.children.map((forum) => {\n            const selectedId = parseInt(selectedForumId);\n            return {\n                value: forum.id,\n                label: forum.text,\n                selected: selectedId > 0 && selectedForumId == forum.id,\n                customProperties: {\n                    page: params.Page,\n                    total: data.total,\n                    url: forum.url\n                }\n            };\n        })\n    })));\n}\nexport function loadChoiceOptions(params, url) {\n    return fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(params),\n        headers: {\n            \"RequestVerificationToken\": document.querySelector('input[name=\"__RequestVerificationToken\"]').value,\n            \"Accept\": 'application/json',\n            \"Content-Type\": 'application/json;charset=utf-8'\n        }\n    }).then(response => response.json())\n        .then(data => data.results.map((result) => ({\n        value: result.id,\n        label: result.text,\n        customProperties: {\n            page: params.Page,\n            total: data.total\n        }\n    })));\n}\nexport function errorLog(x) {\n    console.error('An Error has occurred!', x);\n}\nexport function empty(wrap) {\n    while (wrap.firstChild) {\n        wrap.removeChild(wrap.firstChild);\n    }\n}\nexport function wrap(el, wrapper) {\n    var _a;\n    (_a = el.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n}\n// Attachments/Albums Popover Preview\nexport function renderAttachPreview(previewClass) {\n    const attachElements = document.querySelectorAll(previewClass);\n    attachElements.forEach((attach) => {\n        return new bootstrap.Popover(attach, {\n            html: true,\n            trigger: 'hover',\n            placement: 'bottom',\n            content: () => `<img src=\"${attach.src}\" class=\"img-fluid\" />`\n        });\n    });\n}\n// Toggle password visibility\nexport function togglePassword() {\n    const passwordToggle = document.getElementById('PasswordToggle');\n    if (passwordToggle && document.body.contains(passwordToggle)) {\n        const icon = passwordToggle.querySelector('i');\n        const pass = document.querySelector(\"input[id*='Password']\");\n        passwordToggle.addEventListener('click', (event) => {\n            event.preventDefault();\n            if (pass.getAttribute('type') === 'text') {\n                pass.setAttribute('type', 'password');\n                icon.classList.add('fa-eye-slash');\n                icon.classList.remove('fa-eye');\n            }\n            else if (pass.getAttribute('type') === 'password') {\n                pass.setAttribute('type', 'text');\n                icon.classList.remove('fa-eye-slash');\n                icon.classList.add('fa-eye');\n            }\n        });\n    }\n}\n// Confirm Dialog\ndocument.addEventListener('click', (event) => {\n    const target = event.target;\n    if (target.parentElement && target.parentElement.matches('[data-bs-toggle=\"confirm\"]')) {\n        event.preventDefault();\n        const button = target.parentElement;\n        const text = button.dataset.title || '', yes = button.dataset.yes || '', no = button.dataset.no || '', title = button.innerHTML;\n        button.innerHTML = \"<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'></span> Loading...\";\n        bootboxConfirm(button, title, text, yes, no, (confirmed) => {\n            if (confirmed) {\n                button.click();\n            }\n        });\n    }\n}, false);\nexport function bootboxConfirm(button, title, message, yes, no, callback) {\n    const options = {\n        message: message,\n        centerVertical: true,\n        title: title\n    };\n    options.buttons = {\n        cancel: {\n            label: `<i class=\"fa fa-times\"></i> ${no}`,\n            className: 'btn-danger',\n            callback(result) {\n                callback(false);\n                button.innerHTML = title;\n            }\n        },\n        main: {\n            label: `<i class=\"fa fa-check\"></i> ${yes}`,\n            className: 'btn-success',\n            callback(result) {\n                callback(true);\n            }\n        }\n    };\n    bootbox.dialog(options);\n}\n;\nexport function bootboxShareTopic(title, message, cancel, okay, value) {\n    const options = {\n        message: message,\n        centerVertical: true,\n        title: title,\n        value: value\n    };\n    options.buttons = {\n        cancel: {\n            label: cancel\n        },\n        confirm: {\n            label: okay\n        }\n    };\n    options.callback = () => {\n        copyToClipBoard(value);\n    };\n    bootbox.prompt(options);\n}\n;\nconst _global = (window /* browser */ || global /* node */);\n_global.createTagsSelectTemplates = createTagsSelectTemplates;\n_global.createForumSelectTemplates = createForumSelectTemplates;\n_global.loadForumChoiceOptions = loadForumChoiceOptions;\n_global.loadChoiceOptions = loadChoiceOptions;\n_global.errorLog = errorLog;\n_global.bootboxShareTopic = bootboxShareTopic;\n_global.togglePassword = togglePassword;\n","/* PrismJS 1.30.0\nhttps://prismjs.com/download.html?#themes=prism-okaidia&languages=markup+css+clike+javascript+aspnet+bash+basic+c+csharp+cpp+css-extras+git+java+json+python+scss+sql+vbnet+visual-basic&plugins=line-highlight+line-numbers+autolinker+normalize-whitespace+toolbar+copy-to-clipboard */\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (document.currentScript && document.currentScript.tagName === 'SCRIPT' && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prisms API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what youre doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n;\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n(function (Prism) {\n\n\t/**\n\t * Replaces all placeholders \"<<n>>\" of given pattern with the n-th replacement (zero based).\n\t *\n\t * Note: This is a simple text based replacement. Be careful when using backreferences!\n\t *\n\t * @param {string} pattern the given pattern.\n\t * @param {string[]} replacements a list of replacement which can be inserted into the given pattern.\n\t * @returns {string} the pattern with all placeholders replaced with their corresponding replacements.\n\t * @example replace(/a<<0>>a/.source, [/b+/.source]) === /a(?:b+)a/.source\n\t */\n\tfunction replace(pattern, replacements) {\n\t\treturn pattern.replace(/<<(\\d+)>>/g, function (m, index) {\n\t\t\treturn '(?:' + replacements[+index] + ')';\n\t\t});\n\t}\n\t/**\n\t * @param {string} pattern\n\t * @param {string[]} replacements\n\t * @param {string} [flags]\n\t * @returns {RegExp}\n\t */\n\tfunction re(pattern, replacements, flags) {\n\t\treturn RegExp(replace(pattern, replacements), flags || '');\n\t}\n\n\t/**\n\t * Creates a nested pattern where all occurrences of the string `<<self>>` are replaced with the pattern itself.\n\t *\n\t * @param {string} pattern\n\t * @param {number} depthLog2\n\t * @returns {string}\n\t */\n\tfunction nested(pattern, depthLog2) {\n\t\tfor (var i = 0; i < depthLog2; i++) {\n\t\t\tpattern = pattern.replace(/<<self>>/g, function () { return '(?:' + pattern + ')'; });\n\t\t}\n\t\treturn pattern.replace(/<<self>>/g, '[^\\\\s\\\\S]');\n\t}\n\n\t// https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/\n\tvar keywordKinds = {\n\t\t// keywords which represent a return or variable type\n\t\ttype: 'bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void',\n\t\t// keywords which are used to declare a type\n\t\ttypeDeclaration: 'class enum interface record struct',\n\t\t// contextual keywords\n\t\t// (\"var\" and \"dynamic\" are missing because they are used like types)\n\t\tcontextual: 'add alias and ascending async await by descending from(?=\\\\s*(?:\\\\w|$)) get global group into init(?=\\\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\\\s*{)',\n\t\t// all other keywords\n\t\tother: 'abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield'\n\t};\n\n\t// keywords\n\tfunction keywordsToPattern(words) {\n\t\treturn '\\\\b(?:' + words.trim().replace(/ /g, '|') + ')\\\\b';\n\t}\n\tvar typeDeclarationKeywords = keywordsToPattern(keywordKinds.typeDeclaration);\n\tvar keywords = RegExp(keywordsToPattern(keywordKinds.type + ' ' + keywordKinds.typeDeclaration + ' ' + keywordKinds.contextual + ' ' + keywordKinds.other));\n\tvar nonTypeKeywords = keywordsToPattern(keywordKinds.typeDeclaration + ' ' + keywordKinds.contextual + ' ' + keywordKinds.other);\n\tvar nonContextualKeywords = keywordsToPattern(keywordKinds.type + ' ' + keywordKinds.typeDeclaration + ' ' + keywordKinds.other);\n\n\t// types\n\tvar generic = nested(/<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>/.source, 2); // the idea behind the other forbidden characters is to prevent false positives. Same for tupleElement.\n\tvar nestedRound = nested(/\\((?:[^()]|<<self>>)*\\)/.source, 2);\n\tvar name = /@?\\b[A-Za-z_]\\w*\\b/.source;\n\tvar genericName = replace(/<<0>>(?:\\s*<<1>>)?/.source, [name, generic]);\n\tvar identifier = replace(/(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*/.source, [nonTypeKeywords, genericName]);\n\tvar array = /\\[\\s*(?:,\\s*)*\\]/.source;\n\tvar typeExpressionWithoutTuple = replace(/<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?/.source, [identifier, array]);\n\tvar tupleElement = replace(/[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source, [generic, nestedRound, array]);\n\tvar tuple = replace(/\\(<<0>>+(?:,<<0>>+)+\\)/.source, [tupleElement]);\n\tvar typeExpression = replace(/(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?/.source, [tuple, identifier, array]);\n\n\tvar typeInside = {\n\t\t'keyword': keywords,\n\t\t'punctuation': /[<>()?,.:[\\]]/\n\t};\n\n\t// strings & characters\n\t// https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#character-literals\n\t// https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#string-literals\n\tvar character = /'(?:[^\\r\\n'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'/.source; // simplified pattern\n\tvar regularString = /\"(?:\\\\.|[^\\\\\"\\r\\n])*\"/.source;\n\tvar verbatimString = /@\"(?:\"\"|\\\\[\\s\\S]|[^\\\\\"])*\"(?!\")/.source;\n\n\n\tPrism.languages.csharp = Prism.languages.extend('clike', {\n\t\t'string': [\n\t\t\t{\n\t\t\t\tpattern: re(/(^|[^$\\\\])<<0>>/.source, [verbatimString]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: re(/(^|[^@$\\\\])<<0>>/.source, [regularString]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t}\n\t\t],\n\t\t'class-name': [\n\t\t\t{\n\t\t\t\t// Using static\n\t\t\t\t// using static System.Math;\n\t\t\t\tpattern: re(/(\\busing\\s+static\\s+)<<0>>(?=\\s*;)/.source, [identifier]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Using alias (type)\n\t\t\t\t// using Project = PC.MyCompany.Project;\n\t\t\t\tpattern: re(/(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)/.source, [name, typeExpression]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Using alias (alias)\n\t\t\t\t// using Project = PC.MyCompany.Project;\n\t\t\t\tpattern: re(/(\\busing\\s+)<<0>>(?=\\s*=)/.source, [name]),\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Type declarations\n\t\t\t\t// class Foo<A, B>\n\t\t\t\t// interface Foo<out A, B>\n\t\t\t\tpattern: re(/(\\b<<0>>\\s+)<<1>>/.source, [typeDeclarationKeywords, genericName]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Single catch exception declaration\n\t\t\t\t// catch(Foo)\n\t\t\t\t// (things like catch(Foo e) is covered by variable declaration)\n\t\t\t\tpattern: re(/(\\bcatch\\s*\\(\\s*)<<0>>/.source, [identifier]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Name of the type parameter of generic constraints\n\t\t\t\t// where Foo : class\n\t\t\t\tpattern: re(/(\\bwhere\\s+)<<0>>/.source, [name]),\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Casts and checks via as and is.\n\t\t\t\t// as Foo<A>, is Bar<B>\n\t\t\t\t// (things like if(a is Foo b) is covered by variable declaration)\n\t\t\t\tpattern: re(/(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>/.source, [typeExpressionWithoutTuple]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: typeInside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// Variable, field and parameter declaration\n\t\t\t\t// (Foo bar, Bar baz, Foo[,,] bay, Foo<Bar, FooBar<Bar>> bax)\n\t\t\t\tpattern: re(/\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))/.source, [typeExpression, nonContextualKeywords, name]),\n\t\t\t\tinside: typeInside\n\t\t\t}\n\t\t],\n\t\t'keyword': keywords,\n\t\t// https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/lexical-structure#literals\n\t\t'number': /(?:\\b0(?:x[\\da-f_]*[\\da-f]|b[01_]*[01])|(?:\\B\\.\\d+(?:_+\\d+)*|\\b\\d+(?:_+\\d+)*(?:\\.\\d+(?:_+\\d+)*)?)(?:e[-+]?\\d+(?:_+\\d+)*)?)(?:[dflmu]|lu|ul)?\\b/i,\n\t\t'operator': />>=?|<<=?|[-=]>|([-+&|])\\1|~|\\?\\?=?|[-+*/%&|^!=<>]=?/,\n\t\t'punctuation': /\\?\\.?|::|[{}[\\];(),.:]/\n\t});\n\n\tPrism.languages.insertBefore('csharp', 'number', {\n\t\t'range': {\n\t\t\tpattern: /\\.\\./,\n\t\t\talias: 'operator'\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('csharp', 'punctuation', {\n\t\t'named-parameter': {\n\t\t\tpattern: re(/([(,]\\s*)<<0>>(?=\\s*:)/.source, [name]),\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('csharp', 'class-name', {\n\t\t'namespace': {\n\t\t\t// namespace Foo.Bar {}\n\t\t\t// using Foo.Bar;\n\t\t\tpattern: re(/(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])/.source, [name]),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\./\n\t\t\t}\n\t\t},\n\t\t'type-expression': {\n\t\t\t// default(Foo), typeof(Foo<Bar>), sizeof(int)\n\t\t\tpattern: re(/(\\b(?:default|sizeof|typeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))/.source, [nestedRound]),\n\t\t\tlookbehind: true,\n\t\t\talias: 'class-name',\n\t\t\tinside: typeInside\n\t\t},\n\t\t'return-type': {\n\t\t\t// Foo<Bar> ForBar(); Foo IFoo.Bar() => 0\n\t\t\t// int this[int index] => 0; T IReadOnlyList<T>.this[int index] => this[index];\n\t\t\t// int Foo => 0; int Foo { get; set } = 0;\n\t\t\tpattern: re(/<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))/.source, [typeExpression, identifier]),\n\t\t\tinside: typeInside,\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'constructor-invocation': {\n\t\t\t// new List<Foo<Bar[]>> { }\n\t\t\tpattern: re(/(\\bnew\\s+)<<0>>(?=\\s*[[({])/.source, [typeExpression]),\n\t\t\tlookbehind: true,\n\t\t\tinside: typeInside,\n\t\t\talias: 'class-name'\n\t\t},\n\t\t/*'explicit-implementation': {\n\t\t\t// int IFoo<Foo>.Bar => 0; void IFoo<Foo<Foo>>.Foo<T>();\n\t\t\tpattern: replace(/\\b<<0>>(?=\\.<<1>>)/, className, methodOrPropertyDeclaration),\n\t\t\tinside: classNameInside,\n\t\t\talias: 'class-name'\n\t\t},*/\n\t\t'generic-method': {\n\t\t\t// foo<Bar>()\n\t\t\tpattern: re(/<<0>>\\s*<<1>>(?=\\s*\\()/.source, [name, generic]),\n\t\t\tinside: {\n\t\t\t\t'function': re(/^<<0>>/.source, [name]),\n\t\t\t\t'generic': {\n\t\t\t\t\tpattern: RegExp(generic),\n\t\t\t\t\talias: 'class-name',\n\t\t\t\t\tinside: typeInside\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'type-list': {\n\t\t\t// The list of types inherited or of generic constraints\n\t\t\t// class Foo<F> : Bar, IList<FooBar>\n\t\t\t// where F : Bar, IList<int>\n\t\t\tpattern: re(\n\t\t\t\t/\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))/.source,\n\t\t\t\t[typeDeclarationKeywords, genericName, name, typeExpression, keywords.source, nestedRound, /\\bnew\\s*\\(\\s*\\)/.source]\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'record-arguments': {\n\t\t\t\t\tpattern: re(/(^(?!new\\s*\\()<<0>>\\s*)<<1>>/.source, [genericName, nestedRound]),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tgreedy: true,\n\t\t\t\t\tinside: Prism.languages.csharp\n\t\t\t\t},\n\t\t\t\t'keyword': keywords,\n\t\t\t\t'class-name': {\n\t\t\t\t\tpattern: RegExp(typeExpression),\n\t\t\t\t\tgreedy: true,\n\t\t\t\t\tinside: typeInside\n\t\t\t\t},\n\t\t\t\t'punctuation': /[,()]/\n\t\t\t}\n\t\t},\n\t\t'preprocessor': {\n\t\t\tpattern: /(^[\\t ]*)#.*/m,\n\t\t\tlookbehind: true,\n\t\t\talias: 'property',\n\t\t\tinside: {\n\t\t\t\t// highlight preprocessor directives as keywords\n\t\t\t\t'directive': {\n\t\t\t\t\tpattern: /(#)\\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\\b/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'keyword'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// attributes\n\tvar regularStringOrCharacter = regularString + '|' + character;\n\tvar regularStringCharacterOrComment = replace(/\\/(?![*/])|\\/\\/[^\\r\\n]*[\\r\\n]|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>/.source, [regularStringOrCharacter]);\n\tvar roundExpression = nested(replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [regularStringCharacterOrComment]), 2);\n\n\t// https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/#attribute-targets\n\tvar attrTarget = /\\b(?:assembly|event|field|method|module|param|property|return|type)\\b/.source;\n\tvar attr = replace(/<<0>>(?:\\s*\\(<<1>>*\\))?/.source, [identifier, roundExpression]);\n\n\tPrism.languages.insertBefore('csharp', 'class-name', {\n\t\t'attribute': {\n\t\t\t// Attributes\n\t\t\t// [Foo], [Foo(1), Bar(2, Prop = \"foo\")], [return: Foo(1), Bar(2)], [assembly: Foo(Bar)]\n\t\t\tpattern: re(/((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])/.source, [attrTarget, attr]),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'target': {\n\t\t\t\t\tpattern: re(/^<<0>>(?=\\s*:)/.source, [attrTarget]),\n\t\t\t\t\talias: 'keyword'\n\t\t\t\t},\n\t\t\t\t'attribute-arguments': {\n\t\t\t\t\tpattern: re(/\\(<<0>>*\\)/.source, [roundExpression]),\n\t\t\t\t\tinside: Prism.languages.csharp\n\t\t\t\t},\n\t\t\t\t'class-name': {\n\t\t\t\t\tpattern: RegExp(identifier),\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /\\./\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'punctuation': /[:,]/\n\t\t\t}\n\t\t}\n\t});\n\n\n\t// string interpolation\n\tvar formatString = /:[^}\\r\\n]+/.source;\n\t// multi line\n\tvar mInterpolationRound = nested(replace(/[^\"'/()]|<<0>>|\\(<<self>>*\\)/.source, [regularStringCharacterOrComment]), 2);\n\tvar mInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [mInterpolationRound, formatString]);\n\t// single line\n\tvar sInterpolationRound = nested(replace(/[^\"'/()]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|<<0>>|\\(<<self>>*\\)/.source, [regularStringOrCharacter]), 2);\n\tvar sInterpolation = replace(/\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}/.source, [sInterpolationRound, formatString]);\n\n\tfunction createInterpolationInside(interpolation, interpolationRound) {\n\t\treturn {\n\t\t\t'interpolation': {\n\t\t\t\tpattern: re(/((?:^|[^{])(?:\\{\\{)*)<<0>>/.source, [interpolation]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-string': {\n\t\t\t\t\t\tpattern: re(/(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)/.source, [interpolationRound, formatString]),\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': /^:/\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\{|\\}$/,\n\t\t\t\t\t'expression': {\n\t\t\t\t\t\tpattern: /[\\s\\S]+/,\n\t\t\t\t\t\talias: 'language-csharp',\n\t\t\t\t\t\tinside: Prism.languages.csharp\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t};\n\t}\n\n\tPrism.languages.insertBefore('csharp', 'string', {\n\t\t'interpolation-string': [\n\t\t\t{\n\t\t\t\tpattern: re(/(^|[^\\\\])(?:\\$@|@\\$)\"(?:\"\"|\\\\[\\s\\S]|\\{\\{|<<0>>|[^\\\\{\"])*\"/.source, [mInterpolation]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: createInterpolationInside(mInterpolation, mInterpolationRound),\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: re(/(^|[^@\\\\])\\$\"(?:\\\\.|\\{\\{|<<0>>|[^\\\\\"{])*\"/.source, [sInterpolation]),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: createInterpolationInside(sInterpolation, sInterpolationRound),\n\t\t\t}\n\t\t],\n\t\t'char': {\n\t\t\tpattern: RegExp(character),\n\t\t\tgreedy: true\n\t\t}\n\t});\n\n\tPrism.languages.dotnet = Prism.languages.cs = Prism.languages.csharp;\n\n}(Prism));\n\nPrism.languages.aspnet = Prism.languages.extend('markup', {\n\t'page-directive': {\n\t\tpattern: /<%\\s*@.*%>/,\n\t\talias: 'tag',\n\t\tinside: {\n\t\t\t'page-directive': {\n\t\t\t\tpattern: /<%\\s*@\\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,\n\t\t\t\talias: 'tag'\n\t\t\t},\n\t\t\trest: Prism.languages.markup.tag.inside\n\t\t}\n\t},\n\t'directive': {\n\t\tpattern: /<%.*%>/,\n\t\talias: 'tag',\n\t\tinside: {\n\t\t\t'directive': {\n\t\t\t\tpattern: /<%\\s*?[$=%#:]{0,2}|%>/,\n\t\t\t\talias: 'tag'\n\t\t\t},\n\t\t\trest: Prism.languages.csharp\n\t\t}\n\t}\n});\n// Regexp copied from prism-markup, with a negative look-ahead added\nPrism.languages.aspnet.tag.pattern = /<(?!%)\\/?[^\\s>\\/]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/;\n\n// match directives of attribute value foo=\"<% Bar %>\"\nPrism.languages.insertBefore('inside', 'punctuation', {\n\t'directive': Prism.languages.aspnet['directive']\n}, Prism.languages.aspnet.tag.inside['attr-value']);\n\nPrism.languages.insertBefore('aspnet', 'comment', {\n\t'asp-comment': {\n\t\tpattern: /<%--[\\s\\S]*?--%>/,\n\t\talias: ['asp', 'comment']\n\t}\n});\n\n// script runat=\"server\" contains csharp, not javascript\nPrism.languages.insertBefore('aspnet', Prism.languages.javascript ? 'script' : 'tag', {\n\t'asp-script': {\n\t\tpattern: /(<script(?=.*runat=['\"]?server\\b)[^>]*>)[\\s\\S]*?(?=<\\/script>)/i,\n\t\tlookbehind: true,\n\t\talias: ['asp', 'script'],\n\t\tinside: Prism.languages.csharp || {}\n\t}\n});\n\n(function (Prism) {\n\t// $ set | grep '^[A-Z][^[:space:]]*=' | cut -d= -f1 | tr '\\n' '|'\n\t// + LC_ALL, RANDOM, REPLY, SECONDS.\n\t// + make sure PS1..4 are here as they are not always set,\n\t// - some useless things.\n\tvar envVars = '\\\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\\\b';\n\n\tvar commandAfterHeredoc = {\n\t\tpattern: /(^([\"']?)\\w+\\2)[ \\t]+\\S.*/,\n\t\tlookbehind: true,\n\t\talias: 'punctuation', // this looks reasonably well in all themes\n\t\tinside: null // see below\n\t};\n\n\tvar insideString = {\n\t\t'bash': commandAfterHeredoc,\n\t\t'environment': {\n\t\t\tpattern: RegExp('\\\\$' + envVars),\n\t\t\talias: 'constant'\n\t\t},\n\t\t'variable': [\n\t\t\t// [0]: Arithmetic Environment\n\t\t\t{\n\t\t\t\tpattern: /\\$?\\(\\([\\s\\S]+?\\)\\)/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t// If there is a $ sign at the beginning highlight $(( and )) as variable\n\t\t\t\t\t'variable': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(^\\$\\(\\([\\s\\S]+)\\)\\)/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/^\\$\\(\\(/\n\t\t\t\t\t],\n\t\t\t\t\t'number': /\\b0x[\\dA-Fa-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee]-?\\d+)?/,\n\t\t\t\t\t// Operators according to https://www.gnu.org/software/bash/manual/bashref.html#Shell-Arithmetic\n\t\t\t\t\t'operator': /--|\\+\\+|\\*\\*=?|<<=?|>>=?|&&|\\|\\||[=!+\\-*/%<>^&|]=?|[?~:]/,\n\t\t\t\t\t// If there is no $ sign at the beginning highlight (( and )) as punctuation\n\t\t\t\t\t'punctuation': /\\(\\(?|\\)\\)?|,|;/\n\t\t\t\t}\n\t\t\t},\n\t\t\t// [1]: Command Substitution\n\t\t\t{\n\t\t\t\tpattern: /\\$\\((?:\\([^)]+\\)|[^()])+\\)|`[^`]+`/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'variable': /^\\$\\(|^`|\\)$|`$/\n\t\t\t\t}\n\t\t\t},\n\t\t\t// [2]: Brace expansion\n\t\t\t{\n\t\t\t\tpattern: /\\$\\{[^}]+\\}/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'operator': /:[-=?+]?|[!\\/]|##?|%%?|\\^\\^?|,,?/,\n\t\t\t\t\t'punctuation': /[\\[\\]]/,\n\t\t\t\t\t'environment': {\n\t\t\t\t\t\tpattern: RegExp('(\\\\{)' + envVars),\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'constant'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/\\$(?:\\w+|[#?*!@$])/\n\t\t],\n\t\t// Escape sequences from echo and printf's manuals, and escaped quotes.\n\t\t'entity': /\\\\(?:[abceEfnrtv\\\\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/\n\t};\n\n\tPrism.languages.bash = {\n\t\t'shebang': {\n\t\t\tpattern: /^#!\\s*\\/.*/,\n\t\t\talias: 'important'\n\t\t},\n\t\t'comment': {\n\t\t\tpattern: /(^|[^\"{\\\\$])#.*/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'function-name': [\n\t\t\t// a) function foo {\n\t\t\t// b) foo() {\n\t\t\t// c) function foo() {\n\t\t\t// but not foo {\n\t\t\t{\n\t\t\t\t// a) and c)\n\t\t\t\tpattern: /(\\bfunction\\s+)[\\w-]+(?=(?:\\s*\\(?:\\s*\\))?\\s*\\{)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'function'\n\t\t\t},\n\t\t\t{\n\t\t\t\t// b)\n\t\t\t\tpattern: /\\b[\\w-]+(?=\\s*\\(\\s*\\)\\s*\\{)/,\n\t\t\t\talias: 'function'\n\t\t\t}\n\t\t],\n\t\t// Highlight variable names as variables in for and select beginnings.\n\t\t'for-or-select': {\n\t\t\tpattern: /(\\b(?:for|select)\\s+)\\w+(?=\\s+in\\s)/,\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t// Highlight variable names as variables in the left-hand part\n\t\t// of assignments (= and +=).\n\t\t'assign-left': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()\\w+(?:\\.\\w+)*(?=\\+?=)/,\n\t\t\tinside: {\n\t\t\t\t'environment': {\n\t\t\t\t\tpattern: RegExp('(^|[\\\\s;|&]|[<>]\\\\()' + envVars),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'constant'\n\t\t\t\t}\n\t\t\t},\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t// Highlight parameter names as variables\n\t\t'parameter': {\n\t\t\tpattern: /(^|\\s)-{1,2}(?:\\w+:[+-]?)?\\w+(?:\\.\\w+)*(?=[=\\s]|$)/,\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': [\n\t\t\t// Support for Here-documents https://en.wikipedia.org/wiki/Here_document\n\t\t\t{\n\t\t\t\tpattern: /((?:^|[^<])<<-?\\s*)(\\w+)\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\2/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: insideString\n\t\t\t},\n\t\t\t// Here-document with quotes around the tag\n\t\t\t//  No expansion (so no inside).\n\t\t\t{\n\t\t\t\tpattern: /((?:^|[^<])<<-?\\s*)([\"'])(\\w+)\\2\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\3/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'bash': commandAfterHeredoc\n\t\t\t\t}\n\t\t\t},\n\t\t\t// Normal string\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html\n\t\t\t\tpattern: /(^|[^\\\\](?:\\\\\\\\)*)\"(?:\\\\[\\s\\S]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^\"\\\\`$])*\"/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: insideString\n\t\t\t},\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\n\t\t\t\tpattern: /(^|[^$\\\\])'[^']*'/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html\n\t\t\t\tpattern: /\\$'(?:[^'\\\\]|\\\\[\\s\\S])*'/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'entity': insideString.entity\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'environment': {\n\t\t\tpattern: RegExp('\\\\$?' + envVars),\n\t\t\talias: 'constant'\n\t\t},\n\t\t'variable': insideString.variable,\n\t\t'function': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'keyword': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t// https://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n\t\t'builtin': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:\\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true,\n\t\t\t// Alias added to make those easier to distinguish from strings.\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'boolean': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:false|true)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'file-descriptor': {\n\t\t\tpattern: /\\B&\\d\\b/,\n\t\t\talias: 'important'\n\t\t},\n\t\t'operator': {\n\t\t\t// Lots of redirections here, but not just that.\n\t\t\tpattern: /\\d?<>|>\\||\\+=|=[=~]?|!=?|<<[<-]?|[&\\d]?>>|\\d[<>]&?|[<>][&=]?|&[>&]?|\\|[&|]?/,\n\t\t\tinside: {\n\t\t\t\t'file-descriptor': {\n\t\t\t\t\tpattern: /^\\d/,\n\t\t\t\t\talias: 'important'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'punctuation': /\\$?\\(\\(?|\\)\\)?|\\.\\.|[{}[\\];\\\\]/,\n\t\t'number': {\n\t\t\tpattern: /(^|\\s)(?:[1-9]\\d*|0)(?:[.,]\\d+)?\\b/,\n\t\t\tlookbehind: true\n\t\t}\n\t};\n\n\tcommandAfterHeredoc.inside = Prism.languages.bash;\n\n\t/* Patterns in command substitution. */\n\tvar toBeCopied = [\n\t\t'comment',\n\t\t'function-name',\n\t\t'for-or-select',\n\t\t'assign-left',\n\t\t'parameter',\n\t\t'string',\n\t\t'environment',\n\t\t'function',\n\t\t'keyword',\n\t\t'builtin',\n\t\t'boolean',\n\t\t'file-descriptor',\n\t\t'operator',\n\t\t'punctuation',\n\t\t'number'\n\t];\n\tvar inside = insideString.variable[1].inside;\n\tfor (var i = 0; i < toBeCopied.length; i++) {\n\t\tinside[toBeCopied[i]] = Prism.languages.bash[toBeCopied[i]];\n\t}\n\n\tPrism.languages.sh = Prism.languages.bash;\n\tPrism.languages.shell = Prism.languages.bash;\n}(Prism));\n\nPrism.languages.basic = {\n\t'comment': {\n\t\tpattern: /(?:!|REM\\b).+/i,\n\t\tinside: {\n\t\t\t'keyword': /^REM/i\n\t\t}\n\t},\n\t'string': {\n\t\tpattern: /\"(?:\"\"|[!#$%&'()*,\\/:;<=>?^\\w +\\-.])*\"/,\n\t\tgreedy: true\n\t},\n\t'number': /(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:E[+-]?\\d+)?/i,\n\t'keyword': /\\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\\$|\\b)/i,\n\t'function': /\\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\\$|\\b)/i,\n\t'operator': /<[=>]?|>=?|[+\\-*\\/^=&]|\\b(?:AND|EQV|IMP|NOT|OR|XOR)\\b/i,\n\t'punctuation': /[,;:()]/\n};\n\nPrism.languages.c = Prism.languages.extend('clike', {\n\t'comment': {\n\t\tpattern: /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\t// https://en.cppreference.com/w/c/language/string_literal\n\t\tpattern: /\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:enum|struct)\\s+(?:__attribute__\\s*\\(\\([\\s\\S]*?\\)\\)\\s*)?)\\w+|\\b[a-z]\\w*_t\\b/,\n\t\tlookbehind: true\n\t},\n\t'keyword': /\\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\\b/,\n\t'function': /\\b[a-z_]\\w*(?=\\s*\\()/i,\n\t'number': /(?:\\b0x(?:[\\da-f]+(?:\\.[\\da-f]*)?|\\.[\\da-f]+)(?:p[+-]?\\d+)?|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?)[ful]{0,4}/i,\n\t'operator': />>=?|<<=?|->|([-+&|:])\\1|[?:~]|[-+*/%&|^!=<>]=?/\n});\n\nPrism.languages.insertBefore('c', 'string', {\n\t'char': {\n\t\t// https://en.cppreference.com/w/c/language/character_constant\n\t\tpattern: /'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n]){0,32}'/,\n\t\tgreedy: true\n\t}\n});\n\nPrism.languages.insertBefore('c', 'string', {\n\t'macro': {\n\t\t// allow for multiline macro definitions\n\t\t// spaces after the # character compile fine with gcc\n\t\tpattern: /(^[\\t ]*)#\\s*[a-z](?:[^\\r\\n\\\\/]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\\\\(?:\\r\\n|[\\s\\S]))*/im,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property',\n\t\tinside: {\n\t\t\t'string': [\n\t\t\t\t{\n\t\t\t\t\t// highlight the path of the include statement as a string\n\t\t\t\t\tpattern: /^(#\\s*include\\s*)<[^>]+>/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\tPrism.languages.c['string']\n\t\t\t],\n\t\t\t'char': Prism.languages.c['char'],\n\t\t\t'comment': Prism.languages.c['comment'],\n\t\t\t'macro-name': [\n\t\t\t\t{\n\t\t\t\t\tpattern: /(^#\\s*define\\s+)\\w+\\b(?!\\()/i,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /(^#\\s*define\\s+)\\w+\\b(?=\\()/i,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'function'\n\t\t\t\t}\n\t\t\t],\n\t\t\t// highlight macro directives as keywords\n\t\t\t'directive': {\n\t\t\t\tpattern: /^(#\\s*)[a-z]+/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'keyword'\n\t\t\t},\n\t\t\t'directive-hash': /^#/,\n\t\t\t'punctuation': /##|\\\\(?=[\\r\\n])/,\n\t\t\t'expression': {\n\t\t\t\tpattern: /\\S[\\s\\S]*/,\n\t\t\t\tinside: Prism.languages.c\n\t\t\t}\n\t\t}\n\t}\n});\n\nPrism.languages.insertBefore('c', 'function', {\n\t// highlight predefined macros as constants\n\t'constant': /\\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\\b/\n});\n\ndelete Prism.languages.c['boolean'];\n\n(function (Prism) {\n\n\tvar keyword = /\\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\\b/;\n\tvar modName = /\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b/.source.replace(/<keyword>/g, function () { return keyword.source; });\n\n\tPrism.languages.cpp = Prism.languages.extend('c', {\n\t\t'class-name': [\n\t\t\t{\n\t\t\t\tpattern: RegExp(/(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+/.source\n\t\t\t\t\t.replace(/<keyword>/g, function () { return keyword.source; })),\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t// This is intended to capture the class name of method implementations like:\n\t\t\t//   void foo::bar() const {}\n\t\t\t// However! The `foo` in the above example could also be a namespace, so we only capture the class name if\n\t\t\t// it starts with an uppercase letter. This approximation should give decent results.\n\t\t\t/\\b[A-Z]\\w*(?=\\s*::\\s*\\w+\\s*\\()/,\n\t\t\t// This will capture the class name before destructors like:\n\t\t\t//   Foo::~Foo() {}\n\t\t\t/\\b[A-Z_]\\w*(?=\\s*::\\s*~\\w+\\s*\\()/i,\n\t\t\t// This also intends to capture the class name of method implementations but here the class has template\n\t\t\t// parameters, so it can't be a namespace (until C++ adds generic namespaces).\n\t\t\t/\\b\\w+(?=\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\\s*::\\s*\\w+\\s*\\()/\n\t\t],\n\t\t'keyword': keyword,\n\t\t'number': {\n\t\t\tpattern: /(?:\\b0b[01']+|\\b0x(?:[\\da-f']+(?:\\.[\\da-f']*)?|\\.[\\da-f']+)(?:p[+-]?[\\d']+)?|(?:\\b[\\d']+(?:\\.[\\d']*)?|\\B\\.[\\d']+)(?:e[+-]?[\\d']+)?)[ful]{0,4}/i,\n\t\t\tgreedy: true\n\t\t},\n\t\t'operator': />>=?|<<=?|->|--|\\+\\+|&&|\\|\\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\\b/,\n\t\t'boolean': /\\b(?:false|true)\\b/\n\t});\n\n\tPrism.languages.insertBefore('cpp', 'string', {\n\t\t'module': {\n\t\t\t// https://en.cppreference.com/w/cpp/language/modules\n\t\t\tpattern: RegExp(\n\t\t\t\t/(\\b(?:import|module)\\s+)/.source +\n\t\t\t\t'(?:' +\n\t\t\t\t// header-name\n\t\t\t\t/\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|<[^<>\\r\\n]*>/.source +\n\t\t\t\t'|' +\n\t\t\t\t// module name or partition or both\n\t\t\t\t/<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>/.source.replace(/<mod-name>/g, function () { return modName; }) +\n\t\t\t\t')'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'string': /^[<\"][\\s\\S]+/,\n\t\t\t\t'operator': /:/,\n\t\t\t\t'punctuation': /\\./\n\t\t\t}\n\t\t},\n\t\t'raw-string': {\n\t\t\tpattern: /R\"([^()\\\\ ]{0,16})\\([\\s\\S]*?\\)\\1\"/,\n\t\t\talias: 'string',\n\t\t\tgreedy: true\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('cpp', 'keyword', {\n\t\t'generic-function': {\n\t\t\tpattern: /\\b(?!operator\\b)[a-z_]\\w*\\s*<(?:[^<>]|<[^<>]*>)*>(?=\\s*\\()/i,\n\t\t\tinside: {\n\t\t\t\t'function': /^\\w+/,\n\t\t\t\t'generic': {\n\t\t\t\t\tpattern: /<[\\s\\S]+/,\n\t\t\t\t\talias: 'class-name',\n\t\t\t\t\tinside: Prism.languages.cpp\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('cpp', 'operator', {\n\t\t'double-colon': {\n\t\t\tpattern: /::/,\n\t\t\talias: 'punctuation'\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('cpp', 'class-name', {\n\t\t// the base clause is an optional list of parent classes\n\t\t// https://en.cppreference.com/w/cpp/language/class\n\t\t'base-clause': {\n\t\t\tpattern: /(\\b(?:class|struct)\\s+\\w+\\s*:\\s*)[^;{}\"'\\s]+(?:\\s+[^;{}\"'\\s]+)*(?=\\s*[;{])/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: Prism.languages.extend('cpp', {})\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('inside', 'double-colon', {\n\t\t// All untokenized words that are not namespaces should be class names\n\t\t'class-name': /\\b[a-z_]\\w*\\b(?!\\s*::)/i\n\t}, Prism.languages.cpp['base-clause']);\n\n}(Prism));\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\tvar selectorInside;\n\n\tPrism.languages.css.selector = {\n\t\tpattern: Prism.languages.css.selector.pattern,\n\t\tlookbehind: true,\n\t\tinside: selectorInside = {\n\t\t\t'pseudo-element': /:(?:after|before|first-letter|first-line|selection)|::[-\\w]+/,\n\t\t\t'pseudo-class': /:[-\\w]+/,\n\t\t\t'class': /\\.[-\\w]+/,\n\t\t\t'id': /#[-\\w]+/,\n\t\t\t'attribute': {\n\t\t\t\tpattern: RegExp('\\\\[(?:[^[\\\\]\"\\']|' + string.source + ')*\\\\]'),\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^\\[|\\]$/,\n\t\t\t\t\t'case-sensitivity': {\n\t\t\t\t\t\tpattern: /(\\s)[si]$/i,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'keyword'\n\t\t\t\t\t},\n\t\t\t\t\t'namespace': {\n\t\t\t\t\t\tpattern: /^(\\s*)(?:(?!\\s)[-*\\w\\xA0-\\uFFFF])*\\|(?!=)/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'punctuation': /\\|$/\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^(\\s*)(?:(?!\\s)[-\\w\\xA0-\\uFFFF])+/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'attr-value': [\n\t\t\t\t\t\tstring,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(=\\s*)(?:(?!\\s)[-\\w\\xA0-\\uFFFF])+(?=\\s*$)/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t'operator': /[|~*^$]?=/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'n-th': [\n\t\t\t\t{\n\t\t\t\t\tpattern: /(\\(\\s*)[+-]?\\d*[\\dn](?:\\s*[+-]\\s*\\d+)?(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'number': /[\\dn]+/,\n\t\t\t\t\t\t'operator': /[+-]/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /(\\(\\s*)(?:even|odd)(?=\\s*\\))/i,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t],\n\t\t\t'combinator': />|\\+|~|\\|\\|/,\n\n\t\t\t// the `tag` token has been existed and removed.\n\t\t\t// because we can't find a perfect tokenize to match it.\n\t\t\t// if you want to add it, please read https://github.com/PrismJS/prism/pull/2373 first.\n\n\t\t\t'punctuation': /[(),]/,\n\t\t}\n\t};\n\n\tPrism.languages.css['atrule'].inside['selector-function-argument'].inside = selectorInside;\n\n\tPrism.languages.insertBefore('css', 'property', {\n\t\t'variable': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])--(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*/i,\n\t\t\tlookbehind: true\n\t\t}\n\t});\n\n\tvar unit = {\n\t\tpattern: /(\\b\\d+)(?:%|[a-z]+(?![\\w-]))/,\n\t\tlookbehind: true\n\t};\n\t// 123 -123 .123 -.123 12.3 -12.3\n\tvar number = {\n\t\tpattern: /(^|[^\\w.-])-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/,\n\t\tlookbehind: true\n\t};\n\n\tPrism.languages.insertBefore('css', 'function', {\n\t\t'operator': {\n\t\t\tpattern: /(\\s)[+\\-*\\/](?=\\s)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t// CAREFUL!\n\t\t// Previewers and Inline color use hexcode and color.\n\t\t'hexcode': {\n\t\t\tpattern: /\\B#[\\da-f]{3,8}\\b/i,\n\t\t\talias: 'color'\n\t\t},\n\t\t'color': [\n\t\t\t{\n\t\t\t\tpattern: /(^|[^\\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\\w-])/i,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b(?:hsl|rgb)\\(\\s*\\d{1,3}\\s*,\\s*\\d{1,3}%?\\s*,\\s*\\d{1,3}%?\\s*\\)\\B|\\b(?:hsl|rgb)a\\(\\s*\\d{1,3}\\s*,\\s*\\d{1,3}%?\\s*,\\s*\\d{1,3}%?\\s*,\\s*(?:0|0?\\.\\d+|1)\\s*\\)\\B/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'unit': unit,\n\t\t\t\t\t'number': number,\n\t\t\t\t\t'function': /[\\w-]+(?=\\()/,\n\t\t\t\t\t'punctuation': /[(),]/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t// it's important that there is no boundary assertion after the hex digits\n\t\t'entity': /\\\\[\\da-f]{1,8}/i,\n\t\t'unit': unit,\n\t\t'number': number\n\t});\n\n}(Prism));\n\nPrism.languages.git = {\n\t/*\n\t * A simple one line comment like in a git status command\n\t * For instance:\n\t * $ git status\n\t * # On branch infinite-scroll\n\t * # Your branch and 'origin/sharedBranches/frontendTeam/infinite-scroll' have diverged,\n\t * # and have 1 and 2 different commits each, respectively.\n\t * nothing to commit (working directory clean)\n\t */\n\t'comment': /^#.*/m,\n\n\t/*\n\t * Regexp to match the changed lines in a git diff output. Check the example below.\n\t */\n\t'deleted': /^[-].*/m,\n\t'inserted': /^\\+.*/m,\n\n\t/*\n\t * a string (double and simple quote)\n\t */\n\t'string': /(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\n\t/*\n\t * a git command. It starts with a random prompt finishing by a $, then \"git\" then some other parameters\n\t * For instance:\n\t * $ git add file.txt\n\t */\n\t'command': {\n\t\tpattern: /^.*\\$ git .*$/m,\n\t\tinside: {\n\t\t\t/*\n\t\t\t * A git command can contain a parameter starting by a single or a double dash followed by a string\n\t\t\t * For instance:\n\t\t\t * $ git diff --cached\n\t\t\t * $ git log -p\n\t\t\t */\n\t\t\t'parameter': /\\s--?\\w+/\n\t\t}\n\t},\n\n\t/*\n\t * Coordinates displayed in a git diff command\n\t * For instance:\n\t * $ git diff\n\t * diff --git file.txt file.txt\n\t * index 6214953..1d54a52 100644\n\t * --- file.txt\n\t * +++ file.txt\n\t * @@ -1 +1,2 @@\n\t * -Here's my tetx file\n\t * +Here's my text file\n\t * +And this is the second line\n\t */\n\t'coord': /^@@.*@@$/m,\n\n\t/*\n\t * Match a \"commit [SHA1]\" line in a git log output.\n\t * For instance:\n\t * $ git log\n\t * commit a11a14ef7e26f2ca62d4b35eac455ce636d0dc09\n\t * Author: lgiraudel\n\t * Date:   Mon Feb 17 11:18:34 2014 +0100\n\t *\n\t *     Add of a new line\n\t */\n\t'commit-sha1': /^commit \\w{40}$/m\n};\n\n(function (Prism) {\n\n\tvar keywords = /\\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\\s*[(){}[\\]<>=%~.:,;?+\\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\\b/;\n\n\t// full package (optional) + parent classes (optional)\n\tvar classNamePrefix = /(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*/.source;\n\n\t// based on the java naming conventions\n\tvar className = {\n\t\tpattern: RegExp(/(^|[^\\w.])/.source + classNamePrefix + /[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b/.source),\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'namespace': {\n\t\t\t\tpattern: /^[a-z]\\w*(?:\\s*\\.\\s*[a-z]\\w*)*(?:\\s*\\.)?/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\./\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\./\n\t\t}\n\t};\n\n\tPrism.languages.java = Prism.languages.extend('clike', {\n\t\t'string': {\n\t\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\"\\\\\\r\\n])*\"/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t'class-name': [\n\t\t\tclassName,\n\t\t\t{\n\t\t\t\t// variables, parameters, and constructor references\n\t\t\t\t// this to support class names (or generic parameters) which do not contain a lower case letter (also works for methods)\n\t\t\t\tpattern: RegExp(/(^|[^\\w.])/.source + classNamePrefix + /[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: className.inside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// class names based on keyword\n\t\t\t\t// this to support class names (or generic parameters) which do not contain a lower case letter (also works for methods)\n\t\t\t\tpattern: RegExp(/(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)/.source + classNamePrefix + /[A-Z]\\w*\\b/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: className.inside\n\t\t\t}\n\t\t],\n\t\t'keyword': keywords,\n\t\t'function': [\n\t\t\tPrism.languages.clike.function,\n\t\t\t{\n\t\t\t\tpattern: /(::\\s*)[a-z_]\\w*/,\n\t\t\t\tlookbehind: true\n\t\t\t}\n\t\t],\n\t\t'number': /\\b0b[01][01_]*L?\\b|\\b0x(?:\\.[\\da-f_p+-]+|[\\da-f_]+(?:\\.[\\da-f_p+-]+)?)\\b|(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[dfl]?/i,\n\t\t'operator': {\n\t\t\tpattern: /(^|[^.])(?:<<=?|>>>?=?|->|--|\\+\\+|&&|\\|\\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'constant': /\\b[A-Z][A-Z_\\d]+\\b/\n\t});\n\n\tPrism.languages.insertBefore('java', 'string', {\n\t\t'triple-quoted-string': {\n\t\t\t// http://openjdk.java.net/jeps/355#Description\n\t\t\tpattern: /\"\"\"[ \\t]*[\\r\\n](?:(?:\"|\"\")?(?:\\\\.|[^\"\\\\]))*\"\"\"/,\n\t\t\tgreedy: true,\n\t\t\talias: 'string'\n\t\t},\n\t\t'char': {\n\t\t\tpattern: /'(?:\\\\.|[^'\\\\\\r\\n]){1,6}'/,\n\t\t\tgreedy: true\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('java', 'class-name', {\n\t\t'annotation': {\n\t\t\tpattern: /(^|[^.])@\\w+(?:\\s*\\.\\s*\\w+)*/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'generics': {\n\t\t\tpattern: /<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&))*>)*>)*>)*>/,\n\t\t\tinside: {\n\t\t\t\t'class-name': className,\n\t\t\t\t'keyword': keywords,\n\t\t\t\t'punctuation': /[<>(),.:]/,\n\t\t\t\t'operator': /[?&|]/\n\t\t\t}\n\t\t},\n\t\t'import': [\n\t\t\t{\n\t\t\t\tpattern: RegExp(/(\\bimport\\s+)/.source + classNamePrefix + /(?:[A-Z]\\w*|\\*)(?=\\s*;)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': className.inside.namespace,\n\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t'operator': /\\*/,\n\t\t\t\t\t'class-name': /\\w+/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: RegExp(/(\\bimport\\s+static\\s+)/.source + classNamePrefix + /(?:\\w+|\\*)(?=\\s*;)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'static',\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': className.inside.namespace,\n\t\t\t\t\t'static': /\\b\\w+$/,\n\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t'operator': /\\*/,\n\t\t\t\t\t'class-name': /\\w+/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'namespace': {\n\t\t\tpattern: RegExp(\n\t\t\t\t/(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?/\n\t\t\t\t\t.source.replace(/<keyword>/g, function () { return keywords.source; })),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\./,\n\t\t\t}\n\t\t}\n\t});\n}(Prism));\n\n// https://www.json.org/json-en.html\nPrism.languages.json = {\n\t'property': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?!\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'comment': {\n\t\tpattern: /\\/\\/.*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\tgreedy: true\n\t},\n\t'number': /-?\\b\\d+(?:\\.\\d+)?(?:e[+-]?\\d+)?\\b/i,\n\t'punctuation': /[{}[\\],]/,\n\t'operator': /:/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'null': {\n\t\tpattern: /\\bnull\\b/,\n\t\talias: 'keyword'\n\t}\n};\n\nPrism.languages.webmanifest = Prism.languages.json;\n\nPrism.languages.python = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])#.*/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string-interpolation': {\n\t\tpattern: /(?:f|fr|rf)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\t// \"{\" <expression> <optional \"!s\", \"!r\", or \"!a\"> <optional \":\" format specifier> \"}\"\n\t\t\t\tpattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-spec': {\n\t\t\t\t\t\tpattern: /(:)[^:(){}]+(?=\\}$)/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'conversion-option': {\n\t\t\t\t\t\tpattern: /![sra](?=[:}]$)/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'triple-quoted-string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n\t\tgreedy: true,\n\t\talias: 'string'\n\t},\n\t'string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n\t\tgreedy: true\n\t},\n\t'function': {\n\t\tpattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n\t\tlookbehind: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\bclass\\s+)\\w+/i,\n\t\tlookbehind: true\n\t},\n\t'decorator': {\n\t\tpattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/m,\n\t\tlookbehind: true,\n\t\talias: ['annotation', 'punctuation'],\n\t\tinside: {\n\t\t\t'punctuation': /\\./\n\t\t}\n\t},\n\t'keyword': /\\b(?:_(?=\\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n\t'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n\t'boolean': /\\b(?:False|None|True)\\b/,\n\t'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?(?!\\w)/i,\n\t'operator': /[-+%=]=?|!=|:=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\nPrism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n\nPrism.languages.py = Prism.languages.python;\n\nPrism.languages.scss = Prism.languages.extend('css', {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])(?:\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*)/,\n\t\tlookbehind: true\n\t},\n\t'atrule': {\n\t\tpattern: /@[\\w-](?:\\([^()]+\\)|[^()\\s]|\\s+(?!\\s))*?(?=\\s+[{;])/,\n\t\tinside: {\n\t\t\t'rule': /@[\\w-]+/\n\t\t\t// See rest below\n\t\t}\n\t},\n\t// url, compassified\n\t'url': /(?:[-a-z]+-)?url(?=\\()/i,\n\t// CSS selector regex is not appropriate for Sass\n\t// since there can be lot more things (var, @ directive, nesting..)\n\t// a selector must start at the end of a property or after a brace (end of other rules or nesting)\n\t// it can contain some characters that aren't used for defining rules or end of selector, & (parent selector), or interpolated variable\n\t// the end of a selector is found when there is no rules in it ( {} or {\\s}) or if there is a property (because an interpolated var\n\t// can \"pass\" as a selector- e.g: proper#{$erty})\n\t// this one was hard to do, so please be careful if you edit this one :)\n\t'selector': {\n\t\t// Initial look-ahead is used to prevent matching of blank selectors\n\t\tpattern: /(?=\\S)[^@;{}()]?(?:[^@;{}()\\s]|\\s+(?!\\s)|#\\{\\$[-\\w]+\\})+(?=\\s*\\{(?:\\}|\\s|[^}][^:{}]*[:{][^}]))/,\n\t\tinside: {\n\t\t\t'parent': {\n\t\t\t\tpattern: /&/,\n\t\t\t\talias: 'important'\n\t\t\t},\n\t\t\t'placeholder': /%[-\\w]+/,\n\t\t\t'variable': /\\$[-\\w]+|#\\{\\$[-\\w]+\\}/\n\t\t}\n\t},\n\t'property': {\n\t\tpattern: /(?:[-\\w]|\\$[-\\w]|#\\{\\$[-\\w]+\\})+(?=\\s*:)/,\n\t\tinside: {\n\t\t\t'variable': /\\$[-\\w]+|#\\{\\$[-\\w]+\\}/\n\t\t}\n\t}\n});\n\nPrism.languages.insertBefore('scss', 'atrule', {\n\t'keyword': [\n\t\t/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\\b/i,\n\t\t{\n\t\t\tpattern: /( )(?:from|through)(?= )/,\n\t\t\tlookbehind: true\n\t\t}\n\t]\n});\n\nPrism.languages.insertBefore('scss', 'important', {\n\t// var and interpolated vars\n\t'variable': /\\$[-\\w]+|#\\{\\$[-\\w]+\\}/\n});\n\nPrism.languages.insertBefore('scss', 'function', {\n\t'module-modifier': {\n\t\tpattern: /\\b(?:as|hide|show|with)\\b/i,\n\t\talias: 'keyword'\n\t},\n\t'placeholder': {\n\t\tpattern: /%[-\\w]+/,\n\t\talias: 'selector'\n\t},\n\t'statement': {\n\t\tpattern: /\\B!(?:default|optional)\\b/i,\n\t\talias: 'keyword'\n\t},\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'null': {\n\t\tpattern: /\\bnull\\b/,\n\t\talias: 'keyword'\n\t},\n\t'operator': {\n\t\tpattern: /(\\s)(?:[-+*\\/%]|[=!]=|<=?|>=?|and|not|or)(?=\\s)/,\n\t\tlookbehind: true\n\t}\n});\n\nPrism.languages.scss['atrule'].inside.rest = Prism.languages.scss;\n\nPrism.languages.sql = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])(?:\\/\\*[\\s\\S]*?\\*\\/|(?:--|\\/\\/|#).*)/,\n\t\tlookbehind: true\n\t},\n\t'variable': [\n\t\t{\n\t\t\tpattern: /@([\"'`])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])+\\1/,\n\t\t\tgreedy: true\n\t\t},\n\t\t/@[\\w.$]+/\n\t],\n\t'string': {\n\t\tpattern: /(^|[^@\\\\])(\"|')(?:\\\\[\\s\\S]|(?!\\2)[^\\\\]|\\2\\2)*\\2/,\n\t\tgreedy: true,\n\t\tlookbehind: true\n\t},\n\t'identifier': {\n\t\tpattern: /(^|[^@\\\\])`(?:\\\\[\\s\\S]|[^`\\\\]|``)*`/,\n\t\tgreedy: true,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /^`|`$/\n\t\t}\n\t},\n\t'function': /\\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\\s*\\()/i, // Should we highlight user defined functions too?\n\t'keyword': /\\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\\b/i,\n\t'boolean': /\\b(?:FALSE|NULL|TRUE)\\b/i,\n\t'number': /\\b0x[\\da-f]+\\b|\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+\\b/i,\n\t'operator': /[-+*\\/=%^~]|&&?|\\|\\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\\b/i,\n\t'punctuation': /[;[\\]()`,.]/\n};\n\nPrism.languages.vbnet = Prism.languages.extend('basic', {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(?:!|REM\\b).+/i,\n\t\t\tinside: {\n\t\t\t\t'keyword': /^REM/i\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])'.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /(^|[^\"])\"(?:\"\"|[^\"])*\"(?!\")/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'keyword': /(?:\\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\\$|\\b)/i,\n\t'punctuation': /[,;:(){}]/\n});\n\nPrism.languages['visual-basic'] = {\n\t'comment': {\n\t\tpattern: /(?:[']|REM\\b)(?:[^\\r\\n_]|_(?:\\r\\n?|\\n)?)*/i,\n\t\tinside: {\n\t\t\t'keyword': /^REM/i\n\t\t}\n\t},\n\t'directive': {\n\t\tpattern: /#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\\b_[ \\t]*(?:\\r\\n?|\\n)|.)+/i,\n\t\talias: 'property',\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\tpattern: /\\$?[\"](?:[\"]{2}|[^\"])*[\"]C?/i,\n\t\tgreedy: true\n\t},\n\t'date': {\n\t\tpattern: /#[ \\t]*(?:\\d+([/-])\\d+\\1\\d+(?:[ \\t]+(?:\\d+[ \\t]*(?:AM|PM)|\\d+:\\d+(?::\\d+)?(?:[ \\t]*(?:AM|PM))?))?|\\d+[ \\t]*(?:AM|PM)|\\d+:\\d+(?::\\d+)?(?:[ \\t]*(?:AM|PM))?)[ \\t]*#/i,\n\t\talias: 'number'\n\t},\n\t'number': /(?:(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)(?:E[+-]?\\d+)?|&[HO][\\dA-F]+)(?:[FRD]|U?[ILS])?/i,\n\t'boolean': /\\b(?:False|Nothing|True)\\b/i,\n\t'keyword': /\\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\\b/i,\n\t'operator': /[+\\-*/\\\\^<=>&#@$%!]|\\b_(?=[ \\t]*[\\r\\n])/,\n\t'punctuation': /[{}().,:?]/\n};\n\nPrism.languages.vb = Prism.languages['visual-basic'];\nPrism.languages.vba = Prism.languages['visual-basic'];\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined' || !document.querySelector) {\n\t\treturn;\n\t}\n\n\tvar LINE_NUMBERS_CLASS = 'line-numbers';\n\tvar LINKABLE_LINE_NUMBERS_CLASS = 'linkable-line-numbers';\n\tvar NEW_LINE_EXP = /\\n(?!$)/g;\n\n\t/**\n\t * @param {string} selector\n\t * @param {ParentNode} [container]\n\t * @returns {HTMLElement[]}\n\t */\n\tfunction $$(selector, container) {\n\t\treturn Array.prototype.slice.call((container || document).querySelectorAll(selector));\n\t}\n\n\t/**\n\t * Returns whether the given element has the given class.\n\t *\n\t * @param {Element} element\n\t * @param {string} className\n\t * @returns {boolean}\n\t */\n\tfunction hasClass(element, className) {\n\t\treturn element.classList.contains(className);\n\t}\n\n\t/**\n\t * Calls the given function.\n\t *\n\t * @param {() => any} func\n\t * @returns {void}\n\t */\n\tfunction callFunction(func) {\n\t\tfunc();\n\t}\n\n\t// Some browsers round the line-height, others don't.\n\t// We need to test for it to position the elements properly.\n\tvar isLineHeightRounded = (function () {\n\t\tvar res;\n\t\treturn function () {\n\t\t\tif (typeof res === 'undefined') {\n\t\t\t\tvar d = document.createElement('div');\n\t\t\t\td.style.fontSize = '13px';\n\t\t\t\td.style.lineHeight = '1.5';\n\t\t\t\td.style.padding = '0';\n\t\t\t\td.style.border = '0';\n\t\t\t\td.innerHTML = '&nbsp;<br />&nbsp;';\n\t\t\t\tdocument.body.appendChild(d);\n\t\t\t\t// Browsers that round the line-height should have offsetHeight === 38\n\t\t\t\t// The others should have 39.\n\t\t\t\tres = d.offsetHeight === 38;\n\t\t\t\tdocument.body.removeChild(d);\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\t}());\n\n\t/**\n\t * Returns the top offset of the content box of the given parent and the content box of one of its children.\n\t *\n\t * @param {HTMLElement} parent\n\t * @param {HTMLElement} child\n\t */\n\tfunction getContentBoxTopOffset(parent, child) {\n\t\tvar parentStyle = getComputedStyle(parent);\n\t\tvar childStyle = getComputedStyle(child);\n\n\t\t/**\n\t\t * Returns the numeric value of the given pixel value.\n\t\t *\n\t\t * @param {string} px\n\t\t */\n\t\tfunction pxToNumber(px) {\n\t\t\treturn +px.substr(0, px.length - 2);\n\t\t}\n\n\t\treturn child.offsetTop\n\t\t\t+ pxToNumber(childStyle.borderTopWidth)\n\t\t\t+ pxToNumber(childStyle.paddingTop)\n\t\t\t- pxToNumber(parentStyle.paddingTop);\n\t}\n\n\t/**\n\t * Returns whether the Line Highlight plugin is active for the given element.\n\t *\n\t * If this function returns `false`, do not call `highlightLines` for the given element.\n\t *\n\t * @param {HTMLElement | null | undefined} pre\n\t * @returns {boolean}\n\t */\n\tfunction isActiveFor(pre) {\n\t\tif (!pre || !/pre/i.test(pre.nodeName)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (pre.hasAttribute('data-line')) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (pre.id && Prism.util.isActive(pre, LINKABLE_LINE_NUMBERS_CLASS)) {\n\t\t\t// Technically, the line numbers plugin is also necessary but this plugin doesn't control the classes of\n\t\t\t// the line numbers plugin, so we can't assume that they are present.\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar scrollIntoView = true;\n\n\tPrism.plugins.lineHighlight = {\n\t\t/**\n\t\t * Highlights the lines of the given pre.\n\t\t *\n\t\t * This function is split into a DOM measuring and mutate phase to improve performance.\n\t\t * The returned function mutates the DOM when called.\n\t\t *\n\t\t * @param {HTMLElement} pre\n\t\t * @param {string | null} [lines]\n\t\t * @param {string} [classes='']\n\t\t * @returns {() => void}\n\t\t */\n\t\thighlightLines: function highlightLines(pre, lines, classes) {\n\t\t\tlines = typeof lines === 'string' ? lines : (pre.getAttribute('data-line') || '');\n\n\t\t\tvar ranges = lines.replace(/\\s+/g, '').split(',').filter(Boolean);\n\t\t\tvar offset = +pre.getAttribute('data-line-offset') || 0;\n\n\t\t\tvar parseMethod = isLineHeightRounded() ? parseInt : parseFloat;\n\t\t\tvar lineHeight = parseMethod(getComputedStyle(pre).lineHeight);\n\t\t\tvar hasLineNumbers = Prism.util.isActive(pre, LINE_NUMBERS_CLASS);\n\t\t\tvar codeElement = pre.querySelector('code');\n\t\t\tvar parentElement = hasLineNumbers ? pre : codeElement || pre;\n\t\t\tvar mutateActions = /** @type {(() => void)[]} */ ([]);\n\t\t\tvar lineBreakMatch = codeElement.textContent.match(NEW_LINE_EXP);\n\t\t\tvar numberOfLines = lineBreakMatch ? lineBreakMatch.length + 1 : 1;\n\t\t\t/**\n\t\t\t * The top offset between the content box of the <code> element and the content box of the parent element of\n\t\t\t * the line highlight element (either `<pre>` or `<code>`).\n\t\t\t *\n\t\t\t * This offset might not be zero for some themes where the <code> element has a top margin. Some plugins\n\t\t\t * (or users) might also add element above the <code> element. Because the line highlight is aligned relative\n\t\t\t * to the <pre> element, we have to take this into account.\n\t\t\t *\n\t\t\t * This offset will be 0 if the parent element of the line highlight element is the `<code>` element.\n\t\t\t */\n\t\t\tvar codePreOffset = !codeElement || parentElement == codeElement ? 0 : getContentBoxTopOffset(pre, codeElement);\n\n\t\t\tranges.forEach(function (currentRange) {\n\t\t\t\tvar range = currentRange.split('-');\n\n\t\t\t\tvar start = +range[0];\n\t\t\t\tvar end = +range[1] || start;\n\t\t\t\tend = Math.min(numberOfLines + offset, end);\n\n\t\t\t\tif (end < start) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t/** @type {HTMLElement} */\n\t\t\t\tvar line = pre.querySelector('.line-highlight[data-range=\"' + currentRange + '\"]') || document.createElement('div');\n\n\t\t\t\tmutateActions.push(function () {\n\t\t\t\t\tline.setAttribute('aria-hidden', 'true');\n\t\t\t\t\tline.setAttribute('data-range', currentRange);\n\t\t\t\t\tline.className = (classes || '') + ' line-highlight';\n\t\t\t\t});\n\n\t\t\t\t// if the line-numbers plugin is enabled, then there is no reason for this plugin to display the line numbers\n\t\t\t\tif (hasLineNumbers && Prism.plugins.lineNumbers) {\n\t\t\t\t\tvar startNode = Prism.plugins.lineNumbers.getLine(pre, start);\n\t\t\t\t\tvar endNode = Prism.plugins.lineNumbers.getLine(pre, end);\n\n\t\t\t\t\tif (startNode) {\n\t\t\t\t\t\tvar top = startNode.offsetTop + codePreOffset + 'px';\n\t\t\t\t\t\tmutateActions.push(function () {\n\t\t\t\t\t\t\tline.style.top = top;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (endNode) {\n\t\t\t\t\t\tvar height = (endNode.offsetTop - startNode.offsetTop) + endNode.offsetHeight + 'px';\n\t\t\t\t\t\tmutateActions.push(function () {\n\t\t\t\t\t\t\tline.style.height = height;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmutateActions.push(function () {\n\t\t\t\t\t\tline.setAttribute('data-start', String(start));\n\n\t\t\t\t\t\tif (end > start) {\n\t\t\t\t\t\t\tline.setAttribute('data-end', String(end));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tline.style.top = (start - offset - 1) * lineHeight + codePreOffset + 'px';\n\n\t\t\t\t\t\tline.textContent = new Array(end - start + 2).join(' \\n');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tmutateActions.push(function () {\n\t\t\t\t\tline.style.width = pre.scrollWidth + 'px';\n\t\t\t\t});\n\n\t\t\t\tmutateActions.push(function () {\n\t\t\t\t\t// allow this to play nicely with the line-numbers plugin\n\t\t\t\t\t// need to attack to pre as when line-numbers is enabled, the code tag is relatively which screws up the positioning\n\t\t\t\t\tparentElement.appendChild(line);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvar id = pre.id;\n\t\t\tif (hasLineNumbers && Prism.util.isActive(pre, LINKABLE_LINE_NUMBERS_CLASS) && id) {\n\t\t\t\t// This implements linkable line numbers. Linkable line numbers use Line Highlight to create a link to a\n\t\t\t\t// specific line. For this to work, the pre element has to:\n\t\t\t\t//  1) have line numbers,\n\t\t\t\t//  2) have the `linkable-line-numbers` class or an ascendant that has that class, and\n\t\t\t\t//  3) have an id.\n\n\t\t\t\tif (!hasClass(pre, LINKABLE_LINE_NUMBERS_CLASS)) {\n\t\t\t\t\t// add class to pre\n\t\t\t\t\tmutateActions.push(function () {\n\t\t\t\t\t\tpre.classList.add(LINKABLE_LINE_NUMBERS_CLASS);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tvar start = parseInt(pre.getAttribute('data-start') || '1');\n\n\t\t\t\t// iterate all line number spans\n\t\t\t\t$$('.line-numbers-rows > span', pre).forEach(function (lineSpan, i) {\n\t\t\t\t\tvar lineNumber = i + start;\n\t\t\t\t\tlineSpan.onclick = function () {\n\t\t\t\t\t\tvar hash = id + '.' + lineNumber;\n\n\t\t\t\t\t\t// this will prevent scrolling since the span is obviously in view\n\t\t\t\t\t\tscrollIntoView = false;\n\t\t\t\t\t\tlocation.hash = hash;\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tscrollIntoView = true;\n\t\t\t\t\t\t}, 1);\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn function () {\n\t\t\t\tmutateActions.forEach(callFunction);\n\t\t\t};\n\t\t}\n\t};\n\n\n\tfunction applyHash() {\n\t\tvar hash = location.hash.slice(1);\n\n\t\t// Remove pre-existing temporary lines\n\t\t$$('.temporary.line-highlight').forEach(function (line) {\n\t\t\tline.parentNode.removeChild(line);\n\t\t});\n\n\t\tvar range = (hash.match(/\\.([\\d,-]+)$/) || [, ''])[1];\n\n\t\tif (!range || document.getElementById(hash)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar id = hash.slice(0, hash.lastIndexOf('.'));\n\t\tvar pre = document.getElementById(id);\n\n\t\tif (!pre) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!pre.hasAttribute('data-line')) {\n\t\t\tpre.setAttribute('data-line', '');\n\t\t}\n\n\t\tvar mutateDom = Prism.plugins.lineHighlight.highlightLines(pre, range, 'temporary ');\n\t\tmutateDom();\n\n\t\tif (scrollIntoView) {\n\t\t\tdocument.querySelector('.temporary.line-highlight').scrollIntoView();\n\t\t}\n\t}\n\n\tvar fakeTimer = 0; // Hack to limit the number of times applyHash() runs\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = env.element.parentElement;\n\t\tif (!isActiveFor(pre)) {\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\t * Cleanup for other plugins (e.g. autoloader).\n\t\t *\n\t\t * Sometimes <code> blocks are highlighted multiple times. It is necessary\n\t\t * to cleanup any left-over tags, because the whitespace inside of the <div>\n\t\t * tags change the content of the <code> tag.\n\t\t */\n\t\tvar num = 0;\n\t\t$$('.line-highlight', pre).forEach(function (line) {\n\t\t\tnum += line.textContent.length;\n\t\t\tline.parentNode.removeChild(line);\n\t\t});\n\t\t// Remove extra whitespace\n\t\tif (num && /^(?: \\n)+$/.test(env.code.slice(-num))) {\n\t\t\tenv.code = env.code.slice(0, -num);\n\t\t}\n\t});\n\n\tPrism.hooks.add('complete', function completeHook(env) {\n\t\tvar pre = env.element.parentElement;\n\t\tif (!isActiveFor(pre)) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout(fakeTimer);\n\n\t\tvar hasLineNumbers = Prism.plugins.lineNumbers;\n\t\tvar isLineNumbersLoaded = env.plugins && env.plugins.lineNumbers;\n\n\t\tif (hasClass(pre, LINE_NUMBERS_CLASS) && hasLineNumbers && !isLineNumbersLoaded) {\n\t\t\tPrism.hooks.add('line-numbers', completeHook);\n\t\t} else {\n\t\t\tvar mutateDom = Prism.plugins.lineHighlight.highlightLines(pre);\n\t\t\tmutateDom();\n\t\t\tfakeTimer = setTimeout(applyHash, 1);\n\t\t}\n\t});\n\n\twindow.addEventListener('hashchange', applyHash);\n\twindow.addEventListener('resize', function () {\n\t\tvar actions = $$('pre')\n\t\t\t.filter(isActiveFor)\n\t\t\t.map(function (pre) {\n\t\t\t\treturn Prism.plugins.lineHighlight.highlightLines(pre);\n\t\t\t});\n\t\tactions.forEach(callFunction);\n\t});\n\n}());\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t/**\n\t * Plugin name which is used as a class name for <pre> which is activating the plugin\n\t *\n\t * @type {string}\n\t */\n\tvar PLUGIN_NAME = 'line-numbers';\n\n\t/**\n\t * Regular expression used for determining line breaks\n\t *\n\t * @type {RegExp}\n\t */\n\tvar NEW_LINE_EXP = /\\n(?!$)/g;\n\n\n\t/**\n\t * Global exports\n\t */\n\tvar config = Prism.plugins.lineNumbers = {\n\t\t/**\n\t\t * Get node for provided line number\n\t\t *\n\t\t * @param {Element} element pre element\n\t\t * @param {number} number line number\n\t\t * @returns {Element|undefined}\n\t\t */\n\t\tgetLine: function (element, number) {\n\t\t\tif (element.tagName !== 'PRE' || !element.classList.contains(PLUGIN_NAME)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar lineNumberRows = element.querySelector('.line-numbers-rows');\n\t\t\tif (!lineNumberRows) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar lineNumberStart = parseInt(element.getAttribute('data-start'), 10) || 1;\n\t\t\tvar lineNumberEnd = lineNumberStart + (lineNumberRows.children.length - 1);\n\n\t\t\tif (number < lineNumberStart) {\n\t\t\t\tnumber = lineNumberStart;\n\t\t\t}\n\t\t\tif (number > lineNumberEnd) {\n\t\t\t\tnumber = lineNumberEnd;\n\t\t\t}\n\n\t\t\tvar lineIndex = number - lineNumberStart;\n\n\t\t\treturn lineNumberRows.children[lineIndex];\n\t\t},\n\n\t\t/**\n\t\t * Resizes the line numbers of the given element.\n\t\t *\n\t\t * This function will not add line numbers. It will only resize existing ones.\n\t\t *\n\t\t * @param {HTMLElement} element A `<pre>` element with line numbers.\n\t\t * @returns {void}\n\t\t */\n\t\tresize: function (element) {\n\t\t\tresizeElements([element]);\n\t\t},\n\n\t\t/**\n\t\t * Whether the plugin can assume that the units font sizes and margins are not depended on the size of\n\t\t * the current viewport.\n\t\t *\n\t\t * Setting this to `true` will allow the plugin to do certain optimizations for better performance.\n\t\t *\n\t\t * Set this to `false` if you use any of the following CSS units: `vh`, `vw`, `vmin`, `vmax`.\n\t\t *\n\t\t * @type {boolean}\n\t\t */\n\t\tassumeViewportIndependence: true\n\t};\n\n\t/**\n\t * Resizes the given elements.\n\t *\n\t * @param {HTMLElement[]} elements\n\t */\n\tfunction resizeElements(elements) {\n\t\telements = elements.filter(function (e) {\n\t\t\tvar codeStyles = getStyles(e);\n\t\t\tvar whiteSpace = codeStyles['white-space'];\n\t\t\treturn whiteSpace === 'pre-wrap' || whiteSpace === 'pre-line';\n\t\t});\n\n\t\tif (elements.length == 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar infos = elements.map(function (element) {\n\t\t\tvar codeElement = element.querySelector('code');\n\t\t\tvar lineNumbersWrapper = element.querySelector('.line-numbers-rows');\n\t\t\tif (!codeElement || !lineNumbersWrapper) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\t/** @type {HTMLElement} */\n\t\t\tvar lineNumberSizer = element.querySelector('.line-numbers-sizer');\n\t\t\tvar codeLines = codeElement.textContent.split(NEW_LINE_EXP);\n\n\t\t\tif (!lineNumberSizer) {\n\t\t\t\tlineNumberSizer = document.createElement('span');\n\t\t\t\tlineNumberSizer.className = 'line-numbers-sizer';\n\n\t\t\t\tcodeElement.appendChild(lineNumberSizer);\n\t\t\t}\n\n\t\t\tlineNumberSizer.innerHTML = '0';\n\t\t\tlineNumberSizer.style.display = 'block';\n\n\t\t\tvar oneLinerHeight = lineNumberSizer.getBoundingClientRect().height;\n\t\t\tlineNumberSizer.innerHTML = '';\n\n\t\t\treturn {\n\t\t\t\telement: element,\n\t\t\t\tlines: codeLines,\n\t\t\t\tlineHeights: [],\n\t\t\t\toneLinerHeight: oneLinerHeight,\n\t\t\t\tsizer: lineNumberSizer,\n\t\t\t};\n\t\t}).filter(Boolean);\n\n\t\tinfos.forEach(function (info) {\n\t\t\tvar lineNumberSizer = info.sizer;\n\t\t\tvar lines = info.lines;\n\t\t\tvar lineHeights = info.lineHeights;\n\t\t\tvar oneLinerHeight = info.oneLinerHeight;\n\n\t\t\tlineHeights[lines.length - 1] = undefined;\n\t\t\tlines.forEach(function (line, index) {\n\t\t\t\tif (line && line.length > 1) {\n\t\t\t\t\tvar e = lineNumberSizer.appendChild(document.createElement('span'));\n\t\t\t\t\te.style.display = 'block';\n\t\t\t\t\te.textContent = line;\n\t\t\t\t} else {\n\t\t\t\t\tlineHeights[index] = oneLinerHeight;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tinfos.forEach(function (info) {\n\t\t\tvar lineNumberSizer = info.sizer;\n\t\t\tvar lineHeights = info.lineHeights;\n\n\t\t\tvar childIndex = 0;\n\t\t\tfor (var i = 0; i < lineHeights.length; i++) {\n\t\t\t\tif (lineHeights[i] === undefined) {\n\t\t\t\t\tlineHeights[i] = lineNumberSizer.children[childIndex++].getBoundingClientRect().height;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tinfos.forEach(function (info) {\n\t\t\tvar lineNumberSizer = info.sizer;\n\t\t\tvar wrapper = info.element.querySelector('.line-numbers-rows');\n\n\t\t\tlineNumberSizer.style.display = 'none';\n\t\t\tlineNumberSizer.innerHTML = '';\n\n\t\t\tinfo.lineHeights.forEach(function (height, lineNumber) {\n\t\t\t\twrapper.children[lineNumber].style.height = height + 'px';\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Returns style declarations for the element\n\t *\n\t * @param {Element} element\n\t */\n\tfunction getStyles(element) {\n\t\tif (!element) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn window.getComputedStyle ? getComputedStyle(element) : (element.currentStyle || null);\n\t}\n\n\tvar lastWidth = undefined;\n\twindow.addEventListener('resize', function () {\n\t\tif (config.assumeViewportIndependence && lastWidth === window.innerWidth) {\n\t\t\treturn;\n\t\t}\n\t\tlastWidth = window.innerWidth;\n\n\t\tresizeElements(Array.prototype.slice.call(document.querySelectorAll('pre.' + PLUGIN_NAME)));\n\t});\n\n\tPrism.hooks.add('complete', function (env) {\n\t\tif (!env.code) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar code = /** @type {Element} */ (env.element);\n\t\tvar pre = /** @type {HTMLElement} */ (code.parentNode);\n\n\t\t// works only for <code> wrapped inside <pre> (not inline)\n\t\tif (!pre || !/pre/i.test(pre.nodeName)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Abort if line numbers already exists\n\t\tif (code.querySelector('.line-numbers-rows')) {\n\t\t\treturn;\n\t\t}\n\n\t\t// only add line numbers if <code> or one of its ancestors has the `line-numbers` class\n\t\tif (!Prism.util.isActive(code, PLUGIN_NAME)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remove the class 'line-numbers' from the <code>\n\t\tcode.classList.remove(PLUGIN_NAME);\n\t\t// Add the class 'line-numbers' to the <pre>\n\t\tpre.classList.add(PLUGIN_NAME);\n\n\t\tvar match = env.code.match(NEW_LINE_EXP);\n\t\tvar linesNum = match ? match.length + 1 : 1;\n\t\tvar lineNumbersWrapper;\n\n\t\tvar lines = new Array(linesNum + 1).join('<span></span>');\n\n\t\tlineNumbersWrapper = document.createElement('span');\n\t\tlineNumbersWrapper.setAttribute('aria-hidden', 'true');\n\t\tlineNumbersWrapper.className = 'line-numbers-rows';\n\t\tlineNumbersWrapper.innerHTML = lines;\n\n\t\tif (pre.hasAttribute('data-start')) {\n\t\t\tpre.style.counterReset = 'linenumber ' + (parseInt(pre.getAttribute('data-start'), 10) - 1);\n\t\t}\n\n\t\tenv.element.appendChild(lineNumbersWrapper);\n\n\t\tresizeElements([pre]);\n\n\t\tPrism.hooks.run('line-numbers', env);\n\t});\n\n\tPrism.hooks.add('line-numbers', function (env) {\n\t\tenv.plugins = env.plugins || {};\n\t\tenv.plugins.lineNumbers = true;\n\t});\n\n}());\n\n(function () {\n\n\tif (typeof Prism === 'undefined') {\n\t\treturn;\n\t}\n\n\tvar url = /\\b([a-z]{3,7}:\\/\\/|tel:)[\\w\\-+%~/.:=&!$'()*,;@]+(?:\\?[\\w\\-+%~/.:=?&!$'()*,;@]*)?(?:#[\\w\\-+%~/.:#=?&!$'()*,;@]*)?/;\n\tvar email = /\\b\\S+@[\\w.]+[a-z]{2}/;\n\tvar linkMd = /\\[([^\\]]+)\\]\\(([^)]+)\\)/;\n\n\t// Tokens that may contain URLs and emails\n\tvar candidates = ['comment', 'url', 'attr-value', 'string'];\n\n\tPrism.plugins.autolinker = {\n\t\tprocessGrammar: function (grammar) {\n\t\t\t// Abort if grammar has already been processed\n\t\t\tif (!grammar || grammar['url-link']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tPrism.languages.DFS(grammar, function (key, def, type) {\n\t\t\t\tif (candidates.indexOf(type) > -1 && !Array.isArray(def)) {\n\t\t\t\t\tif (!def.pattern) {\n\t\t\t\t\t\tdef = this[key] = {\n\t\t\t\t\t\t\tpattern: def\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tdef.inside = def.inside || {};\n\n\t\t\t\t\tif (type == 'comment') {\n\t\t\t\t\t\tdef.inside['md-link'] = linkMd;\n\t\t\t\t\t}\n\t\t\t\t\tif (type == 'attr-value') {\n\t\t\t\t\t\tPrism.languages.insertBefore('inside', 'punctuation', { 'url-link': url }, def);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdef.inside['url-link'] = url;\n\t\t\t\t\t}\n\n\t\t\t\t\tdef.inside['email-link'] = email;\n\t\t\t\t}\n\t\t\t});\n\t\t\tgrammar['url-link'] = url;\n\t\t\tgrammar['email-link'] = email;\n\t\t}\n\t};\n\n\tPrism.hooks.add('before-highlight', function (env) {\n\t\tPrism.plugins.autolinker.processGrammar(env.grammar);\n\t});\n\n\tPrism.hooks.add('wrap', function (env) {\n\t\tif (/-link$/.test(env.type)) {\n\t\t\tenv.tag = 'a';\n\n\t\t\tvar href = env.content;\n\n\t\t\tif (env.type == 'email-link' && href.indexOf('mailto:') != 0) {\n\t\t\t\thref = 'mailto:' + href;\n\t\t\t} else if (env.type == 'md-link') {\n\t\t\t\t// Markdown\n\t\t\t\tvar match = env.content.match(linkMd);\n\n\t\t\t\thref = match[2];\n\t\t\t\tenv.content = match[1];\n\t\t\t}\n\n\t\t\tenv.attributes.href = href;\n\n\t\t\t// Silently catch any error thrown by decodeURIComponent (#1186)\n\t\t\ttry {\n\t\t\t\tenv.content = decodeURIComponent(env.content);\n\t\t\t} catch (e) { /* noop */ }\n\t\t}\n\t});\n\n}());\n\n(function () {\n\n\tif (typeof Prism === 'undefined') {\n\t\treturn;\n\t}\n\n\tvar assign = Object.assign || function (obj1, obj2) {\n\t\tfor (var name in obj2) {\n\t\t\tif (obj2.hasOwnProperty(name)) {\n\t\t\t\tobj1[name] = obj2[name];\n\t\t\t}\n\t\t}\n\t\treturn obj1;\n\t};\n\n\tfunction NormalizeWhitespace(defaults) {\n\t\tthis.defaults = assign({}, defaults);\n\t}\n\n\tfunction toCamelCase(value) {\n\t\treturn value.replace(/-(\\w)/g, function (match, firstChar) {\n\t\t\treturn firstChar.toUpperCase();\n\t\t});\n\t}\n\n\tfunction tabLen(str) {\n\t\tvar res = 0;\n\t\tfor (var i = 0; i < str.length; ++i) {\n\t\t\tif (str.charCodeAt(i) == '\\t'.charCodeAt(0)) {\n\t\t\t\tres += 3;\n\t\t\t}\n\t\t}\n\t\treturn str.length + res;\n\t}\n\n\tvar settingsConfig = {\n\t\t'remove-trailing': 'boolean',\n\t\t'remove-indent': 'boolean',\n\t\t'left-trim': 'boolean',\n\t\t'right-trim': 'boolean',\n\t\t'break-lines': 'number',\n\t\t'indent': 'number',\n\t\t'remove-initial-line-feed': 'boolean',\n\t\t'tabs-to-spaces': 'number',\n\t\t'spaces-to-tabs': 'number',\n\t};\n\n\tNormalizeWhitespace.prototype = {\n\t\tsetDefaults: function (defaults) {\n\t\t\tthis.defaults = assign(this.defaults, defaults);\n\t\t},\n\t\tnormalize: function (input, settings) {\n\t\t\tsettings = assign(this.defaults, settings);\n\n\t\t\tfor (var name in settings) {\n\t\t\t\tvar methodName = toCamelCase(name);\n\t\t\t\tif (name !== 'normalize' && methodName !== 'setDefaults' &&\n\t\t\t\t\tsettings[name] && this[methodName]) {\n\t\t\t\t\tinput = this[methodName].call(this, input, settings[name]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn input;\n\t\t},\n\n\t\t/*\n\t\t * Normalization methods\n\t\t */\n\t\tleftTrim: function (input) {\n\t\t\treturn input.replace(/^\\s+/, '');\n\t\t},\n\t\trightTrim: function (input) {\n\t\t\treturn input.replace(/\\s+$/, '');\n\t\t},\n\t\ttabsToSpaces: function (input, spaces) {\n\t\t\tspaces = spaces|0 || 4;\n\t\t\treturn input.replace(/\\t/g, new Array(++spaces).join(' '));\n\t\t},\n\t\tspacesToTabs: function (input, spaces) {\n\t\t\tspaces = spaces|0 || 4;\n\t\t\treturn input.replace(RegExp(' {' + spaces + '}', 'g'), '\\t');\n\t\t},\n\t\tremoveTrailing: function (input) {\n\t\t\treturn input.replace(/\\s*?$/gm, '');\n\t\t},\n\t\t// Support for deprecated plugin remove-initial-line-feed\n\t\tremoveInitialLineFeed: function (input) {\n\t\t\treturn input.replace(/^(?:\\r?\\n|\\r)/, '');\n\t\t},\n\t\tremoveIndent: function (input) {\n\t\t\tvar indents = input.match(/^[^\\S\\n\\r]*(?=\\S)/gm);\n\n\t\t\tif (!indents || !indents[0].length) {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tindents.sort(function (a, b) { return a.length - b.length; });\n\n\t\t\tif (!indents[0].length) {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\treturn input.replace(RegExp('^' + indents[0], 'gm'), '');\n\t\t},\n\t\tindent: function (input, tabs) {\n\t\t\treturn input.replace(/^[^\\S\\n\\r]*(?=\\S)/gm, new Array(++tabs).join('\\t') + '$&');\n\t\t},\n\t\tbreakLines: function (input, characters) {\n\t\t\tcharacters = (characters === true) ? 80 : characters|0 || 80;\n\n\t\t\tvar lines = input.split('\\n');\n\t\t\tfor (var i = 0; i < lines.length; ++i) {\n\t\t\t\tif (tabLen(lines[i]) <= characters) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar line = lines[i].split(/(\\s+)/g);\n\t\t\t\tvar len = 0;\n\n\t\t\t\tfor (var j = 0; j < line.length; ++j) {\n\t\t\t\t\tvar tl = tabLen(line[j]);\n\t\t\t\t\tlen += tl;\n\t\t\t\t\tif (len > characters) {\n\t\t\t\t\t\tline[j] = '\\n' + line[j];\n\t\t\t\t\t\tlen = tl;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlines[i] = line.join('');\n\t\t\t}\n\t\t\treturn lines.join('\\n');\n\t\t}\n\t};\n\n\t// Support node modules\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = NormalizeWhitespace;\n\t}\n\n\tPrism.plugins.NormalizeWhitespace = new NormalizeWhitespace({\n\t\t'remove-trailing': true,\n\t\t'remove-indent': true,\n\t\t'left-trim': true,\n\t\t'right-trim': true,\n\t\t/*'break-lines': 80,\n\t\t'indent': 2,\n\t\t'remove-initial-line-feed': false,\n\t\t'tabs-to-spaces': 4,\n\t\t'spaces-to-tabs': 4*/\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar Normalizer = Prism.plugins.NormalizeWhitespace;\n\n\t\t// Check settings\n\t\tif (env.settings && env.settings['whitespace-normalization'] === false) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check classes\n\t\tif (!Prism.util.isActive(env.element, 'whitespace-normalization', true)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Simple mode if there is no env.element\n\t\tif ((!env.element || !env.element.parentNode) && env.code) {\n\t\t\tenv.code = Normalizer.normalize(env.code, env.settings);\n\t\t\treturn;\n\t\t}\n\n\t\t// Normal mode\n\t\tvar pre = env.element.parentNode;\n\t\tif (!env.code || !pre || pre.nodeName.toLowerCase() !== 'pre') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (env.settings == null) { env.settings = {}; }\n\n\t\t// Read settings from 'data-' attributes\n\t\tfor (var key in settingsConfig) {\n\t\t\tif (Object.hasOwnProperty.call(settingsConfig, key)) {\n\t\t\t\tvar settingType = settingsConfig[key];\n\t\t\t\tif (pre.hasAttribute('data-' + key)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar value = JSON.parse(pre.getAttribute('data-' + key) || 'true');\n\t\t\t\t\t\tif (typeof value === settingType) {\n\t\t\t\t\t\t\tenv.settings[key] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (_error) {\n\t\t\t\t\t\t// ignore error\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar children = pre.childNodes;\n\t\tvar before = '';\n\t\tvar after = '';\n\t\tvar codeFound = false;\n\n\t\t// Move surrounding whitespace from the <pre> tag into the <code> tag\n\t\tfor (var i = 0; i < children.length; ++i) {\n\t\t\tvar node = children[i];\n\n\t\t\tif (node == env.element) {\n\t\t\t\tcodeFound = true;\n\t\t\t} else if (node.nodeName === '#text') {\n\t\t\t\tif (codeFound) {\n\t\t\t\t\tafter += node.nodeValue;\n\t\t\t\t} else {\n\t\t\t\t\tbefore += node.nodeValue;\n\t\t\t\t}\n\n\t\t\t\tpre.removeChild(node);\n\t\t\t\t--i;\n\t\t\t}\n\t\t}\n\n\t\tif (!env.element.children.length || !Prism.plugins.KeepMarkup) {\n\t\t\tenv.code = before + env.code + after;\n\t\t\tenv.code = Normalizer.normalize(env.code, env.settings);\n\t\t} else {\n\t\t\t// Preserve markup for keep-markup plugin\n\t\t\tvar html = before + env.element.innerHTML + after;\n\t\t\tenv.element.innerHTML = Normalizer.normalize(html, env.settings);\n\t\t\tenv.code = env.element.textContent;\n\t\t}\n\t});\n\n}());\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\tvar callbacks = [];\n\tvar map = {};\n\tvar noop = function () {};\n\n\tPrism.plugins.toolbar = {};\n\n\t/**\n\t * @typedef ButtonOptions\n\t * @property {string} text The text displayed.\n\t * @property {string} [url] The URL of the link which will be created.\n\t * @property {Function} [onClick] The event listener for the `click` event of the created button.\n\t * @property {string} [className] The class attribute to include with element.\n\t */\n\n\t/**\n\t * Register a button callback with the toolbar.\n\t *\n\t * @param {string} key\n\t * @param {ButtonOptions|Function} opts\n\t */\n\tvar registerButton = Prism.plugins.toolbar.registerButton = function (key, opts) {\n\t\tvar callback;\n\n\t\tif (typeof opts === 'function') {\n\t\t\tcallback = opts;\n\t\t} else {\n\t\t\tcallback = function (env) {\n\t\t\t\tvar element;\n\n\t\t\t\tif (typeof opts.onClick === 'function') {\n\t\t\t\t\telement = document.createElement('button');\n\t\t\t\t\telement.type = 'button';\n\t\t\t\t\telement.addEventListener('click', function () {\n\t\t\t\t\t\topts.onClick.call(this, env);\n\t\t\t\t\t});\n\t\t\t\t} else if (typeof opts.url === 'string') {\n\t\t\t\t\telement = document.createElement('a');\n\t\t\t\t\telement.href = opts.url;\n\t\t\t\t} else {\n\t\t\t\t\telement = document.createElement('span');\n\t\t\t\t}\n\n\t\t\t\tif (opts.className) {\n\t\t\t\t\telement.classList.add(opts.className);\n\t\t\t\t}\n\n\t\t\t\telement.textContent = opts.text;\n\n\t\t\t\treturn element;\n\t\t\t};\n\t\t}\n\n\t\tif (key in map) {\n\t\t\tconsole.warn('There is a button with the key \"' + key + '\" registered already.');\n\t\t\treturn;\n\t\t}\n\n\t\tcallbacks.push(map[key] = callback);\n\t};\n\n\t/**\n\t * Returns the callback order of the given element.\n\t *\n\t * @param {HTMLElement} element\n\t * @returns {string[] | undefined}\n\t */\n\tfunction getOrder(element) {\n\t\twhile (element) {\n\t\t\tvar order = element.getAttribute('data-toolbar-order');\n\t\t\tif (order != null) {\n\t\t\t\torder = order.trim();\n\t\t\t\tif (order.length) {\n\t\t\t\t\treturn order.split(/\\s*,\\s*/g);\n\t\t\t\t} else {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t}\n\t\t\telement = element.parentElement;\n\t\t}\n\t}\n\n\t/**\n\t * Post-highlight Prism hook callback.\n\t *\n\t * @param env\n\t */\n\tvar hook = Prism.plugins.toolbar.hook = function (env) {\n\t\t// Check if inline or actual code block (credit to line-numbers plugin)\n\t\tvar pre = env.element.parentNode;\n\t\tif (!pre || !/pre/i.test(pre.nodeName)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Autoloader rehighlights, so only do this once.\n\t\tif (pre.parentNode.classList.contains('code-toolbar')) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Create wrapper for <pre> to prevent scrolling toolbar with content\n\t\tvar wrapper = document.createElement('div');\n\t\twrapper.classList.add('code-toolbar');\n\t\tpre.parentNode.insertBefore(wrapper, pre);\n\t\twrapper.appendChild(pre);\n\n\t\t// Setup the toolbar\n\t\tvar toolbar = document.createElement('div');\n\t\ttoolbar.classList.add('toolbar');\n\n\t\t// order callbacks\n\t\tvar elementCallbacks = callbacks;\n\t\tvar order = getOrder(env.element);\n\t\tif (order) {\n\t\t\telementCallbacks = order.map(function (key) {\n\t\t\t\treturn map[key] || noop;\n\t\t\t});\n\t\t}\n\n\t\telementCallbacks.forEach(function (callback) {\n\t\t\tvar element = callback(env);\n\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = document.createElement('div');\n\t\t\titem.classList.add('toolbar-item');\n\n\t\t\titem.appendChild(element);\n\t\t\ttoolbar.appendChild(item);\n\t\t});\n\n\t\t// Add our toolbar to the currently created wrapper of <pre> tag\n\t\twrapper.appendChild(toolbar);\n\t};\n\n\tregisterButton('label', function (env) {\n\t\tvar pre = env.element.parentNode;\n\t\tif (!pre || !/pre/i.test(pre.nodeName)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!pre.hasAttribute('data-label')) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar element; var template;\n\t\tvar text = pre.getAttribute('data-label');\n\t\ttry {\n\t\t\t// Any normal text will blow up this selector.\n\t\t\ttemplate = document.querySelector('template#' + text);\n\t\t} catch (e) { /* noop */ }\n\n\t\tif (template) {\n\t\t\telement = template.content;\n\t\t} else {\n\t\t\tif (pre.hasAttribute('data-url')) {\n\t\t\t\telement = document.createElement('a');\n\t\t\t\telement.href = pre.getAttribute('data-url');\n\t\t\t} else {\n\t\t\t\telement = document.createElement('span');\n\t\t\t}\n\n\t\t\telement.textContent = text;\n\t\t}\n\n\t\treturn element;\n\t});\n\n\t/**\n\t * Register the toolbar with Prism.\n\t */\n\tPrism.hooks.add('complete', hook);\n}());\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\tif (!Prism.plugins.toolbar) {\n\t\tconsole.warn('Copy to Clipboard plugin loaded before Toolbar plugin.');\n\n\t\treturn;\n\t}\n\n\t/**\n\t * When the given elements is clicked by the user, the given text will be copied to clipboard.\n\t *\n\t * @param {HTMLElement} element\n\t * @param {CopyInfo} copyInfo\n\t *\n\t * @typedef CopyInfo\n\t * @property {() => string} getText\n\t * @property {() => void} success\n\t * @property {(reason: unknown) => void} error\n\t */\n\tfunction registerClipboard(element, copyInfo) {\n\t\telement.addEventListener('click', function () {\n\t\t\tcopyTextToClipboard(copyInfo);\n\t\t});\n\t}\n\n\t// https://stackoverflow.com/a/30810322/7595472\n\n\t/** @param {CopyInfo} copyInfo */\n\tfunction fallbackCopyTextToClipboard(copyInfo) {\n\t\tvar textArea = document.createElement('textarea');\n\t\ttextArea.value = copyInfo.getText();\n\n\t\t// Avoid scrolling to bottom\n\t\ttextArea.style.top = '0';\n\t\ttextArea.style.left = '0';\n\t\ttextArea.style.position = 'fixed';\n\n\t\tdocument.body.appendChild(textArea);\n\t\ttextArea.focus();\n\t\ttextArea.select();\n\n\t\ttry {\n\t\t\tvar successful = document.execCommand('copy');\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (successful) {\n\t\t\t\t\tcopyInfo.success();\n\t\t\t\t} else {\n\t\t\t\t\tcopyInfo.error();\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t} catch (err) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tcopyInfo.error(err);\n\t\t\t}, 1);\n\t\t}\n\n\t\tdocument.body.removeChild(textArea);\n\t}\n\t/** @param {CopyInfo} copyInfo */\n\tfunction copyTextToClipboard(copyInfo) {\n\t\tif (navigator.clipboard) {\n\t\t\tnavigator.clipboard.writeText(copyInfo.getText()).then(copyInfo.success, function () {\n\t\t\t\t// try the fallback in case `writeText` didn't work\n\t\t\t\tfallbackCopyTextToClipboard(copyInfo);\n\t\t\t});\n\t\t} else {\n\t\t\tfallbackCopyTextToClipboard(copyInfo);\n\t\t}\n\t}\n\n\t/**\n\t * Selects the text content of the given element.\n\t *\n\t * @param {Element} element\n\t */\n\tfunction selectElementText(element) {\n\t\t// https://stackoverflow.com/a/20079910/7595472\n\t\twindow.getSelection().selectAllChildren(element);\n\t}\n\n\t/**\n\t * Traverses up the DOM tree to find data attributes that override the default plugin settings.\n\t *\n\t * @param {Element} startElement An element to start from.\n\t * @returns {Settings} The plugin settings.\n\t * @typedef {Record<\"copy\" | \"copy-error\" | \"copy-success\" | \"copy-timeout\", string | number>} Settings\n\t */\n\tfunction getSettings(startElement) {\n\t\t/** @type {Settings} */\n\t\tvar settings = {\n\t\t\t'copy': 'Copy',\n\t\t\t'copy-error': 'Press Ctrl+C to copy',\n\t\t\t'copy-success': 'Copied!',\n\t\t\t'copy-timeout': 5000\n\t\t};\n\n\t\tvar prefix = 'data-prismjs-';\n\t\tfor (var key in settings) {\n\t\t\tvar attr = prefix + key;\n\t\t\tvar element = startElement;\n\t\t\twhile (element && !element.hasAttribute(attr)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\tsettings[key] = element.getAttribute(attr);\n\t\t\t}\n\t\t}\n\t\treturn settings;\n\t}\n\n\tPrism.plugins.toolbar.registerButton('copy-to-clipboard', function (env) {\n\t\tvar element = env.element;\n\n\t\tvar settings = getSettings(element);\n\n\t\tvar linkCopy = document.createElement('button');\n\t\tlinkCopy.className = 'copy-to-clipboard-button';\n\t\tlinkCopy.setAttribute('type', 'button');\n\t\tvar linkSpan = document.createElement('span');\n\t\tlinkCopy.appendChild(linkSpan);\n\n\t\tsetState('copy');\n\n\t\tregisterClipboard(linkCopy, {\n\t\t\tgetText: function () {\n\t\t\t\treturn element.textContent;\n\t\t\t},\n\t\t\tsuccess: function () {\n\t\t\t\tsetState('copy-success');\n\n\t\t\t\tresetText();\n\t\t\t},\n\t\t\terror: function () {\n\t\t\t\tsetState('copy-error');\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tselectElementText(element);\n\t\t\t\t}, 1);\n\n\t\t\t\tresetText();\n\t\t\t}\n\t\t});\n\n\t\treturn linkCopy;\n\n\t\tfunction resetText() {\n\t\t\tsetTimeout(function () { setState('copy'); }, settings['copy-timeout']);\n\t\t}\n\n\t\t/** @param {\"copy\" | \"copy-error\" | \"copy-success\"} state */\n\t\tfunction setState(state) {\n\t\t\tlinkSpan.textContent = settings[state];\n\t\t\tlinkCopy.setAttribute('data-copy-state', state);\n\t\t}\n\t});\n}());\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","// JS Dependencies: Popper, Bootstrap\nimport '@popperjs/core';\nimport * as bootstrap from 'bootstrap';\nimport * as Utilities from './forum/utilities';\nimport * as Attachments from './forum/attachments';\nimport * as Albums from './forum/albums';\nimport * as Notifications from './forum/notifications';\nimport Choices from './choices/assets/scripts/choices.js';\nimport Lightbox from './bs5-lightbox/index.js';\nimport './prism.js';\nimport Notify from '@w8tcha/bootstrap-notify';\nimport bootbox from './bootbox.js';\nimport './forum/bootstrap-touchspin';\nimport './forum/hoverCard';\nimport 'long-press-event';\nimport './forum/similarTitles';\nimport './forum/paging';\nimport './forum/modals';\nimport './forum/notificationHub';\nimport './forum/contextMenu';\nimport './form-serialize/index.js';\nconst _global = (window /* browser */ || global /* node */);\n_global.bootstrap = bootstrap;\n_global.Choices = Choices;\n_global.Notify = Notify;\n_global.loadSelectMenus = loadSelectMenus;\n_global.bootbox = bootbox;\n// Generic Functions\ndocument.addEventListener('DOMContentLoaded', () => {\n    const loginButton = document.querySelector('a.btn-login,input.btn-login, .btn-spinner');\n    if (loginButton) {\n        loginButton.addEventListener('click', (event) => {\n            const button = event.target;\n            button.innerHTML = \"<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'></span> Loading...\";\n            button.classList.add('disabled');\n        });\n    }\n    // Gallery\n    document.querySelectorAll('[data-toggle=\"lightbox\"]').forEach(element => {\n        element.addEventListener('click', Lightbox.initialize);\n    });\n    loadSelectMenus();\n    const postAttachmentListPlaceholder = document.getElementById('PostAttachmentListPlaceholder');\n    if (postAttachmentListPlaceholder !== null) {\n        const pageSize = 5;\n        const pageNumber = 0;\n        Attachments.getPaginationData(pageSize, pageNumber, false);\n    }\n    // Render Album Images DropDown\n    const postAlbumsListPlaceholder = document.getElementById('PostAlbumsListPlaceholder');\n    if (postAlbumsListPlaceholder !== null) {\n        const pageSize = 5;\n        const pageNumber = 0;\n        Albums.getAlbumImagesData(pageSize, pageNumber, false);\n    }\n    // Notify dropdown\n    const dropdownNotify = document.querySelector('.dropdown-notify');\n    if (dropdownNotify) {\n        dropdownNotify.addEventListener('show.bs.dropdown', () => {\n            const pageSize = 5;\n            const pageNumber = 0;\n            Notifications.getNotifyData(pageSize, pageNumber, false);\n        });\n    }\n    _global.Prism.highlightAll();\n    Utilities.renderAttachPreview('.attachments-preview');\n    document.querySelectorAll('.thanks-popover').forEach(thanks => {\n        const popover = new bootstrap.Popover(thanks, {\n            template: '<div class=\"popover\" role=\"tooltip\"><div class=\"popover-arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body popover-body-scrollable\"></div></div>'\n        });\n        thanks.addEventListener('show.bs.popover', () => {\n            const messageId = thanks.dataset.messageid;\n            fetch(`/api/ThankYou/GetThanks/${messageId}`, {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json;charset=utf-8',\n                    'RequestVerificationToken': document.querySelector('input[name=\"__RequestVerificationToken\"]').value\n                }\n            })\n                .then(res => res.json())\n                .then(response => {\n                const popoverList = document.getElementById(`popover-list-${messageId}`);\n                if (popoverList) {\n                    popoverList.innerHTML = response.thanksInfo;\n                }\n            });\n        });\n    });\n    document.querySelectorAll('.attachedImage').forEach(imageLink => {\n        var parentNode = imageLink.parentNode;\n        const messageId = parentNode === null || parentNode === void 0 ? void 0 : parentNode.id;\n        imageLink.setAttribute('data-gallery', `gallery-${messageId}`);\n    });\n    const scrollToTopBtn = document.querySelector('.btn-scroll');\n    const rootElement = document.documentElement;\n    if (scrollToTopBtn) {\n        function handleScroll() {\n            const scrollTotal = rootElement.scrollHeight - rootElement.clientHeight;\n            if ((rootElement.scrollTop / scrollTotal) > 0.15) {\n                // Show button\n                scrollToTopBtn.classList.add('show-btn-scroll');\n            }\n            else {\n                // Hide button\n                scrollToTopBtn.classList.remove('show-btn-scroll');\n            }\n        }\n        function scrollToTop(e) {\n            e.preventDefault();\n            // Scroll to top logic\n            rootElement.scrollTo({\n                top: 0,\n                behavior: 'smooth'\n            });\n        }\n        scrollToTopBtn.addEventListener('click', scrollToTop);\n        document.addEventListener('scroll', handleScroll);\n    }\n});\nfunction loadSelectMenus() {\n    document.querySelectorAll('[data-bs-toggle=\"tooltip\"]').forEach(toolTip => {\n        return new bootstrap.Tooltip(toolTip);\n    });\n    document.querySelectorAll('.dropdown-menu a.dropdown-toggle').forEach(menu => {\n        menu.addEventListener('click', (event) => {\n            const $el = menu;\n            const $subMenu = $el.nextElementSibling;\n            document.querySelectorAll('.dropdown-menu .show').forEach(dropDownMenu => {\n                dropDownMenu.classList.remove('show');\n            });\n            if ($subMenu) {\n                $subMenu.classList.add('show');\n                $subMenu.style.top = `${$el.offsetTop - 10}px`;\n                $subMenu.style.left = `${$el.offsetWidth - 4}px`;\n            }\n            event.stopPropagation();\n        });\n    });\n    document.querySelectorAll('.yafnet .select2-select').forEach(select => {\n        const choice = new Choices(select, {\n            allowHTML: true,\n            shouldSort: false,\n            placeholderValue: select.getAttribute('placeholder') || '',\n            classNames: { containerOuter: ['choices', 'w-100'] }\n        });\n    });\n    document.querySelectorAll('.yafnet .select2-image-select').forEach(select => {\n        var selectedValue = select.value;\n        var groups = new Array();\n        document.querySelectorAll('.yafnet .select2-image-select option[data-category]').forEach(option => {\n            var group = option.dataset.category.trim();\n            if (groups.indexOf(group) === -1) {\n                groups.push(group);\n            }\n        });\n        groups.forEach(group => {\n            document.querySelectorAll('.yafnet .select2-image-select').forEach(s => {\n                var optionGroups = new Array();\n                s.querySelectorAll(`option[data-category='${group}']`).forEach(option => {\n                    if (optionGroups.indexOf(option) === -1) {\n                        optionGroups.push(option);\n                    }\n                });\n                const optionGroupElement = document.createElement('optgroup');\n                optionGroupElement.label = group;\n                optionGroups.forEach(option => {\n                    option.replaceWith(optionGroupElement);\n                    optionGroupElement.appendChild(option);\n                });\n            });\n        });\n        select.value = selectedValue;\n        const choice = new Choices(select, {\n            classNames: { containerOuter: ['choices', 'w-100'] },\n            allowHTML: true,\n            shouldSort: false,\n            removeItemButton: select.dataset.allowClear === 'true',\n            placeholderValue: select.getAttribute('placeholder'),\n            callbackOnCreateTemplates: function (template) {\n                var itemSelectText = this.config.itemSelectText;\n                const removeItemButton = this.config.removeItemButton;\n                return {\n                    item({ classNames }, data) {\n                        let label = data.label;\n                        if (data.customProperties) {\n                            let json;\n                            try {\n                                json = JSON.parse(data.customProperties);\n                            }\n                            catch (e) {\n                                json = data.customProperties;\n                            }\n                            label = json.label === undefined ? data.label : json.label;\n                        }\n                        return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(data.highlighted\n                            ? classNames.highlightedState\n                            : classNames.itemSelectable)} ${String(data.placeholder ? classNames.placeholder : '')}\"\r\n                                      data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(removeItemButton ? 'data-deletable' : '')}\r\n                                      ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                            ? 'aria-disabled=\"true\"'\n                            : '')}>\r\n                                    ${String(label)}\r\n                                    ${String(removeItemButton\n                            ? `<button type=\"button\" class=\"${String(classNames.button)}\" aria-label=\"Remove item: '${String(data.value)}'\" data-button=\"\">Remove item</button>`\n                            : '')}\r\n                                 </div>\r\n                                `);\n                    },\n                    choice({ classNames }, data) {\n                        let label = data.label;\n                        if (data.customProperties) {\n                            let json;\n                            try {\n                                json = JSON.parse(data.customProperties);\n                            }\n                            catch (e) {\n                                json = data.customProperties;\n                            }\n                            label = json.label === undefined ? data.label : json.label;\n                        }\n                        return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(classNames.itemChoice)} ${String(data.disabled ? classNames.itemDisabled : classNames.itemSelectable)}\"\r\n                                      data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                            ? 'data-choice-disabled aria-disabled=\"true\"'\n                            : 'data-choice-selectable')}\r\n                                      data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                                      ${String(label)}\r\n                                 </div>\r\n                                 `);\n                    }\n                };\n            }\n        });\n        choice.passedElement.element.addEventListener('choice', (event) => {\n            var _a;\n            const customEvent = event;\n            if ((_a = customEvent.detail) === null || _a === void 0 ? void 0 : _a.customProperties) {\n                let json;\n                try {\n                    json = JSON.parse(customEvent.detail.customProperties);\n                }\n                catch (e) {\n                    json = customEvent.detail.customProperties;\n                }\n                if (json.url !== undefined) {\n                    window.location.href = json.url;\n                }\n            }\n        });\n    });\n}\n"],"names":["AbortController","constructor","this","_isAborted","onabort","abort","signal","aborted","AccessTokenHttpClient","HttpClient","innerClient","accessTokenFactory","super","_innerClient","_accessTokenFactory","send","request","allowRetry","_accessToken","url","indexOf","_setAuthorizationHeader","response","statusCode","headers","HeaderNames","Authorization","getCookieString","DefaultHttpClient","logger","fetch","Platform","isNode","_httpClient","FetchHttpClient","XMLHttpRequest","Error","XhrHttpClient","abortSignal","Promise","reject","AbortError","method","DEFAULT_RETRY_DELAYS_IN_MILLISECONDS","DefaultReconnectPolicy","retryDelays","_retryDelays","undefined","nextRetryDelayInMilliseconds","retryContext","previousRetryCount","HttpError","errorMessage","trueProto","prototype","__proto__","TimeoutError","UnsupportedTransportError","message","transport","errorType","DisabledTransportError","FailedToStartTransportError","FailedToNegotiateWithServerError","AggregateErrors","innerErrors","_logger","requireFunc","_jar","CookieJar","_fetchType","bind","getGlobalThis","_abortControllerType","abortController","error","timeoutId","timeout","msTimeout","setTimeout","log","LogLevel","Warning","content","isArrayBuffer","body","cache","credentials","withCredentials","mode","redirect","e","clearTimeout","ok","deserializeContent","statusText","status","responseType","payload","HttpResponse","cookies","getCookies","c","join","arrayBuffer","text","HandshakeProtocol","writeHandshakeRequest","handshakeRequest","TextMessageFormat","write","JSON","stringify","parseHandshakeResponse","data","messageData","remainingData","binaryData","Uint8Array","separatorIndex","RecordSeparatorCode","responseLength","String","fromCharCode","apply","Array","slice","call","byteLength","buffer","textData","RecordSeparator","substring","length","messages","parse","type","Cookie","get","options","post","HttpConnection","_stopPromiseResolver","features","_negotiateVersion","Arg","isRequired","createLogger","baseUrl","_resolveUrl","logMessageContent","webSocketModule","eventSourceModule","WebSocket","EventSource","httpClient","_connectionState","_connectionStarted","_options","onreceive","onclose","start","transferFormat","TransferFormat","Binary","isIn","Debug","_startInternalPromise","_startInternal","_stopPromise","_sendQueue","TransportSendQueue","stop","resolve","_stopInternal","_stopError","_stopConnection","skipNegotiation","HttpTransportType","WebSockets","_constructTransport","_startTransport","negotiateResponse","redirects","_getNegotiationResponse","ProtocolVersion","accessToken","_createTransport","LongPollingTransport","inherentKeepAlive","name","value","getUserAgentHeader","negotiateUrl","_resolveNegotiateUrl","negotiateVersion","connectionToken","connectionId","useStatefulReconnect","_useStatefulReconnect","_createConnectUrl","requestedTransport","requestedTransferFormat","connectUrl","_isITransport","transportExceptions","transports","availableTransports","negotiate","endpoint","transportOrError","_resolveTransportOrError","push","ex","WebSocketTransport","ServerSentEvents","ServerSentEventsTransport","LongPolling","reconnect","async","callStop","disconnected","connect","resend","actualTransport","transportMatches","transferFormats","map","s","Information","catch","lastIndexOf","isBrowser","aTag","window","document","createElement","href","URL","pathname","endsWith","searchParams","URLSearchParams","has","append","toString","search","_transport","_buffer","_executing","_sendBufferedData","PromiseSource","_transportResult","_sendLoopPromise","_sendLoop","_bufferData","promise","transportResult","_concatBuffers","arrayBuffers","totalLength","b","reduce","a","result","offset","item","set","_resolver","_rejecter","reason","HubConnectionState","HubConnection","create","connection","protocol","reconnectPolicy","serverTimeoutInMilliseconds","keepAliveIntervalInMilliseconds","statefulReconnectBufferSize","_nextKeepAlive","_freezeEventListener","_statefulReconnectBufferSize","_protocol","_reconnectPolicy","_handshakeProtocol","_processIncomingData","_connectionClosed","_callbacks","_methods","_closedCallbacks","_reconnectingCallbacks","_reconnectedCallbacks","_invocationId","_receivedHandshakeResponse","Disconnected","_cachedPingMessage","writeMessage","MessageType","Ping","state","Reconnecting","_startPromise","_startWithStateTransitions","Connecting","addEventListener","Connected","_stopDuringStartError","handshakePromise","_handshakeResolver","_handshakeRejecter","version","_sendMessage","_cleanupTimeout","_resetTimeoutPeriod","_resetKeepAliveInterval","_messageBuffer","MessageBuffer","_disconnected","_resend","_cleanupPingTimer","startPromise","Disconnecting","_reconnectDelayHandle","_completeClose","_sendCloseMessage","_sendWithProtocol","_createCloseMessage","stream","methodName","args","streams","streamIds","_replaceStreamingParams","invocationDescriptor","_createStreamInvocation","promiseQueue","subject","Subject","cancelCallback","cancelInvocation","_createCancelInvocation","invocationId","then","invocationEvent","Completion","complete","next","_launchStreams","_send","sendPromise","_createInvocation","invoke","on","newMethod","toLowerCase","off","handlers","removeIdx","splice","callback","onreconnecting","onreconnected","_processHandshakeResponse","parseMessages","_shouldProcessMessage","Invocation","_invokeClientMethod","getErrorString","StreamItem","Close","allowReconnect","Ack","_ack","Sequence","_resetSequence","responseMessage","Date","getTime","_timeoutHandle","serverTimeout","_pingServerHandle","nextPing","invocationMessage","target","methods","_createCompletionMessage","methodsCopy","expectsResponse","res","exception","completionMessage","m","prevRes","arguments","_cancelCallbacksWithError","_reconnect","_dispose","removeEventListener","forEach","reconnectStartTime","now","previousReconnectAttempts","retryError","nextRetryDelay","_getNextRetryDelay","elapsedMilliseconds","retryReason","callbacks","Object","keys","key","nonblocking","streamId","subscribe","err","_createStreamItemMessage","i","argument","_isObservable","arg","StreamInvocation","id","CancelInvocation","LogLevelNameMapping","trace","Trace","debug","info","information","warn","warning","critical","Critical","none","None","HubConnectionBuilder","configureLogging","logging","logLevel","mapping","parseLogLevel","ConsoleLogger","withUrl","transportTypeOrOptions","isNotEmpty","httpConnectionOptions","withHubProtocol","withAutomaticReconnect","retryDelaysOrReconnectPolicy","isArray","withServerTimeout","milliseconds","_serverTimeoutInMilliseconds","withKeepAliveInterval","_keepAliveIntervalInMilliseconds","withStatefulReconnect","bufferSize","build","NullLogger","instance","JsonHubProtocol","Text","input","hubMessages","parsedMessage","_isInvocationMessage","_isStreamItemMessage","_isCompletionMessage","_isAckMessage","_isSequenceMessage","_assertNotEmptyString","sequenceId","_logLevel","_message","pollAborted","_pollAbort","_running","_url","pollOptions","pollUrl","_closeError","_receiving","_poll","getDataDetail","_raiseOnClose","sendMessage","deleteOptions","delete","logMessage","_bufferSize","_messages","_totalMessageCount","_waitForSequenceMessage","_nextReceivingSequenceId","_latestReceivedSequenceId","_bufferedByteCount","_reconnectInProgress","_connection","serializedMessage","backpressurePromise","backpressurePromiseResolver","backpressurePromiseRejector","BufferedItem","ackMessage","newestAckedMessage","index","element","_id","currentId","_ackTimer","_rejector","_ackTimerHandle","resolver","rejector","encodeURIComponent","eventSource","opened","isWebWorker","onmessage","_close","onerror","onopen","_eventSource","close","observers","observer","SubjectSubscription","output","split","pop","VERSION","val","match","values","self","isReactNative","process","release","includeContent","detail","formatArrayBuffer","view","str","num","substr","ArrayBuffer","transportName","_subject","_observer","dispose","_","minimumLogLevel","_minLevel","out","console","msg","toISOString","userAgentHeaderName","constructUserAgent","getOsName","getRuntime","getRuntimeVersion","os","runtime","runtimeVersion","userAgent","majorAndMinor","platform","versions","node","stack","globalThis","g","webSocketConstructor","_logMessageContent","_webSocketConstructor","_headers","token","webSocket","replace","binaryType","_event","_webSocket","event","ErrorEvent","readyState","OPEN","_isCloseEvent","wasClean","code","xhr","open","setRequestHeader","header","onload","responseText","ontimeout","DEFAULT_OPTIONS","placement","modifiers","strategy","areValidElements","_len","_key","some","getBoundingClientRect","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","popper","orderedModifiers","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","isElement","contextElement","concat","filter","enabled","_ref","_ref$options","effect","cleanupFn","noopFn","update","forceUpdate","_state$elements","rects","reset","modifier","_state$orderedModifie","fn","_state$orderedModifie2","destroy","onFirstUpdate","createPopper","contains","parent","child","rootNode","getRootNode","isShadowRoot","isSameNode","parentNode","host","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","isHTMLElement","offsetWidth","round","width","offsetHeight","height","visualViewport","addVisualOffsets","x","left","offsetLeft","y","top","offsetTop","right","bottom","getClientRectFromMixedType","clippingParent","viewport","rect","clientTop","clientLeft","clientHeight","clientWidth","getInnerBoundingClientRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","position","getClippingParents","firstClippingParent","clippingRect","accRect","max","min","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","documentElement","scroll","scrollLeft","scrollTop","offsets","getComputedStyle","getDocumentElement","ownerDocument","getDocumentRect","_element$ownerDocumen","html","winScroll","scrollWidth","scrollHeight","direction","getHTMLElementScroll","getLayoutRect","Math","abs","getNodeName","nodeName","getNodeScroll","getTrueOffsetParent","getOffsetParent","isFirefox","test","currentNode","css","transform","perspective","contain","willChange","getContainingBlock","getParentNode","assignedSlot","getScrollParent","getViewportRect","win","layoutViewport","getWindow","defaultView","getWindowScroll","pageXOffset","pageYOffset","getWindowScrollBarX","Element","HTMLElement","ShadowRoot","isLayoutViewport","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","isTableElement","listScrollParents","list","scrollParent","isBody","updatedList","auto","basePlacements","end","variationPlacements","acc","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","afterWrite","modifierPhases","phase","style","removeAttribute","setAttribute","_ref2","initialStyles","margin","arrow","hasOwnProperty","property","attribute","requires","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","axis","len","paddingObject","padding","toPaddingObject","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","center","within","axisProp","centerOffset","_options$element","querySelector","requiresIfExists","unsetSides","mapToStyles","_Object$assign2","popperRect","variation","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","_ref3","hasX","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","passive","_options$scroll","_options$resize","resize","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","_i","fittingPlacement","find","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","preventOverflow","referenceOverflow","elementContext","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","distanceAndSkiddingToXY","invertDistance","skidding","distance","_options$offset","_data$state$placement","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","withinMaxClamp","computeAutoPlacement","_options$allowedAutoP","allowedPlacements","overflows","sort","computeOffsets","commonX","commonY","debounce","pending","detectOverflow","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","expandToHashMap","hashMap","getAltAxis","getBasePlacement","getFreshSideObject","getMainAxisFromPlacement","hash","getOppositePlacement","matched","getOppositeVariationPlacement","getVariation","mergeByName","merged","current","existing","mergePaddingObject","order","visited","Set","add","dep","depModifier","orderModifiers","rectToClientRect","getUAString","uaData","navigator","userAgentData","brands","brand","v","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","u","defineProperty","r","t","enumerable","configurable","writable","p","$","allow_dismiss","allow_duplicates","newest_on_top","showProgressbar","from","align","delay","timer","mouse_over","animate","enter","exit","onShow","onShown","onClose","onClosed","onClick","icon_type","template","settings","title","icon","_defaults","animations","isDuplicateNotification","init","querySelectorAll","d","h","f","innerHTML","trim","o","n","l","buildNotify","setIcon","notify","$ele","formatTemplate","firstChild","dataset","notifyPosition","bsDelay","display","remove","className","src","alt","show","prepend","hover","notifyDelay","setInterval","clearInterval","closing","parseInt","elementMap","Data","instanceMap","size","TRANSITION_END","parseSelector","selector","CSS","escape","triggerTransitionEnd","dispatchEvent","Event","object","jquery","nodeType","getElement","isVisible","getClientRects","elementIsVisible","getPropertyValue","closedDetails","closest","summary","isDisabled","Node","ELEMENT_NODE","classList","disabled","hasAttribute","getAttribute","findShadowRoot","attachShadow","root","noop","reflow","getjQuery","jQuery","DOMContentLoadedCallbacks","isRTL","dir","defineJQueryPlugin","plugin","NAME","JQUERY_NO_CONFLICT","jQueryInterface","Constructor","noConflict","execute","possibleCallback","defaultValue","executeAfterTransition","transitionElement","waitForTransition","emulatedDuration","transitionDuration","transitionDelay","floatTransitionDuration","Number","parseFloat","floatTransitionDelay","getTransitionDurationFromElement","called","handler","getNextActiveElement","activeElement","shouldGetNext","isCycleAllowed","listLength","namespaceRegex","stripNameRegex","stripUidRegex","eventRegistry","uidEvent","customEvents","mouseenter","mouseleave","nativeEvents","makeEventUid","uid","getElementEvents","findHandler","events","callable","delegationSelector","normalizeParameters","originalTypeEvent","delegationFunction","isDelegated","typeEvent","getTypeEvent","addHandler","oneOff","wrapFunction","relatedTarget","delegateTarget","previousFunction","domElements","domElement","hydrateObj","EventHandler","bootstrapDelegationHandler","bootstrapHandler","removeHandler","Boolean","removeNamespacedHandlers","namespace","storeElementEvent","handlerKey","entries","includes","one","inNamespace","isNamespace","startsWith","elementEvent","keyHandlers","trigger","jQueryEvent","bubbles","nativeDispatch","defaultPrevented","isPropagationStopped","isImmediatePropagationStopped","isDefaultPrevented","evt","cancelable","preventDefault","obj","meta","_unused","normalizeData","decodeURIComponent","normalizeDataKey","chr","Manipulator","setDataAttribute","removeDataAttribute","getDataAttributes","bsKeys","pureKey","charAt","getDataAttribute","Config","Default","DefaultType","_getConfig","config","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","jsonConfig","configTypes","expectedTypes","valueType","RegExp","TypeError","toUpperCase","BaseComponent","_element","_config","DATA_KEY","EVENT_KEY","propertyName","getOwnPropertyNames","_queueCallback","isAnimated","getInstance","getOrCreateInstance","eventName","getSelector","hrefAttribute","sel","SelectorEngine","findOne","children","matches","parents","ancestor","prev","previous","previousElementSibling","nextElementSibling","focusableChildren","focusables","el","getSelectorFromElement","getElementFromSelector","getMultipleElementsFromSelector","enableDismissTrigger","component","clickEvent","tagName","EVENT_KEY$b","EVENT_CLOSE","EVENT_CLOSED","Alert","_destroyElement","each","SELECTOR_DATA_TOGGLE$5","Button","toggle","button","EVENT_KEY$9","EVENT_TOUCHSTART","EVENT_TOUCHMOVE","EVENT_TOUCHEND","EVENT_POINTERDOWN","EVENT_POINTERUP","Default$c","endCallback","leftCallback","rightCallback","DefaultType$c","Swipe","isSupported","_deltaX","_supportPointerEvents","PointerEvent","_initEvents","_start","_eventIsPointerPenTouch","clientX","touches","_end","_handleSwipe","_move","absDeltaX","pointerType","maxTouchPoints","EVENT_KEY$8","DATA_API_KEY$5","ARROW_LEFT_KEY$1","ARROW_RIGHT_KEY$1","ORDER_NEXT","ORDER_PREV","DIRECTION_LEFT","DIRECTION_RIGHT","EVENT_SLIDE","EVENT_SLID","EVENT_KEYDOWN$1","EVENT_MOUSEENTER$1","EVENT_MOUSELEAVE$1","EVENT_DRAG_START","EVENT_LOAD_DATA_API$3","EVENT_CLICK_DATA_API$5","CLASS_NAME_CAROUSEL","CLASS_NAME_ACTIVE$2","SELECTOR_ACTIVE","SELECTOR_ITEM","SELECTOR_ACTIVE_ITEM","KEY_TO_DIRECTION","Default$b","interval","keyboard","pause","ride","touch","wrap","DefaultType$b","Carousel","_interval","_activeElement","_isSliding","touchTimeout","_swipeHelper","_indicatorsElement","_addEventListeners","cycle","_slide","nextWhenVisible","hidden","_clearInterval","_updateInterval","_maybeEnableCycle","to","items","_getItems","activeIndex","_getItemIndex","_getActive","defaultInterval","_keydown","_addTouchEventListeners","img","swipeConfig","_directionToOrder","_setActiveIndicatorElement","activeIndicator","newActiveIndicator","elementInterval","isNext","nextElement","nextElementIndex","triggerEvent","_orderToDirection","isCycling","directionalClassName","orderClassName","_isAnimated","carousel","slideIndex","carousels","EVENT_KEY$7","EVENT_SHOW$6","EVENT_SHOWN$6","EVENT_HIDE$6","EVENT_HIDDEN$6","EVENT_CLICK_DATA_API$4","CLASS_NAME_SHOW$7","CLASS_NAME_COLLAPSE","CLASS_NAME_COLLAPSING","CLASS_NAME_DEEPER_CHILDREN","SELECTOR_DATA_TOGGLE$4","Default$a","DefaultType$a","Collapse","_isTransitioning","_triggerArray","toggleList","elem","filterElement","foundElement","_initializeChildren","_addAriaAndCollapsedClass","_isShown","hide","activeChildren","_getFirstLevelChildren","activeInstance","dimension","_getDimension","scrollSize","selected","triggerArray","isOpen","NAME$a","EVENT_KEY$6","DATA_API_KEY$3","ARROW_UP_KEY$1","ARROW_DOWN_KEY$1","EVENT_HIDE$5","EVENT_HIDDEN$5","EVENT_SHOW$5","EVENT_SHOWN$5","EVENT_CLICK_DATA_API$3","EVENT_KEYDOWN_DATA_API","EVENT_KEYUP_DATA_API","CLASS_NAME_SHOW$6","SELECTOR_DATA_TOGGLE$3","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_MENU","PLACEMENT_TOP","PLACEMENT_TOPEND","PLACEMENT_BOTTOM","PLACEMENT_BOTTOMEND","PLACEMENT_RIGHT","PLACEMENT_LEFT","Default$9","autoClose","popperConfig","DefaultType$9","Dropdown","_popper","_parent","_menu","_inNavbar","_detectNavbar","_createPopper","focus","_completeHide","referenceElement","_getPopperConfig","_getPlacement","parentDropdown","isEnd","_getOffset","popperData","defaultBsPopperConfig","_selectMenuItem","clearMenus","openToggles","context","composedPath","isMenuTarget","dataApiKeydownHandler","isInput","isEscapeEvent","isUpOrDownEvent","getToggleButton","stopPropagation","NAME$9","CLASS_NAME_SHOW$5","EVENT_MOUSEDOWN","Default$8","clickCallback","rootElement","DefaultType$8","Backdrop","_isAppended","_append","_getElement","_emulateAnimation","backdrop","EVENT_KEY$5","EVENT_FOCUSIN$2","EVENT_KEYDOWN_TAB","TAB_NAV_BACKWARD","Default$7","autofocus","trapElement","DefaultType$7","FocusTrap","_isActive","_lastTabNavDirection","activate","_handleFocusin","_handleKeydown","deactivate","shiftKey","SELECTOR_FIXED_CONTENT","SELECTOR_STICKY_CONTENT","PROPERTY_PADDING","PROPERTY_MARGIN","ScrollBarHelper","getWidth","documentWidth","innerWidth","_disableOverFlow","_setElementAttributes","calculatedValue","_resetElementAttributes","isOverflowing","_saveInitialAttribute","styleProperty","scrollbarWidth","_applyManipulationCallback","setProperty","actualValue","removeProperty","callBack","EVENT_KEY$4","EVENT_HIDE$4","EVENT_HIDE_PREVENTED$1","EVENT_HIDDEN$4","EVENT_SHOW$4","EVENT_SHOWN$4","EVENT_RESIZE$1","EVENT_CLICK_DISMISS","EVENT_MOUSEDOWN_DISMISS","EVENT_KEYDOWN_DISMISS$1","EVENT_CLICK_DATA_API$2","CLASS_NAME_OPEN","CLASS_NAME_SHOW$4","CLASS_NAME_STATIC","Default$6","DefaultType$6","Modal","_dialog","_backdrop","_initializeBackDrop","_focustrap","_initializeFocusTrap","_scrollBar","_adjustDialog","_showElement","_hideModal","handleUpdate","modalBody","_triggerBackdropTransition","event2","_resetAdjustments","isModalOverflowing","initialOverflowY","isBodyOverflowing","paddingLeft","paddingRight","showEvent","alreadyOpen","EVENT_KEY$3","DATA_API_KEY$1","EVENT_LOAD_DATA_API$2","CLASS_NAME_SHOW$3","CLASS_NAME_SHOWING$1","CLASS_NAME_HIDING","OPEN_SELECTOR","EVENT_SHOW$3","EVENT_SHOWN$3","EVENT_HIDE$3","EVENT_HIDE_PREVENTED","EVENT_HIDDEN$3","EVENT_RESIZE","EVENT_CLICK_DATA_API$1","EVENT_KEYDOWN_DISMISS","Default$5","DefaultType$5","Offcanvas","blur","DefaultAllowlist","area","br","col","dd","div","dl","dt","em","hr","h1","h2","h3","h4","h5","h6","li","ol","pre","small","span","sub","sup","strong","ul","uriAttributes","SAFE_URL_PATTERN","allowedAttribute","allowedAttributeList","attributeName","nodeValue","attributeRegex","regex","Default$4","allowList","extraClass","sanitize","sanitizeFn","DefaultType$4","DefaultContentType","entry","TemplateFactory","getContent","_resolvePossibleFunction","hasContent","changeContent","_checkContent","toHtml","templateWrapper","_maybeSanitize","_setContent","templateElement","_putElementInTemplate","textContent","unsafeHtml","sanitizeFunction","createdDocument","DOMParser","parseFromString","elementName","attributeList","allowedAttributes","sanitizeHtml","DISALLOWED_ATTRIBUTES","CLASS_NAME_FADE$2","CLASS_NAME_SHOW$2","SELECTOR_TOOLTIP_INNER","SELECTOR_MODAL","EVENT_MODAL_HIDE","TRIGGER_HOVER","TRIGGER_FOCUS","TRIGGER_CLICK","AttachmentMap","AUTO","TOP","RIGHT","BOTTOM","LEFT","Default$3","animation","container","customClass","DefaultType$3","Tooltip","_isEnabled","_timeout","_isHovered","_activeTrigger","_templateFactory","_newContent","tip","_setListeners","_fixTitle","enable","disable","toggleEnabled","_leave","_enter","_hideModalHandler","_disposePopper","_isWithContent","isInTheDom","_getTipElement","_isWithActiveTrigger","_getTitle","_createTipElement","_getContentForTemplate","_getTemplateFactory","tipId","prefix","floor","random","getElementById","getUID","setContent","_initializeOnDelegatedTarget","_getDelegateConfig","attachment","triggers","eventIn","eventOut","_setTimeout","dataAttributes","dataAttribute","SELECTOR_TITLE","SELECTOR_CONTENT","Default$2","DefaultType$2","Popover","_getContent","EVENT_KEY$2","EVENT_ACTIVATE","EVENT_CLICK","EVENT_LOAD_DATA_API$1","CLASS_NAME_ACTIVE$1","SELECTOR_TARGET_LINKS","SELECTOR_NAV_LINKS","SELECTOR_LINK_ITEMS","Default$1","rootMargin","smoothScroll","threshold","DefaultType$1","ScrollSpy","_targetLinks","_observableSections","_rootElement","_activeTarget","_previousScrollData","visibleEntryTop","parentScrollTop","refresh","_initializeTargetsAndObservables","_maybeEnableSmoothScroll","disconnect","_getNewObserver","section","observe","observableSection","scrollTo","behavior","IntersectionObserver","_observerCallback","targetElement","_process","userScrollsDown","isIntersecting","_clearActiveClass","entryIsLowerThanPrevious","targetLinks","anchor","decodeURI","_activateParents","listGroup","activeNodes","spy","EVENT_KEY$1","EVENT_HIDE$1","EVENT_HIDDEN$1","EVENT_SHOW$1","EVENT_SHOWN$1","EVENT_CLICK_DATA_API","EVENT_KEYDOWN","EVENT_LOAD_DATA_API","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","HOME_KEY","END_KEY","CLASS_NAME_ACTIVE","CLASS_NAME_FADE$1","CLASS_NAME_SHOW$1","SELECTOR_DROPDOWN_TOGGLE","NOT_SELECTOR_DROPDOWN_TOGGLE","SELECTOR_DATA_TOGGLE","SELECTOR_INNER_ELEM","SELECTOR_DATA_TOGGLE_ACTIVE","Tab","_setInitialAttributes","_getChildren","innerElem","_elemIsActive","active","_getActiveElem","hideEvent","_deactivate","_activate","relatedElem","_toggleDropDown","nextActiveElement","preventScroll","_setAttributeIfNotExists","_setInitialAttributesOnChild","_getInnerElement","isActive","outerElem","_getOuterElement","_setInitialAttributesOnTargetPanel","EVENT_MOUSEOVER","EVENT_MOUSEOUT","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","CLASS_NAME_HIDE","CLASS_NAME_SHOW","CLASS_NAME_SHOWING","autohide","Toast","_hasMouseInteraction","_hasKeyboardInteraction","_clearTimeout","_maybeScheduleHide","isShown","_onInteraction","isInteracting","___CSS_LOADER_EXPORT___","module","exports","cssWithMappingToString","needLayer","modules","media","dedupe","supports","layer","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","sourceMapping","hasPointerEvents","isTouch","MaxTouchPoints","msMaxTouchPoints","mouseDown","mouseUp","mouseMove","mouseLeave","startX","startY","fireLongPressEvent","originalEvent","clearLongPressTimer","changedTouches","unifyEvent","CustomEvent","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","suppressEvent","stopImmediatePropagation","cancelEvent","startLongPressTimer","longPressDelayInMs","attributeValue","getNearestAttribute","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","mozCancelRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","handle","loop","requestAnimFrame","requestTimeout","cancelAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","params","createEvent","initCustomEvent","diffX","diffY","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","count","indexByIdentifier","sourceMap","references","updater","addElementStyle","byIndex","api","newObj","lastIdentifiers","newList","newLastIdentifiers","_index","memo","styleTarget","HTMLIFrameElement","contentDocument","head","getTarget","appendChild","styleElement","nonce","removeChild","removeStyleElement","styleSheet","cssText","createTextNode","locales","OK","CANCEL","CONFIRM","templates","dialog","footer","closeButton","form","option","promptMessage","inputs","textarea","email","select","checkbox","radio","date","time","number","password","range","defaults","locale","inputType","swapButtonOrder","centerVertical","multiple","scrollable","reusable","deepExtend","arguments_","mapArguments","properties","argsLength","mergeArguments","mergeDialogOptions","labels","reverse","validateButtons","buttons","createLabels","allowedButtons","j","label","getText","en","total","getKeyLength","isPrimary","focusPrimaryButton","first","processCallback","bootstrap","minAndMaxAreValid","minValid","maxValid","dateIsValid","timeIsValid","isNaN","eventType","generateElement","eventHandler","wrappedHandler","addLocale","removeLocale","setLocale","setDefaults","hideAll","box","_$","fullBootstrapVersion","innerDialog","onEscape","bbHandler","after","before","once","onHide","onHidden","startedOnBody","currentTarget","callbackKey","which","modal","alert","confirm","cancel","prompt","promptDialog","shouldShow","inputOptions","checkedInputs","required","placeholder","pattern","maxlength","rows","step","groups","group","groupElement","checkboxValues","checked","checkFirstRadio","click","Lightbox","randomHash","gallery","constrain","modalOptions","setOptionsFromSettings","carouselOptions","getSrc","sources","getGalleryItems","createCarousel","createModal","modalElement","remote","location","origin","caption","galleryTarget","getYoutubeId","getYoutubeLink","youtubeId","arr","getInstagramEmbed","isEmbed","allowedEmbedTypes","isImg","types","allowedMediaTypes","slidesHtml","isHtml","isForcedImage","imgClasses","inner","instagramEmbed","youtubeLink","controlsHtml","classes","indicatorsHtml","carouselElement","elSrc","findGalleryItemIndex","haystack","needle","defaultSelector","initialize","extendStatics","setPrototypeOf","__extends","__","__assign","__spreadArray","pack","ar","SuppressedError","tmpEl","ActionType","ADD_CHOICE","REMOVE_CHOICE","FILTER_CHOICES","ACTIVATE_CHOICES","CLEAR_CHOICES","ADD_GROUP","ADD_ITEM","REMOVE_ITEM","HIGHLIGHT_ITEM","EventType","showDropdown","hideDropdown","change","choice","addItem","removeItem","highlightItem","highlightChoice","unhighlightItem","KeyCodeMap","TAB_KEY","SHIFT_KEY","BACK_KEY","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","ObjectsInConfig","PassedElementTypes","SelectOne","SelectMultiple","addChoice","removeChoice","filterChoices","results","activateChoices","addGroup","removeItem$1","highlighted","getRandomNumber","generateChars","generateId","getAdjacentEl","startEl","prop","sibling","isScrolledIntoView","sanitise","raw","trusted","strToEl","resolveNoticeFunction","resolveStringFunction","unwrapStringForRaw","unwrapStringForEscaped","escaped","escapeForTemplate","allowHTML","setElementHtml","allowHtml","sortByAlpha","_a","_b","_c","value2","_d","label2","localeCompare","sensitivity","ignorePunctuation","numeric","sortByRank","rank","customArgs","diff","aKeys","bKeys","getClassNames","ClassNames","getClassNamesSelector","addClassesToElement","removeClassesFromElement","parseCustomProperties","customProperties","updateClassList","itemEl","classNames","activeState","Container","isFlipped","isLoading","shouldFlip","dropdownPos","dropdownHeight","matchMedia","setActiveDescendant","activeDescendantID","removeActiveDescendant","openState","flippedState","addFocusState","focusState","removeFocusState","disabledState","nextSibling","insertBefore","unwrap","addLoadingState","loadingState","removeLoadingState","Input","preventPaste","isFocussed","isEqualNode","_onPaste","_onInput","_onFocus","_onBlur","addEventListeners","removeEventListeners","clear","setWidth","minWidth","SCROLLING_SPEED","List","scrollPos","firstElementChild","scrollToTop","scrollToChildElement","_this","listHeight","listScrollPosition","elementHeight","elementPos","destination","_animateScroll","_scrollDown","strength","easing","_scrollUp","choiceListScrollTop","continueAnimation","WrappedElement","conceal","tabIndex","origStyle","reveal","WrappedInput","_super","coerceBool","stringToHtmlClass","mapInputToChoice","allowGroup","allowRawString","sanitisedValue","groupOrChoice","choices","score","labelClass","labelDescription","isHtmlInputElement","isHtmlSelectElement","isHtmlOption","isHtmlOptgroup","WrappedSelect","extractPlaceholder","addOptions","fragment","createDocumentFragment","optionsAsChoices","_optionToChoice","_optgroupToChoice","optgroup","DEFAULT_CONFIG","silent","renderChoiceLimit","maxItemCount","closeDropdownOnSelect","singleModeForMultiSelect","addChoices","addItems","addItemFilter","removeItems","removeItemButton","removeItemButtonAlignLeft","editItems","allowHtmlUserInput","duplicateItemsAllowed","delimiter","paste","searchEnabled","searchChoices","searchFloor","searchResultLimit","searchFields","resetScrollPosition","shouldSort","shouldSortItems","sorter","shadowRoot","placeholderValue","searchPlaceholderValue","prependValue","appendValue","renderSelectedChoices","loadingText","noResultsText","noChoicesText","itemSelectText","uniqueItemText","customAddItemText","addItemText","removeItemIconText","removeItemLabelText","maxItemText","valueComparer","value1","fuseOptions","includeScore","labelId","callbackOnInit","callbackOnCreateTemplates","containerOuter","containerInner","inputCloned","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","itemChoice","description","groupHeading","highlightedState","selectedState","notice","noResults","noChoices","appendGroupInSearch","action","parentElement","choiceEl","scoreLookup_1","reducers","Store","_state","defaultState","_listeners","_txn","_context","changeSet","changes","_changeSet","onChange","dispatch","hasChanges","stateUpdate","withTxn","func","changeSet_1","hasActiveOptions","inTxn","getChoiceById","activeChoices","getGroupById","NoticeTypes","generic","_defineProperty","_toPropertyKey","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_toPrimitive","Symbol","toPrimitive","getTag","INFINITY","baseToString","isString","isNumber","isBoolean","isObjectLike","isObject","isDefined","isBlank","INCORRECT_INDEX_TYPE","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","PATTERN_LENGTH_TOO_LARGE","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","keyId","toJSON","path","getFn","createKeyPath","createKeyId","deepGet","MatchOptions","includeMatches","findAllMatches","minMatchCharLength","FuzzyOptions","AdvancedOptions","useExtendedSearch","ignoreLocation","ignoreFieldNorm","fieldNormWeight","isCaseSensitive","sortFn","idx","SPACE","norm","mantissa","pow","numTokens","FuseIndex","isCreated","setIndexRecords","setSources","docs","records","setKeys","_keysMap","doc","docIndex","_addString","_addObject","removeAt","getValueForItemAtKeyId","record","keyIndex","subRecords","nestedArrIndex","subRecord","createIndex","myIndex","parseIndex","computeScore$1","errors","currentLocation","expectedLocation","accuracy","proximity","convertMaskToIndices","matchmask","indices","MAX_BITS","patternAlphabet","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","charMatch","isMatch","createPatternAlphabet","char","BitapSearch","chunks","addChunk","startIndex","alphabet","remainder","searchIn","allIndices","totalScore","hasMatches","BaseMatch","isMultiMatch","getMatch","multiRegex","isSingleMatch","singleRegex","exp","ExactMatch","InverseExactMatch","PrefixExactMatch","InversePrefixExactMatch","SuffixExactMatch","InverseSuffixExactMatch","FuzzyMatch","_bitapSearch","IncludeMatch","searchers","searchersLen","SPACE_RE","OR_TOKEN","parseQuery","query","queryItem","found","searcher","MultiMatchSet","ExtendedSearch","condition","numMatches","qLen","pLen","registeredSearchers","register","createSearcher","searcherClass","LogicalOperator","AND","OR","KeyType","PATH","PATTERN","isExpression","isPath","isLeaf","convertToExplicit","isQueryPath","operator","computeScore","EPSILON","transformMatches","refIndex","transformScore","format","transformers","transformer","Fuse","_keyStore","setCollection","_docs","_myIndex","predicate","getIndex","limit","_searchStringList","_searchObjectList","_searchLogical","expression","evaluate","_findMatches","resultMap","expResults","SearchByFuse","_haystack","_fuseOptions","_fuse","isEmptyIndex","getSearcher","isEmptyObject","assignCustomProperties","withCustomProperties","addAriaLabel","docRoot","innerText","isSelectElement","isSelectOneElement","passedElementType","_docRoot","passedElement","itemList","_isSelectElement","rawValue","spanLabel","deletable","removeButton","REMOVE_ITEM_LABEL","insertAdjacentElement","choiceList","choiceGroup","rawLabel","heading","selectText","groupName","elementId","describedBy","descId","spanDesc","groupId","choiceDisabled","choiceSelectable","inp","autocomplete","autocapitalize","spellcheck","dropdown","noticeItem","labelValue","opt","Option","IS_IE11","USER_DEFAULTS","parseDataSetId","selectableChoiceIdentifier","Choices","userConfig","initialisedOK","_hasNonChoicePlaceholder","_lastAddedChoiceId","_lastAddedGroupId","allOptions","_validateConfig","elementType","isText","isSelectOne","isSelectMultiple","isSelect","_elementType","_isTextElement","_isSelectOneElement","_isSelectMultipleElement","_canAddUserChoices","re","selectEl","_templates","initialised","_store","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","_direction","elementDirection","_idNames","_render","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onSelectKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","_initialItems","preventExtensions","_searcher","_loadChoices","_createTemplates","_createElements","_createStructure","_initStore","_removeEventListeners","clearStore","_stopSearch","runEvent","_getChoiceForOutput","highlightAll","unhighlightAll","removeActiveItemsByValue","_removeItem","removeActiveItems","excludedId","removeHighlightedItems","highlightedActiveItems","_triggerChange","preventInputFocus","preventInputBlur","getValue","valueOnly","setValue","_addChoice","_warnChoicesInitFailed","setChoiceByValue","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","clearSearchFlag","replaceItems","fetcher_1","_handleLoadingState","_isSearching","clearChoices","isDefaultValue","isDefaultLabel","_addGroup","choiceFull","withEvents","selectFirstOption","deselectAll","choicesFromOptions","existingItems","updateChoice","_addPredefinedChoices","_searchChoices","_clearNotice","clearOptions","clearItems","replaceChildren","clearInput","shouldSetInputWidth","invalidConfigOptions","_renderChoices","_renderItems","_canAddItems","isSearching","activeGroups","renderLimit","backingOptions","renderableChoices","selectableChoices","renderChoices","withinGroup","groupLabel","choiceLimit","dropdownItem","groupChoices","dropdownGroup","groupEl","_notice","_renderNotice","_highlightChoice","itemFromList","addItemToFragment","addedItems","childNodes","_displayNotice","openDropdown","oldNotice","noticeElement","noticeConf","keyCode","groupValue","_handleButtonAction","itemToRemove","placeholderChoice","_addItem","_handleItemAction","hasShiftKey","_handleChoiceAction","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","_presetChoices","elementItems","setLoading","_handleSearch","resultCount","_canCreateItem","canAddItem","newValue","searchableChoices","outerElement","inputElement","wasPrintableChar","charCodeAt","hasChildNodes","hasItems","ctrlKey","metaKey","highlightedChoice","addedItem","directionInt","nextEl","currentEl","hasFocusedInput","firstChoice","targetIsInput","passedEl","userTriggered","userTemplates","templating","dropdownElement","findIndex","foundChoice","placeholderOption","caller","factory","getAlbumImagesData","pageSize","pageNumber","isPageChange","placeHolder","yafUserId","userid","pagedResults","UserId","PageSize","PageNumber","Accept","json","attachmentList","dataItem","cursor","iconImage","renderAttachPreview","setPageNumber","totalRecords","toggleBtn","getPaginationData","noAttachmentsText","notext","touchSpinDown","oldValue","minValue","newVal","touchSpinUp","previousSibling","maxValue","wrapDiv","minusButton","plusButton","goToURL","messageId","copyToClipBoard","clipboard","writeText","searchText","getSelectedMessageText","getSelection","rangeCount","getRangeAt","cloneContents","isMessageContext","contextMenu","quoteableElement","selectedText","searchItem","selectedItem","selectedDivider","link","quote","linkSearch","copy","linkSelected","menu","yes","no","_global","userCardContent","popover","hovercard","RequestVerificationToken","profileData","avatar","interests","joined","homePage","posts","placeholderElement","togglePassword","checkValidity","dialogFunctions","actionUrl","formData","serialize","messageType","showModalNotify","FormData","fileInput","files","loadModal","replyButton","alerts","notifyLink","getNotifyData","empty","markRead","fileName","pagerHolder","javascriptFunction","pages","ceil","pagination","paginationNav","page","searchTopic","ForumId","Page","SearchTerm","searchResults","topicUrl","topic","createTagsSelectTemplates","createForumSelectTemplates","loadForumChoiceOptions","selectedForumId","forum","selectedId","loadChoiceOptions","errorLog","wrapper","previewClass","attach","passwordToggle","pass","bootboxConfirm","bootboxShareTopic","okay","confirmed","Prism","_self","lang","uniqueId","plainTextGrammar","manual","disableWorkerMessageHandler","util","encode","tokens","Token","alias","objId","clone","deepClone","getLanguage","exec","setLanguage","language","currentScript","scripts","getElementsByTagName","defaultActivation","languages","plain","plaintext","txt","extend","redef","inside","grammar","ret","newToken","old","DFS","propertyType","plugins","highlightAllUnder","env","hooks","run","highlightElement","insertHighlightedCode","highlightedCode","Worker","worker","filename","postMessage","immediateClose","highlight","tokenize","rest","tokenList","LinkedList","addAfter","matchGrammar","array","tail","toArray","all","matchedStr","matchPattern","pos","lookbehind","lastIndex","lookbehindLength","startNode","startPos","rematch","patterns","cause","patternObj","greedy","global","flags","source","reach","removeCount","matchStr","removeFrom","removeRange","nestedRematch","newNode","tag","aliases","script","highlightAutomaticallyCallback","defer","WorkerGlobalScope","markup","includedCdataInside","def","attrName","mathml","svg","xml","ssml","atom","rss","string","addInlined","addAttribute","clike","javascript","js","replacements","nested","depthLog2","keywordKinds","keywordsToPattern","words","typeDeclarationKeywords","keywords","nonTypeKeywords","nonContextualKeywords","nestedRound","genericName","typeExpressionWithoutTuple","tupleElement","tuple","typeExpression","typeInside","character","regularString","verbatimString","csharp","regularStringOrCharacter","regularStringCharacterOrComment","roundExpression","attrTarget","attr","formatString","mInterpolationRound","mInterpolation","sInterpolationRound","sInterpolation","createInterpolationInside","interpolation","interpolationRound","dotnet","cs","aspnet","envVars","commandAfterHeredoc","insideString","bash","entity","variable","toBeCopied","sh","shell","basic","keyword","modName","cpp","selectorInside","unit","git","classNamePrefix","java","function","webmanifest","python","py","scss","sql","vbnet","vb","vba","LINE_NUMBERS_CLASS","LINKABLE_LINE_NUMBERS_CLASS","NEW_LINE_EXP","isLineHeightRounded","fontSize","lineHeight","border","scrollIntoView","lineHighlight","highlightLines","lines","ranges","hasLineNumbers","codeElement","mutateActions","lineBreakMatch","numberOfLines","codePreOffset","parentStyle","childStyle","pxToNumber","px","borderTopWidth","paddingTop","getContentBoxTopOffset","currentRange","line","lineNumbers","getLine","endNode","hasClass","$$","lineSpan","lineNumber","onclick","callFunction","fakeTimer","isActiveFor","completeHook","isLineNumbersLoaded","mutateDom","applyHash","PLUGIN_NAME","lineNumberRows","lineNumberStart","lineNumberEnd","lineIndex","resizeElements","assumeViewportIndependence","lastWidth","lineNumbersWrapper","linesNum","counterReset","whiteSpace","currentStyle","getStyles","infos","lineNumberSizer","codeLines","oneLinerHeight","lineHeights","sizer","childIndex","linkMd","candidates","autolinker","processGrammar","obj1","obj2","settingsConfig","NormalizeWhitespace","normalize","firstChar","leftTrim","rightTrim","tabsToSpaces","spaces","spacesToTabs","removeTrailing","removeInitialLineFeed","removeIndent","indents","indent","tabs","breakLines","characters","tabLen","tl","Normalizer","settingType","_error","codeFound","KeepMarkup","toolbar","registerButton","opts","hook","elementCallbacks","getOrder","registerClipboard","copyInfo","success","fallbackCopyTextToClipboard","copyTextToClipboard","textArea","successful","execCommand","startElement","getSettings","linkCopy","linkSpan","setState","resetText","selectAllChildren","selectElementText","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","Function","toStringTag","nc","loadSelectMenus","toolTip","$el","$subMenu","dropDownMenu","selectedValue","category","optionGroups","optionGroupElement","replaceWith","allowClear","customEvent","Notify","bootbox","loginButton","dropdownNotify","thanks","messageid","popoverList","thanksInfo","imageLink","scrollToTopBtn","handleScroll","scrollTotal"],"sourceRoot":""}