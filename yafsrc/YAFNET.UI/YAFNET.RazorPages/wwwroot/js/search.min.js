/*! Yet Another Forum.NET v4.0.2 | © Ingo Herbote | https://www.yetanotherforum.net/ */

(()=>{"use strict";var e={"./node_modules/@w8tcha/bootbox/dist/bootbox.js":(e,t,o)=>{o.r(t),o.d(t,{VERSION:()=>l,addLocale:()=>p,alert:()=>v,confirm:()=>C,dialog:()=>y,getLocale:()=>u,hideAll:()=>h,init:()=>g,prompt:()=>O,removeLocale:()=>b,setDefaults:()=>f,setLocale:()=>m});var a=o("bootstrap");function n(e){return/([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(e)}function r(e){return/(\d{4})-(\d{2})-(\d{2})/.test(e)}function s(e,t){if("string"==typeof t&&"function"==typeof e[t])e[t]();else{const o="string"==typeof t?new Event(t,{bubbles:!0}):t;e.dispatchEvent(o)}}const l="6.0.6",i={ar:{OK:"موافق",CANCEL:"الغاء",CONFIRM:"تأكيد"},az:{OK:"OK",CANCEL:"İmtina et",CONFIRM:"Təsdiq et"},bgBG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},eu:{OK:"OK",CANCEL:"Ezeztatu",CONFIRM:"Onartu"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"Confirmer"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"OK"},ka:{OK:"OK",CANCEL:"გაუქმება",CONFIRM:"დადასტურება"},ko:{OK:"OK",CANCEL:"취소",CONFIRM:"확인"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ptBR:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sk:{OK:"OK",CANCEL:"Zrušiť",CONFIRM:"Potvrdiť"},sl:{OK:"OK",CANCEL:"Prekliči",CONFIRM:"Potrdi"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},sw:{OK:"Sawa",CANCEL:"Ghairi",CONFIRM:"Thibitisha"},ta:{OK:"சரி",CANCEL:"ரத்து செய்",CONFIRM:"உறுதி செய்"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},uk:{OK:"OK",CANCEL:"Відміна",CONFIRM:"Прийняти"},vi:{OK:"OK",CANCEL:"Hủy bỏ",CONFIRM:"Xác nhận"},zhCN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zhTW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}},c={dialog:'<div class="bootbox modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="bootbox-body"></div></div></div></div></div>',header:'<div class="modal-header"><h5 class="modal-title"></h5></div>',footer:'<div class="modal-footer"></div>',closeButton:'<button type="button" class="bootbox-close-button close btn-close" aria-label="Close"></button>',form:'<form class="bootbox-form"></form>',button:'<button type="button" class="btn"></button>',option:'<option value=""></option>',promptMessage:'<div class="bootbox-prompt-message"></div>',inputs:{text:'<input class="bootbox-input bootbox-input-text form-control" autocomplete="off" type="text" />',textarea:'<textarea class="bootbox-input bootbox-input-textarea form-control"></textarea>',email:'<input class="bootbox-input bootbox-input-email form-control" autocomplete="off" type="email" />',select:'<select class="bootbox-input bootbox-input-select form-select"></select>',checkbox:'<div class="form-check checkbox"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-checkbox" type="checkbox" /></label></div>',radio:'<div class="form-check radio"><label class="form-check-label"><input class="form-check-input bootbox-input bootbox-input-radio" type="radio" name="bootbox-radio" /></label></div>',date:'<input class="bootbox-input bootbox-input-date form-control" autocomplete="off" type="date" />',time:'<input class="bootbox-input bootbox-input-time form-control" autocomplete="off" type="time" />',number:'<input class="bootbox-input bootbox-input-number form-control" autocomplete="off" type="number" />',password:'<input class="bootbox-input bootbox-input-password form-control" autocomplete="off" type="password" />',range:'<input class="bootbox-input bootbox-input-range form-control-range" autocomplete="off" type="range" />'}},d={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",value:"",inputType:"text",errorMessage:null,swapButtonOrder:!1,centerVertical:!1,multiple:!1,scrollable:!1,reusable:!1,relatedTarget:null,size:null,id:null};function u(e){return i[e]}function p(e,t){["OK","CANCEL","CONFIRM"].forEach(((e,o)=>{if(!t[e])throw new Error(`Please supply a translation for "${e}"`)})),i[e]={OK:t.OK,CANCEL:t.CANCEL,CONFIRM:t.CONFIRM}}function b(e){if("en"===e)throw new Error('"en" is used as the default and fallback locale and cannot be removed.');delete i[e]}function m(e){return e&&(e=e.replace("-","")),f("locale",e)}function f(...e){let t={};2===e.length?t[e[0]]=e[1]:t=e[0],Object.assign(d,t)}function h(){document.querySelectorAll(".bootbox").forEach((e=>{const t=a.Modal.getInstance(e);t&&t.hide()}))}function g(e){return g()}function y(e){if(void 0===a.Modal)throw new Error('"bootstrap.Modal" is not defined; please double check you have included the Bootstrap JavaScript library. See https://getbootstrap.com/docs/5.3/getting-started/introduction/ for more details.');e=function(e){let t,o;if(!e.message&&!e.messageForm)throw new Error('"message" option must not be null or an empty string.');e=Object.assign({},d,e),e.backdrop?e.backdrop="string"!=typeof e.backdrop||"static"!==e.backdrop.toLowerCase()||"static":e.backdrop=!1!==e.backdrop&&0!==e.backdrop&&"static",e.buttons||(e.buttons={}),t=e.buttons,o=S(t);let a=0;for(let[n,r]of Object.entries(t)){if("function"==typeof r&&(r=t[n]={callback:r,label:"",className:""}),"object"!==Object.prototype.toString.call(r).replace(/^\[object (.+)\]$/,"$1").toLowerCase())throw new Error(`button with key "${n}" must be an object`);if(r.label||(r.label=n),!r.className){let t=!1;t=e.swapButtonOrder?0===a:a===o-1,r.className=o<=2&&t?"btn-primary":"btn-secondary"}a++}return e}(e);let t=K(c.dialog),o=t.querySelector(".modal-dialog"),n=t.querySelector(".modal-body"),r=K(c.header),l=K(c.footer),i=e.buttons;e.messageForm?n.querySelector(".bootbox-body").append(e.messageForm):"string"==typeof e.message?n.querySelector(".bootbox-body").innerHTML=e.message:n.querySelector(".bootbox-body").append(e.message);let u={};if("function"==typeof e.onEscape&&(u.onEscape=e.onEscape),S(e.buttons)>0){for(const[e,t]of Object.entries(i)){let o=K(c.button);switch(o.dataset.bbHandler=e,t.className.split(" ").forEach((e=>{o.classList.add(e)})),e){case"ok":case"confirm":o.classList.add("bootbox-accept");break;case"cancel":o.classList.add("bootbox-cancel")}o.innerHTML=t.label,t.id&&o.setAttribute("id",t.id),!0===t.disabled&&(o.disabled=!0),l.append(o),"function"==typeof t.callback&&(u[e]=t.callback)}n.after(l)}if(!0===e.animate&&t.classList.add("fade"),e.className&&e.className.split(" ").forEach((e=>{t.classList.add(e)})),e.id&&t.setAttribute("id",e.id),e.size)switch(e.size){case"small":case"sm":o.classList.add("modal-sm");break;case"large":case"lg":o.classList.add("modal-lg");break;case"extra-large":case"xl":o.classList.add("modal-xl")}if(e.scrollable&&o.classList.add("modal-dialog-scrollable"),e.title||e.closeButton){if(e.title?r.querySelector(".modal-title").innerHTML=e.title:r.classList.add("border-0"),e.closeButton){let e=K(c.closeButton);r.append(e)}n.before(r)}if(e.centerVertical&&o.classList.add("modal-dialog-centered"),e.reusable||(t.addEventListener("hide.bs.modal",(e=>{e.target===t&&(t.removeEventListener("escape.close.bb",(()=>{})),t.removeEventListener("click",(()=>{})))}),{once:!0}),t.addEventListener("hidden.bs.modal",(e=>{e.target===t&&t.remove()}),{once:!0})),e.onHide){if("function"!=typeof e.onHide)throw new Error('Argument supplied to "onHide" must be a function');t.addEventListener("hide.bs.modal",e.onHide)}if(e.onHidden){if("function"!=typeof e.onHidden)throw new Error('Argument supplied to "onHidden" must be a function');t.addEventListener("hidden.bs.modal",e.onHidden)}if(e.onShow){if("function"!=typeof e.onShow)throw new Error('Argument supplied to "onShow" must be a function');I(t,"show.bs.modal",e.onShow)}if(t.addEventListener("shown.bs.modal",A),e.onShown){if("function"!=typeof e.onShown)throw new Error('Argument supplied to "onShown" must be a function');I(t,"shown.bs.modal",e.onShown)}if(!0===e.backdrop){let e=!1;I(t,"mousedown",(t=>{t.stopPropagation(),e=!0}),".modal-content"),I(t,"click.dismiss.bs.modal",(o=>{e||o.target!==o.currentTarget||s(t,"escape.close.bb")}))}t.addEventListener("escape.close.bb",(e=>{u.onEscape&&M(e,t,u.onEscape)})),t.addEventListener("click",(e=>{if("button"===e.target.nodeName.toLowerCase()&&!e.target.classList.contains("disabled")){const o=e.target.dataset.bbHandler;void 0!==o&&M(e,t,u[o])}})),document.addEventListener("click",(e=>{e.target.closest(".bootbox-close-button")&&M(e,t,u.onEscape)})),t.addEventListener("keyup",(e=>{(27===e.which||27===e.detail.which)&&s(t,"escape.close.bb")})),"object"==typeof e.container?e.container.append(t):document.querySelector(e.container)?.append(t);const p=new a.Modal(t,{backdrop:e.backdrop,keyboard:!1});return e.show&&(e.relatedTarget?p.show(e.relatedTarget):p.show()),t}function v(...e){const t=L("alert",["ok"],["message","callback"],e);if(t.callback&&"function"!=typeof t.callback)throw new Error('alert requires the "callback" property to be a function when provided');return t.buttons.ok.callback=t.onEscape=function(){return"function"!=typeof t.callback||t.callback.call(this)},y(t)}function C(...e){let t;if(t=L("confirm",["cancel","confirm"],["message","callback"],e),"function"!=typeof t.callback)throw new Error("confirm requires a callback");let o=t.buttons.cancel,a=t.buttons.confirm;return a||(t.buttons.confirm=N("confirm",t.locale),a=t.buttons.confirm),o||(t.buttons.cancel=N("cancel",t.locale),o=t.buttons.cancel),o.callback=t.onEscape=function(){return t.callback?.call(this,null)},a.callback=function(){return t.callback?.call(this,!0)},t.buttons.cancel=o,t.buttons.confirm=a,y(t)}function O(...e){let t,o,l,i,u,p;l=K(c.form),t=L("prompt",["cancel","confirm"],["title","callback"],e),t.value||(t.value=d.value),t.inputType||(t.inputType=d.inputType),u=void 0===t.show?d.show:t.show,t.show=!1;var b=t.buttons.cancel;b||(t.buttons.cancel=N("cancel",t.locale),b=t.buttons.cancel),b.callback=t.onEscape=function(){return t.callback?.call(this,null)},t.buttons.cancel=b;var m=t.buttons.confirm;if(m||(t.buttons.confirm=N("confirm",t.locale),m=t.buttons.confirm),m.callback=function(){let e;if(l.classList.add("was-validated"),"checkbox"===t.inputType){const o=Array.from(i.querySelectorAll('input[type="checkbox"]:checked'));if(e=Array.from(o).map((e=>e.value)),!0===t.required&&0===o.length)return!1}else if("radio"===t.inputType)e=i.querySelector('input[type="radio"]:checked').value;else{let o=i;if(o.setCustomValidity(""),o.checkValidity&&!o.checkValidity())return t.errorMessage&&o.setCustomValidity(t.errorMessage),o.reportValidity&&o.reportValidity(),!1;e="select"===t.inputType&&!0===t.multiple?Array.from(i.querySelectorAll("option:checked")).map((e=>e.value)):o.value}return t.callback?.call(this,e)},t.buttons.confirm=m,!t.title)throw new Error("prompt requires a title");if("function"!=typeof t.callback)throw new Error("prompt requires a callback");var f=c.inputs;if(!f[t.inputType])throw new Error("Invalid prompt type");switch(i=K(f[t.inputType]),"textarea"!==t.inputType&&i.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),s(o.querySelector(".bootbox-accept"),"click"))})),t.inputType){case"text":case"textarea":case"email":case"password":i.value=t.value.toString(),t.placeholder&&i.setAttribute("placeholder",t.placeholder),t.pattern&&i.setAttribute("pattern",t.pattern),t.maxlength&&i.setAttribute("maxlength",t.maxlength.toString()),t.required&&(i.required=!0),"textarea"===t.inputType&&t.rows&&!isNaN(parseInt(t.rows.toString()))&&i.setAttribute("rows",t.rows.toString());break;case"date":case"time":case"number":case"range":if(i.value=t.value.toString(),t.placeholder&&i.setAttribute("placeholder",t.placeholder),t.pattern?i.setAttribute("pattern",t.pattern):"date"===t.inputType?i.setAttribute("pattern","d{4}-d{2}-d{2}"):"time"===t.inputType&&i.setAttribute("pattern","d{2}:d{2}"),t.required&&(i.required=!0),t.step)if("string"==typeof t.step&&("any"===t.step||parseFloat(t.step)>0))i.setAttribute("step",t.step);else{if("number"!=typeof t.step||isNaN(t.step)||!(t.step>0))throw new Error('"step" must be a valid positive number or the value "any". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');i.setAttribute("step",t.step.toString())}(function(e,t,o){let a=!1,s=!0,l=!0;if("date"===e)void 0===t||(s=r(t))?void 0!==o&&!(l=r(o))&&console.warn('Invalid "max" date format for input type "date".'):console.warn('Invalid "min" date format for input type "date".');else if("time"===e){if(void 0!==t&&!(s=n(t)))throw new Error('"min" is not a valid time.');if(void 0!==o&&!(l=n(o)))throw new Error('"max" is not a valid time.')}else{if(void 0!==t&&isNaN(Number(t)))throw s=!1,new Error('"min" must be a valid number.');if(void 0!==o&&isNaN(Number(o)))throw l=!1,new Error('"max" must be a valid number.')}if(s&&l){if("number"==typeof t&&"number"==typeof o&&o<t)throw new Error('"max" must be greater than or equal to "min".');if("string"==typeof t&&"string"==typeof o&&o<t)throw new Error('"max" must be greater than or equal to "min".');a=!0}return a})(t.inputType,t.min,t.max)&&(void 0!==t.min&&i.setAttribute("min",t.min.toString()),void 0!==t.max&&i.setAttribute("max",t.max.toString()));break;case"select":var h={};if(p=t.inputOptions||[],!Array.isArray(p))throw new Error("Please pass an array of input options");if(!p.length)throw new Error('prompt with "inputType" set to "select" requires at least one option');t.required&&(i.required=!0),t.multiple&&(i.multiple=!0);for(const[,e]of Object.entries(p)){let t=i;if(void 0===e.value||void 0===e.text)throw new Error('each option needs a "value" property and a "text" property');if(e.group){if(!h[e.group]){var g=K("<optgroup />");g.setAttribute("label",e.group),h[e.group]={Content:g}}t=h[e.group].Content}let o=K(c.option);o.setAttribute("value",e.value),o.textContent=e.text,t.append(o)}for(const[e,t]of Object.entries(h))i.append(t.Content);i.value=t.value.toString();break;case"checkbox":var v=Array.isArray(t.value)?t.value:[t.value];if(p=t.inputOptions||[],!p.length)throw new Error('prompt with "inputType" set to "checkbox" requires at least one option');i=K('<div class="bootbox-checkbox-list"></div>');for(const[e,o]of Object.entries(p)){if(void 0===o.value||void 0===o.text)throw new Error('each option needs a "value" property and a "text" property');let e=K(c.inputs[t.inputType]);e.querySelector("input")?.setAttribute("value",o.value),e.querySelector("label")?.append(`\n${o.text}`);for(const[t,a]of Object.entries(v))a===o.value&&e.querySelector("input")?.setAttribute("checked","true");i.append(e)}break;case"radio":if(void 0!==t.value&&Array.isArray(t.value))throw new Error('prompt with "inputType" set to "radio" requires a single, non-array value for "value"');if(p=t.inputOptions||[],!p.length)throw new Error('prompt with "inputType" set to "radio" requires at least one option');i=K('<div class="bootbox-radiobutton-list"></div>');var C=!0;for(const[e,o]of Object.entries(p)){if(void 0===o.value||void 0===o.text)throw new Error('each option needs a "value" property and a "text" property');let e=K(c.inputs[t.inputType]);e.querySelector("input")?.setAttribute("value",o.value),e.querySelector("label")?.append(`\n${o.text}`),void 0!==t.value&&o.value===t.value&&(e.querySelector("input").checked=!0,C=!1),i.append(e)}C&&i.querySelector('input[type="radio"]')?.setAttribute("checked","true")}if(l.append(i),l.addEventListener("submit",(e=>{e.preventDefault(),e.stopPropagation(),l.classList.remove("was-validated"),o.querySelector(".bootbox-accept")?.click()})),t.message&&""!==t.message.trim()){let e=K(c.promptMessage).innerHTML=t.message;l.prepend(e),t.messageForm=l}else t.messageForm=l;o=y(t),o.removeEventListener("shown.bs.modal",A),o.addEventListener("shown.bs.modal",(()=>{i.focus()}));const O=new a.Modal(o);return!0===u&&O.show(),o}function w(...e){const t={};let o=!1,a=0;const n=e.length;"[object Boolean]"===Object.prototype.toString.call(e[0])&&(o=e[0],a++);const r=e=>{for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o&&"[object Object]"===Object.prototype.toString.call(e[a])?t[a]=w(!0,t[a],e[a]):t[a]=e[a])};for(;a<n;a++){r(e[a])}return t}function E(e,t,o){return w({},e,function(e,t){const o=e.length;let a={};if(o<1||o>2)throw new Error("Invalid argument length");return 2===o||"string"==typeof e[0]?(a[t[0]]=e[0],a[t[1]]=e[1]):a=e[0],a}(t,o))}function L(e,t,o,a){let n;a&&a[0]&&(n=a[0].locale||d.locale,(a[0].swapButtonOrder||d.swapButtonOrder)&&(t=t.reverse()));return function(e,t){const o={};for(const[e,a]of Object.entries(t))o[a]=!0;for(const[a]of Object.entries(e.buttons))if(void 0===o[a])throw new Error(`button key "${a}" is not allowed (options are ${t.join(" ")})`);return e}(E({className:`bootbox-${e}`,buttons:x(t,n),show:!0,closeButton:!0,animate:!0,locale:"en",swapButtonOrder:!1,scrollable:!1,reusable:!1,centerVertical:!1},a,o),t)}function x(e,t){const o={};for(let a=0,n=e.length;a<n;a++){const n=e[a],r=n.toLowerCase(),s=n.toUpperCase();o[r]={label:k(s,t),className:""}}return o}function N(e,t){return{label:k(e.toUpperCase(),t),className:""}}function k(e,t){const o=i[t];return o?o[e]:i.en[e]}function A(e){const t=e?.data?.dialog?.querySelector(".bootbox-accept");t&&s(t,"focus")}function S(e){return Object.keys(e).length}function M(e,t,o){e.stopPropagation(),e.preventDefault(),("function"!=typeof o||!1!==o.call(t,e))&&t&&a.Modal.getInstance(t)?.hide()}function K(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.children[0]}function I(e,t,o,a){if(a){const n=e=>{if(!e.target)return;const t=e.target.closest(a);t&&o.call(t,e)};return e.addEventListener(t,n),n}{const a=t=>{o.call(e,t)};return e.addEventListener(t,a),a}}},"./wwwroot/lib/forum/utilities.ts":(e,t,o)=>{o.r(t),o.d(t,{bootboxConfirm:()=>d,bootboxShareTopic:()=>u,copyToClipBoard:()=>p,empty:()=>s,errorLog:()=>r,renderAttachPreview:()=>i,togglePassword:()=>c,wrap:()=>l});var a=o("bootstrap"),n=o("./node_modules/@w8tcha/bootbox/dist/bootbox.js");function r(e){console.error("An Error has occurred!",e)}function s(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function l(e,t){var o;null===(o=e.parentNode)||void 0===o||o.insertBefore(t,e),t.appendChild(e)}function i(e){document.querySelectorAll(e).forEach((e=>new a.Popover(e,{html:!0,trigger:"hover",placement:"bottom",content:()=>`<img src="${e.src}" class="img-fluid" />`})))}function c(){const e=document.getElementById("PasswordToggle");if(e&&document.body.contains(e)){const t=e.querySelector("i"),o=document.querySelector("input[id*='Password']");e.addEventListener("click",(e=>{e.preventDefault(),"text"===o.getAttribute("type")?(o.setAttribute("type","password"),t.classList.add("fa-eye-slash"),t.classList.remove("fa-eye")):"password"===o.getAttribute("type")&&(o.setAttribute("type","text"),t.classList.remove("fa-eye-slash"),t.classList.add("fa-eye"))}))}}function d(e,t,o,a,r,s){const l={message:o,centerVertical:!0,title:t};l.buttons={cancel:{label:`<i class="fa fa-times"></i> ${r}`,className:"btn-danger",callback(o){s(!1),e.innerHTML=t}},main:{label:`<i class="fa fa-check"></i> ${a}`,className:"btn-success",callback(e){s(!0)}}},n.dialog(l)}function u(e,t,o,a,r){const s={message:t,centerVertical:!0,title:e,value:r};s.buttons={cancel:{label:o},confirm:{label:a}},s.callback=()=>{p(r)},n.prompt(s)}function p(e){navigator.clipboard.writeText(e)}document.addEventListener("click",(e=>{const t=e.target;if(t.parentElement&&t.parentElement.matches('[data-bs-toggle="confirm"]')){e.preventDefault();const o=t.parentElement,a=o.dataset.title||"",n=o.dataset.yes||"",r=o.dataset.no||"",s=o.innerHTML;o.innerHTML="<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'></span> Loading...",d(o,s,a,n,r,(e=>{e&&o.click()}))}}),!1);const b=window||o.g;b.errorLog=r,b.bootboxShareTopic=u,b.togglePassword=c,b.copyToClipBoard=p},bootstrap:e=>{e.exports=bootstrap}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{o.r(a);var e=o("./wwwroot/lib/forum/utilities.ts"),t=o("bootstrap");const n=window||o.g;function r(o){const a=document.querySelector(".searchInput").value,r=document.querySelector(".searchUserInput").value,s=document.querySelector(".searchTagInput").value,l=document.getElementById("SearchResultsPlaceholder"),i=new t.Modal("#loadModal"),c="True"===document.querySelector(".searchUserInput").dataset.display,d=parseInt(document.querySelector(".resultsPage").value),u=document.querySelector(".titleOnly").value,p=document.querySelector(".searchWhat").value,b=l.dataset.minimum,m=""===document.getElementById("Input_ForumListSelected").value?0:parseInt(document.getElementById("Input_ForumListSelected").value);let f="";if(a.length&&a.length>=parseInt(b)||r.length&&r.length>=parseInt(b)||s.length&&s.length>=parseInt(b)){let t;if(a.length&&a.length>=parseInt(b)&&("1"===u?"0"===p?(t=a,f+=` Topic: (${t.replace(/(^|\s+)/g,"$1+")})`):"1"===p?f+=` Topic: ${a}`:"2"===p&&(f+=` Topic:"${a}"`):"0"===p?(t=a,f+=`(${t.replace(/(^|\s+)/g,"$1+")})`):"1"===p?f+=`${a}`:"2"===p&&(f+=`"${a}"`)),r.length&&r.length>=parseInt(b)){const e=c?"AuthorDisplay":"Author";f.length&&(f+=" "),a.length?f+=`AND ${e}:${r}`:f=`+${e}:${r}`}s.length&&s.length>=parseInt(b)&&(f.length&&(f+=" "),a.length?f+=`AND TopicTags:${s}`:f=`+TopicTags:${s}`);const h={ForumId:m,PageSize:d,Page:o,SearchTerm:f};e.empty(l),i.show(),fetch("/api/Search/GetSearchResults",{method:"POST",body:JSON.stringify(h),headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8",RequestVerificationToken:document.querySelector('input[name="__RequestVerificationToken"]').value}}).then((e=>e.json())).then((t=>{var a;null===(a=document.getElementById("loadModal"))||void 0===a||a.addEventListener("shown.bs.modal",(()=>{i.hide()}));const r=l.dataset.posted||"",s=l.dataset.by||"",u=l.dataset.lastpost||"",p=l.dataset.topic||"";if(0===t.searchResults.length){i.hide();const t=l.dataset.notext||"",o=document.createElement("div");o.innerHTML=`<div class="alert alert-warning text-center mt-3" role="alert">${t}</div>`,l.appendChild(o),e.empty(document.getElementById("SearchResultsPagerTop")),e.empty(document.getElementById("SearchResultsPagerBottom"))}else i.hide(),t.searchResults.forEach((e=>{const t=document.createElement("div");let o=" ";if(e.topicTags){e.topicTags.split(",").forEach((e=>{o+=`<span class='badge text-bg-secondary me-1'><i class='fas fa-tag me-1'></i>${e}</span>`}))}t.innerHTML=`\n                <div class="row">\n                    <div class="col">\n                        <div class="card border-0 w-100 mb-3">\n                            <div class="card-header bg-transparent border-top border-bottom-0 px-0 pb-0 pt-4 topicTitle">\n                                <h5>\n                                    <a title="${p}" href="${e.topicUrl}">${e.topic}</a>&nbsp;\n                                    <a title="${u}" href="${e.messageUrl}"><i class="fas fa-external-link-alt"></i></a>\n                                    <small class="text-body-secondary">(<a href="${e.forumUrl}">${e.forumName}</a>)</small>\n                                </h5>\n                            </div>\n                            <div class="card-body px-0">\n                                <h6 class="card-subtitle mb-2 text-body-secondary">${e.description}</h6>\n                                <p class="card-text messageContent">${e.message}</p>\n                            </div>\n                            <div class="card-footer bg-transparent border-top-0 px-0 py-2">\n                                <small class="text-body-secondary">\n                                    <span class="fa-stack">\n                                        <i class="fa fa-calendar-day fa-stack-1x text-secondary"></i>\n                                        <i class="fa fa-clock fa-badge text-secondary"></i>\n                                    </span>\n                                    ${r} ${e.posted} <i class="fa fa-user text-secondary"></i>${s} ${c?e.userDisplayName:e.userName}${o}\n                                </small>\n                            </div>\n                        </div>\n                    </div>\n                </div>`,l.appendChild(t)})),function(t,o,a){const n=Math.ceil(a/t),r=document.getElementById("SearchResultsPagerTop"),s=document.getElementById("SearchResultsPagerBottom"),l=document.createElement("ul"),i=document.createElement("nav"),c=document.createElement("nav");if(i.setAttribute("aria-label","Search Page Results"),c.setAttribute("aria-label","Search Page Results"),l.classList.add("pagination"),e.empty(r),e.empty(s),o>0){const e=document.createElement("li");e.classList.add("page-item"),e.innerHTML=`<a href="javascript:getSearchResultsData(${o-1})" class="page-link"><i class="fas fas fa-angle-left" aria-hidden="true"></i></a>`,l.appendChild(e)}let d=o-2,u=o+3;if(d<0&&(d=0),u>n&&(u=n),d>0){let e=document.createElement("li");e.classList.add("page-item"),e.innerHTML='<a href="javascript:getSearchResultsData(0);" class="page-link">1</a>',l.appendChild(e),e=document.createElement("li"),e.classList.add("page-item"),e.classList.add("disabled"),e.innerHTML='<a class="page-link" href="#" tabindex="-1">...</a>',l.appendChild(e)}for(let e=d;e<u;e++)if(e===o){const t=document.createElement("li");t.classList.add("page-item"),t.classList.add("active"),t.innerHTML=`<span class="page-link">${e+1}</span>`,l.appendChild(t)}else{const t=document.createElement("li");t.classList.add("page-item"),t.innerHTML=`<a href="javascript:getSearchResultsData(${e});" class="page-link">${e+1}</a>`,l.appendChild(t)}if(u<n){let e=document.createElement("li");e.classList.add("page-item"),e.classList.add("disabled"),e.innerHTML='<a class="page-link" href="#" tabindex="-1">...</a>',l.appendChild(e),e=document.createElement("li"),e.classList.add("page-item"),e.innerHTML=`<a href="javascript:getSearchResultsData(${n-1})" class="page-link">${n}</a>`,l.appendChild(e)}if(o<n-1){const e=document.createElement("li");e.classList.add("page-item"),e.innerHTML=`<a href="javascript:getSearchResultsData(${o+1})" class="page-link"><i class="fas fas fa-angle-right" aria-hidden="true"></i></a>`,l.appendChild(e)}i.appendChild(l),c.innerHTML=i.innerHTML,r&&r.appendChild(i),s&&s.appendChild(c)}(d,o,t.totalRecords),document.querySelectorAll('[data-toggle="lightbox"]').forEach((e=>{e.addEventListener("click",n.bootstrap.Lightbox.initialize)}))})).catch((e=>{console.log(e),document.getElementById("SearchResultsPlaceholder").style.display="none",l.textContent=e}))}}document.querySelector(".searchInput").addEventListener("keypress",(e=>{if("Enter"===e.key){e.preventDefault();r(0)}})),document.addEventListener("DOMContentLoaded",(()=>{var e=new URL(window.location.href);(e.searchParams.has("search")||e.searchParams.has("forum")||e.searchParams.has("postedBy")||e.searchParams.has("tag"))&&r(0)})),n.getSearchResultsData=r})()})();
//# sourceMappingURL=search.min.js.map