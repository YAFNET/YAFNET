{"version":3,"file":"choices.min.js","mappings":";;kEAGmEA,EAAOC,QAGjE,WAAe,aAkBpB,IAAIC,EAAgB,SAAUC,EAAGC,GAQ/B,OAPAF,EAAgBG,OAAOC,gBAAkB,CACvCC,UAAW,cACAC,OAAS,SAAUL,EAAGC,GACjCD,EAAEI,UAAYH,CAChB,GAAK,SAAUD,EAAGC,GAChB,IAAK,IAAIK,KAAKL,EAAOC,OAAOK,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,GAC5E,EACOP,EAAcC,EAAGC,EAC1B,EACA,SAASS,EAAUV,EAAGC,GACpB,GAAiB,mBAANA,GAA0B,OAANA,EAAY,MAAM,IAAIU,UAAU,uBAAyBC,OAAOX,GAAK,iCAEpG,SAASY,IACPC,KAAKC,YAAcf,CACrB,CAHAD,EAAcC,EAAGC,GAIjBD,EAAEO,UAAkB,OAANN,EAAaC,OAAOc,OAAOf,IAAMY,EAAGN,UAAYN,EAAEM,UAAW,IAAIM,EACjF,CACA,IAAII,EAAW,WAQb,OAPAA,EAAWf,OAAOgB,QAAU,SAAkBC,GAC5C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE9C,IAAK,IAAIf,KADTc,EAAIG,UAAUF,GACOnB,OAAOK,UAAUC,eAAeC,KAAKW,EAAGd,KAAIa,EAAEb,GAAKc,EAAEd,IAE5E,OAAOa,CACT,EACOF,EAASQ,MAAMX,KAAMS,UAC9B,EACA,SAASG,EAAcC,EAAIC,EAAMC,GAC/B,GAAIA,GAA6B,IAArBN,UAAUC,OAAc,IAAK,IAA4BM,EAAxBT,EAAI,EAAGU,EAAIH,EAAKJ,OAAYH,EAAIU,EAAGV,KAC1ES,GAAQT,KAAKO,IACVE,IAAIA,EAAKzB,MAAME,UAAUyB,MAAMvB,KAAKmB,EAAM,EAAGP,IAClDS,EAAGT,GAAKO,EAAKP,IAGjB,OAAOM,EAAGM,OAAOH,GAAMzB,MAAME,UAAUyB,MAAMvB,KAAKmB,GACpD,CAC2B,mBAApBM,iBAAiCA,gBAKxC,IA+IQC,EA/IJC,EAAa,CACbC,WAAY,aACZC,cAAe,gBACfC,eAAgB,iBAChBC,iBAAkB,mBAClBC,cAAe,gBACfC,UAAW,YACXC,SAAU,WACVC,YAAa,cACbC,eAAgB,kBAGhBC,EAAY,CACZC,aAAc,eACdC,aAAc,eACdC,OAAQ,SACRC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACTC,WAAY,aACZC,cAAe,gBACfC,gBAAiB,kBACjBC,gBAAiB,mBAGjBC,EAAa,CACbC,QAAS,EACTC,UAAW,GACXC,SAAU,GACVC,WAAY,EACZC,UAAW,GACXC,MAAO,GACPC,QAAS,GACTC,OAAQ,GACRC,SAAU,GACVC,YAAa,GACbC,cAAe,IAGfC,EAAkB,CAAC,cAAe,cAElCC,EAAqB,CACrBC,KAAM,OACNC,UAAW,aACXC,eAAgB,mBAGhBC,EAAY,SAAUxB,GAAU,MAAO,CACvCyB,KAAMvC,EAAWC,WACjBa,OAAQA,EACR,EACA0B,EAAe,SAAU1B,GAAU,MAAO,CAC1CyB,KAAMvC,EAAWE,cACjBY,OAAQA,EACR,EACA2B,EAAgB,SAAUC,GAAW,MAAO,CAC5CH,KAAMvC,EAAWG,eACjBuC,QAASA,EACT,EACAC,EAAkB,SAAUC,GAC5B,MAAO,CACHL,KAAMvC,EAAWI,iBACjBwC,OAAQA,EAEhB,EAEIC,EAAW,SAAUC,GAAS,MAAO,CACrCP,KAAMvC,EAAWM,UACjBwC,MAAOA,EACP,EAEA9B,EAAU,SAAU+B,GAAQ,MAAO,CACnCR,KAAMvC,EAAWO,SACjBwC,KAAMA,EACN,EACAC,EAAe,SAAUD,GAAQ,MAAO,CACxCR,KAAMvC,EAAWQ,YACjBuC,KAAMA,EACN,EACA7B,EAAgB,SAAU6B,EAAME,GAAe,MAAO,CACtDV,KAAMvC,EAAWS,eACjBsC,KAAMA,EACNE,YAAaA,EACb,EAEAC,EAAkB,SAAUC,EAAKC,GAAO,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,EAAM,EAC9FK,EAAgB,SAAUpE,GAC1B,OAAOnB,MAAMuB,KAAK,CAAEJ,OAAQA,IAAU,WAAc,OAAO8D,EAAgB,EAAG,IAAIO,SAAS,GAAK,IAAGC,KAAK,GAC5G,EACIC,EAAa,SAAUC,EAASC,GAChC,IAAIC,EAAKF,EAAQE,IAAOF,EAAQG,MAAQ,GAAGlE,OAAO+D,EAAQG,KAAM,KAAKlE,OAAO2D,EAAc,KAAQA,EAAc,GAGhH,OAFAM,EAAKA,EAAGE,QAAQ,kBAAmB,IACnCF,EAAK,GAAGjE,OAAOgE,EAAQ,KAAKhE,OAAOiE,EAEvC,EACIG,EAAgB,SAAUC,EAASC,EAAUC,QAC3B,IAAdA,IAAwBA,EAAY,GAGxC,IAFA,IAAIC,EAAO,GAAGxE,OAAOuE,EAAY,EAAI,OAAS,WAAY,kBACtDE,EAAUJ,EAAQG,GACfC,GAAS,CACZ,GAAIA,EAAQC,QAAQJ,GAChB,OAAOG,EAEXA,EAAUA,EAAQD,EACtB,CACA,OAAO,IACX,EACIG,EAAqB,SAAUZ,EAASa,EAAQL,GAWhD,YAVkB,IAAdA,IAAwBA,EAAY,GAEpCA,EAAY,EAEAK,EAAOC,UAAYD,EAAOE,cAAgBf,EAAQgB,UAAYhB,EAAQe,aAItEf,EAAQgB,WAAaH,EAAOC,SAGhD,EACIG,EAAW,SAAUC,GACrB,GAAqB,iBAAVA,EAAoB,CAC3B,GAAIA,QACA,MAAO,GAEX,GAAqB,iBAAVA,EAAoB,CAC3B,GAAI,QAASA,EACT,OAAOD,EAASC,EAAMC,KAE1B,GAAI,YAAaD,EACb,OAAOA,EAAME,OAErB,CACA,OAAOF,CACX,CACA,OAAOA,EACFd,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,SACvB,EACIiB,GACIlF,EAAQmF,SAASC,cAAc,OAC5B,SAAUC,GACbrF,EAAMsF,UAAYD,EAAIE,OAEtB,IADA,IAAIC,EAAaxF,EAAMyF,SAAS,GACzBzF,EAAMwF,YACTxF,EAAM0F,YAAY1F,EAAMwF,YAE5B,OAAOA,CACX,GAEAG,EAAwB,SAAUC,GAClC,MAAqB,mBAAPA,EAAoBA,IAAOA,CAC7C,EACIC,EAAqB,SAAU5G,GAC/B,GAAiB,iBAANA,EACP,OAAOA,EAEX,GAAiB,iBAANA,EAAgB,CACvB,GAAI,YAAaA,EACb,OAAOA,EAAEgG,QAEb,GAAI,QAAShG,EACT,OAAOA,EAAE+F,GAEjB,CACA,MAAO,EACX,EACIc,EAAyB,SAAU7G,GACnC,GAAiB,iBAANA,EACP,OAAOA,EAEX,GAAiB,iBAANA,EAAgB,CACvB,GAAI,YAAaA,EACb,OAAOA,EAAE8G,QAEb,GAAI,YAAa9G,EACb,OAAOA,EAAEgG,OAEjB,CACA,MAAO,EACX,EACIe,EAAqB,SAAUjF,EAAQkF,GACvC,MAAO,CACHlC,GAAIhD,EAAOgD,GACXb,YAAanC,EAAOmC,YACpBgD,WAAYnF,EAAOmF,WACnBC,iBAAkBN,EAAmB9E,EAAOoF,kBAC5CC,iBAAkBrF,EAAOqF,iBACzBC,SAAUtF,EAAOsF,SACjBxD,OAAQ9B,EAAO8B,OACfyD,MAAOvF,EAAOuF,MACdC,YAAaxF,EAAOwF,YACpBxB,MAAOhE,EAAOgE,MACdyB,WAAYzF,EAAOgC,MAAQhC,EAAOgC,MAAMuD,WAAQG,EAChD5C,QAAS9C,EAAO8C,QAChBoC,QAASA,EAEjB,EACIS,EAAwB,SAAUd,EAAIb,EAAO/B,GAC7C,MAAqB,mBAAP4C,EAAoBA,EAAGd,EAASC,GAAQc,EAAmBd,GAAQ/B,GAAQ4C,CAC7F,EACIe,EAAoB,SAAUC,EAAW3H,GACzC,OAAO2H,EAAYd,EAAuB7G,GAAK6F,EAAS7F,EAC5D,EACI4H,EAAiB,SAAUC,EAAIC,EAAWC,GAC1CF,EAAGxB,UAAYqB,EAAkBI,EAAWC,EAChD,EACIC,EAAc,SAAUC,EAAIC,GAC5B,IAAIpC,EAAQmC,EAAGnC,MAAOqC,EAAKF,EAAGZ,MAAOA,OAAe,IAAPc,EAAgBrC,EAAQqC,EACjEC,EAASF,EAAGpC,MAAOuC,EAAKH,EAAGb,MAAOiB,OAAgB,IAAPD,EAAgBD,EAASC,EACxE,OAAOzB,EAAmBS,GAAOkB,cAAc3B,EAAmB0B,GAAS,GAAI,CAC3EE,YAAa,OACbC,mBAAmB,EACnBC,SAAS,GAEjB,EACIC,EAAa,SAAUC,EAAG/J,GAC1B,OAAO+J,EAAEC,KAAOhK,EAAEgK,IACtB,EACIC,EAAgB,SAAUlE,EAASrB,EAAMwF,QACtB,IAAfA,IAAyBA,EAAa,MAC1C,IAAIC,EAAQ,IAAIC,YAAY1F,EAAM,CAC9B2F,OAAQH,EACRI,SAAS,EACTC,YAAY,IAEhB,OAAOxE,EAAQkE,cAAcE,EACjC,EAKIK,EAAO,SAAUT,EAAG/J,GACpB,IAAIyK,EAAQxK,OAAOyK,KAAKX,GAAGY,OACvBC,EAAQ3K,OAAOyK,KAAK1K,GAAG2K,OAC3B,OAAOF,EAAMI,QAAO,SAAUzJ,GAAK,OAAOwJ,EAAME,QAAQ1J,GAAK,CAAG,GACpE,EACI2J,EAAgB,SAAUC,GAC1B,OAAO5K,MAAM6K,QAAQD,GAAcA,EAAa,CAACA,EACrD,EACIE,EAAwB,SAAUC,GAClC,OAAIA,GAAU/K,MAAM6K,QAAQE,GACjBA,EACFC,KAAI,SAAUlG,GACf,MAAO,IAAIlD,OAAOkD,EACtB,IACKW,KAAK,IAEP,IAAI7D,OAAOmJ,EACtB,EACIE,EAAsB,SAAUtF,EAASuF,GACzC,IAAIlC,GACHA,EAAKrD,EAAQwF,WAAWC,IAAIhK,MAAM4H,EAAI2B,EAAcO,GACzD,EACIG,EAA2B,SAAU1F,EAASuF,GAC9C,IAAIlC,GACHA,EAAKrD,EAAQwF,WAAWG,OAAOlK,MAAM4H,EAAI2B,EAAcO,GAC5D,EACIK,EAAwB,SAAUrD,GAClC,QAAgC,IAArBA,EACP,IACI,OAAOsD,KAAKC,MAAMvD,EACtB,CACA,MAAOwD,GACH,OAAOxD,CACX,CAEJ,MAAO,CAAC,CACZ,EACIyD,EAAkB,SAAU7G,EAAMsG,EAAKE,GACvC,IAAIM,EAAS9G,EAAK8G,OACdA,IACAP,EAAyBO,EAAQN,GACjCL,EAAoBW,EAAQR,GAEpC,EAEIS,EAA0B,WAC1B,SAASA,EAAS7C,GACd,IAAIrD,EAAUqD,EAAGrD,QAASrB,EAAO0E,EAAG1E,KAAMwH,EAAa9C,EAAG8C,WAC1DrL,KAAKkF,QAAUA,EACflF,KAAKqL,WAAaA,EAClBrL,KAAK6D,KAAOA,EACZ7D,KAAKsL,UAAW,CACpB,CAmBA,OAfAF,EAAS3L,UAAU8L,KAAO,WAItB,OAHAf,EAAoBxK,KAAKkF,QAASlF,KAAKqL,WAAWG,aAClDxL,KAAKkF,QAAQuG,aAAa,gBAAiB,QAC3CzL,KAAKsL,UAAW,EACTtL,IACX,EAIAoL,EAAS3L,UAAUiM,KAAO,WAItB,OAHAd,EAAyB5K,KAAKkF,QAASlF,KAAKqL,WAAWG,aACvDxL,KAAKkF,QAAQuG,aAAa,gBAAiB,SAC3CzL,KAAKsL,UAAW,EACTtL,IACX,EACOoL,CACX,CA3B6B,GA6BzBO,EAA2B,WAC3B,SAASA,EAAUpD,GACf,IAAIrD,EAAUqD,EAAGrD,QAASrB,EAAO0E,EAAG1E,KAAMwH,EAAa9C,EAAG8C,WAAYO,EAAWrD,EAAGqD,SACpF5L,KAAKkF,QAAUA,EACflF,KAAKqL,WAAaA,EAClBrL,KAAK6D,KAAOA,EACZ7D,KAAK4L,SAAWA,EAChB5L,KAAK6L,QAAS,EACd7L,KAAK8L,WAAY,EACjB9L,KAAK+L,YAAa,EAClB/L,KAAKgM,WAAY,CACrB,CA0GA,OArGAL,EAAUlM,UAAUwM,WAAa,SAAUC,EAAaC,GAGpD,IAAIF,GAAa,EASjB,MARsB,SAAlBjM,KAAK4L,SACLK,EACIjM,KAAKkF,QAAQkH,wBAAwBC,IAAMF,GAAkB,IACxDG,OAAOC,WAAW,gBAAgBpL,OAAO+K,EAAc,EAAG,QAAQrG,QAEpD,QAAlB7F,KAAK4L,WACVK,GAAa,GAEVA,CACX,EACAN,EAAUlM,UAAU+M,oBAAsB,SAAUC,GAChDzM,KAAKkF,QAAQuG,aAAa,wBAAyBgB,EACvD,EACAd,EAAUlM,UAAUiN,uBAAyB,WACzC1M,KAAKkF,QAAQyH,gBAAgB,wBACjC,EACAhB,EAAUlM,UAAUmN,KAAO,SAAUV,EAAaC,GAC9C3B,EAAoBxK,KAAKkF,QAASlF,KAAKqL,WAAWwB,WAClD7M,KAAKkF,QAAQuG,aAAa,gBAAiB,QAC3CzL,KAAK6L,QAAS,EACV7L,KAAKiM,WAAWC,EAAaC,KAC7B3B,EAAoBxK,KAAKkF,QAASlF,KAAKqL,WAAWyB,cAClD9M,KAAK8L,WAAY,EAEzB,EACAH,EAAUlM,UAAUsN,MAAQ,WACxBnC,EAAyB5K,KAAKkF,QAASlF,KAAKqL,WAAWwB,WACvD7M,KAAKkF,QAAQuG,aAAa,gBAAiB,SAC3CzL,KAAK0M,yBACL1M,KAAK6L,QAAS,EAEV7L,KAAK8L,YACLlB,EAAyB5K,KAAKkF,QAASlF,KAAKqL,WAAWyB,cACvD9M,KAAK8L,WAAY,EAEzB,EACAH,EAAUlM,UAAUuN,cAAgB,WAChCxC,EAAoBxK,KAAKkF,QAASlF,KAAKqL,WAAW4B,WACtD,EACAtB,EAAUlM,UAAUyN,iBAAmB,WACnCtC,EAAyB5K,KAAKkF,QAASlF,KAAKqL,WAAW4B,WAC3D,EACAtB,EAAUlM,UAAU0N,gBAAkB,WAClC3C,EAAoBxK,KAAKkF,QAASlF,KAAKqL,WAAW+B,aACtD,EACAzB,EAAUlM,UAAU4N,mBAAqB,WACrCzC,EAAyB5K,KAAKkF,QAASlF,KAAKqL,WAAW+B,aAC3D,EACAzB,EAAUlM,UAAU6N,OAAS,WACzB1C,EAAyB5K,KAAKkF,QAASlF,KAAKqL,WAAWkC,eACvDvN,KAAKkF,QAAQyH,gBAAgB,iBACzB3M,KAAK6D,OAASL,EAAmBE,WACjC1D,KAAKkF,QAAQuG,aAAa,WAAY,KAE1CzL,KAAK+L,YAAa,CACtB,EACAJ,EAAUlM,UAAU+N,QAAU,WAC1BhD,EAAoBxK,KAAKkF,QAASlF,KAAKqL,WAAWkC,eAClDvN,KAAKkF,QAAQuG,aAAa,gBAAiB,QACvCzL,KAAK6D,OAASL,EAAmBE,WACjC1D,KAAKkF,QAAQuG,aAAa,WAAY,MAE1CzL,KAAK+L,YAAa,CACtB,EACAJ,EAAUlM,UAAUgO,KAAO,SAAUvI,GACjC,IAAIiD,EAAKnI,KAAKkF,QACVwI,EAAaxI,EAAQwI,WACrBA,IACIxI,EAAQyI,YACRD,EAAWE,aAAazF,EAAIjD,EAAQyI,aAGpCD,EAAWG,YAAY1F,IAG/BA,EAAG0F,YAAY3I,EACnB,EACAyG,EAAUlM,UAAUqO,OAAS,SAAU5I,GACnC,IAAIiD,EAAKnI,KAAKkF,QACVwI,EAAavF,EAAGuF,WAChBA,IAEAA,EAAWE,aAAa1I,EAASiD,GAEjCuF,EAAW3G,YAAYoB,GAE/B,EACAwD,EAAUlM,UAAUsO,gBAAkB,WAClCvD,EAAoBxK,KAAKkF,QAASlF,KAAKqL,WAAW2C,cAClDhO,KAAKkF,QAAQuG,aAAa,YAAa,QACvCzL,KAAKgM,WAAY,CACrB,EACAL,EAAUlM,UAAUwO,mBAAqB,WACrCrD,EAAyB5K,KAAKkF,QAASlF,KAAKqL,WAAW2C,cACvDhO,KAAKkF,QAAQyH,gBAAgB,aAC7B3M,KAAKgM,WAAY,CACrB,EACOL,CACX,CAtH8B,GAwH1BuC,EAAuB,WACvB,SAASA,EAAM3F,GACX,IAAIrD,EAAUqD,EAAGrD,QAASrB,EAAO0E,EAAG1E,KAAMwH,EAAa9C,EAAG8C,WAAY8C,EAAe5F,EAAG4F,aACxFnO,KAAKkF,QAAUA,EACflF,KAAK6D,KAAOA,EACZ7D,KAAKqL,WAAaA,EAClBrL,KAAKmO,aAAeA,EACpBnO,KAAKoO,WAAapO,KAAKkF,QAAQmJ,YAAY7H,SAAS8H,eACpDtO,KAAK+L,WAAa7G,EAAQwC,SAC1B1H,KAAKuO,SAAWvO,KAAKuO,SAASC,KAAKxO,MACnCA,KAAKyO,SAAWzO,KAAKyO,SAASD,KAAKxO,MACnCA,KAAK0O,SAAW1O,KAAK0O,SAASF,KAAKxO,MACnCA,KAAK2O,QAAU3O,KAAK2O,QAAQH,KAAKxO,KACrC,CAkGA,OAjGAZ,OAAOwP,eAAeV,EAAMzO,UAAW,cAAe,CAClDoP,IAAK,SAAUjH,GACX5H,KAAKkF,QAAQ0C,YAAcA,CAC/B,EACAkH,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAeV,EAAMzO,UAAW,QAAS,CAC5CuP,IAAK,WACD,OAAOhP,KAAKkF,QAAQkB,KACxB,EACAyI,IAAK,SAAUzI,GACXpG,KAAKkF,QAAQkB,MAAQA,CACzB,EACA0I,YAAY,EACZC,cAAc,IAElBb,EAAMzO,UAAUwP,kBAAoB,WAChC,IAAI9G,EAAKnI,KAAKkF,QACdiD,EAAG+G,iBAAiB,QAASlP,KAAKuO,UAClCpG,EAAG+G,iBAAiB,QAASlP,KAAKyO,SAAU,CACxCU,SAAS,IAEbhH,EAAG+G,iBAAiB,QAASlP,KAAK0O,SAAU,CACxCS,SAAS,IAEbhH,EAAG+G,iBAAiB,OAAQlP,KAAK2O,QAAS,CACtCQ,SAAS,GAEjB,EACAjB,EAAMzO,UAAU2P,qBAAuB,WACnC,IAAIjH,EAAKnI,KAAKkF,QACdiD,EAAGkH,oBAAoB,QAASrP,KAAKyO,UACrCtG,EAAGkH,oBAAoB,QAASrP,KAAKuO,UACrCpG,EAAGkH,oBAAoB,QAASrP,KAAK0O,UACrCvG,EAAGkH,oBAAoB,OAAQrP,KAAK2O,QACxC,EACAT,EAAMzO,UAAU6N,OAAS,WACZtN,KAAKkF,QACXyH,gBAAgB,YACnB3M,KAAK+L,YAAa,CACtB,EACAmC,EAAMzO,UAAU+N,QAAU,WACbxN,KAAKkF,QACXuG,aAAa,WAAY,IAC5BzL,KAAK+L,YAAa,CACtB,EACAmC,EAAMzO,UAAU6P,MAAQ,WACftP,KAAKoO,YACNpO,KAAKkF,QAAQoK,OAErB,EACApB,EAAMzO,UAAU8P,KAAO,WACfvP,KAAKoO,YACLpO,KAAKkF,QAAQqK,MAErB,EACArB,EAAMzO,UAAU+P,MAAQ,SAAUC,GAM9B,YALiB,IAAbA,IAAuBA,GAAW,GACtCzP,KAAKkF,QAAQkB,MAAQ,GACjBqJ,GACAzP,KAAKyP,WAEFzP,IACX,EAKAkO,EAAMzO,UAAUgQ,SAAW,WAEvB,IAAIvK,EAAUlF,KAAKkF,QACnBA,EAAQwK,MAAMC,SAAW,GAAGxO,OAAO+D,EAAQ0C,YAAYlH,OAAS,EAAG,MACnEwE,EAAQwK,MAAME,MAAQ,GAAGzO,OAAO+D,EAAQkB,MAAM1F,OAAS,EAAG,KAC9D,EACAwN,EAAMzO,UAAU+M,oBAAsB,SAAUC,GAC5CzM,KAAKkF,QAAQuG,aAAa,wBAAyBgB,EACvD,EACAyB,EAAMzO,UAAUiN,uBAAyB,WACrC1M,KAAKkF,QAAQyH,gBAAgB,wBACjC,EACAuB,EAAMzO,UAAUgP,SAAW,WACnBzO,KAAK6D,OAASL,EAAmBE,WACjC1D,KAAKyP,UAEb,EACAvB,EAAMzO,UAAU8O,SAAW,SAAUjF,GAC7BtJ,KAAKmO,cACL7E,EAAMuG,gBAEd,EACA3B,EAAMzO,UAAUiP,SAAW,WACvB1O,KAAKoO,YAAa,CACtB,EACAF,EAAMzO,UAAUkP,QAAU,WACtB3O,KAAKoO,YAAa,CACtB,EACOF,CACX,CAhH0B,GAkHtB4B,EAAkB,EAElBC,EAAsB,WACtB,SAASA,EAAKxH,GACV,IAAIrD,EAAUqD,EAAGrD,QACjBlF,KAAKkF,QAAUA,EACflF,KAAKgQ,UAAYhQ,KAAKkF,QAAQc,UAC9BhG,KAAKiQ,OAASjQ,KAAKkF,QAAQe,YAC/B,CA+DA,OA9DA8J,EAAKtQ,UAAUyQ,QAAU,SAAUC,GAC/B,IAAIC,EAAQpQ,KAAKkF,QAAQmL,kBACrBD,EACApQ,KAAKkF,QAAQ0I,aAAauC,EAAMC,GAGhCpQ,KAAKkF,QAAQoL,OAAOH,EAE5B,EACAJ,EAAKtQ,UAAU8Q,YAAc,WACzBvQ,KAAKkF,QAAQc,UAAY,CAC7B,EACA+J,EAAKtQ,UAAU+Q,qBAAuB,SAAUtL,EAASQ,GACrD,IAAI+K,EAAQzQ,KACZ,GAAKkF,EAAL,CAGA,IAAIwL,EAAa1Q,KAAKkF,QAAQe,aAE1B0K,EAAqB3Q,KAAKkF,QAAQc,UAAY0K,EAC9CE,EAAgB1L,EAAQe,aAExB4K,EAAa3L,EAAQgB,UAAY0K,EAEjCE,EAAcpL,EAAY,EAAI1F,KAAKkF,QAAQc,UAAY6K,EAAaF,EAAqBzL,EAAQgB,UACrG6K,uBAAsB,WAClBN,EAAMO,eAAeF,EAAapL,EACtC,GAXA,CAYJ,EACAqK,EAAKtQ,UAAUwR,YAAc,SAAUjB,EAAWkB,EAAUJ,GACxD,IAAIK,GAAUL,EAAcd,GAAakB,EACrCE,EAAWD,EAAS,EAAIA,EAAS,EACrCnR,KAAKkF,QAAQc,UAAYgK,EAAYoB,CACzC,EACArB,EAAKtQ,UAAU4R,UAAY,SAAUrB,EAAWkB,EAAUJ,GACtD,IAAIK,GAAUnB,EAAYc,GAAeI,EACrCE,EAAWD,EAAS,EAAIA,EAAS,EACrCnR,KAAKkF,QAAQc,UAAYgK,EAAYoB,CACzC,EACArB,EAAKtQ,UAAUuR,eAAiB,SAAUF,EAAapL,GACnD,IAAI+K,EAAQzQ,KACRkR,EAAWpB,EACXwB,EAAsBtR,KAAKkF,QAAQc,UACnCuL,GAAoB,EACpB7L,EAAY,GACZ1F,KAAKiR,YAAYK,EAAqBJ,EAAUJ,GAC5CQ,EAAsBR,IACtBS,GAAoB,KAIxBvR,KAAKqR,UAAUC,EAAqBJ,EAAUJ,GAC1CQ,EAAsBR,IACtBS,GAAoB,IAGxBA,GACAR,uBAAsB,WAClBN,EAAMO,eAAeF,EAAapL,EACtC,GAER,EACOqK,CACX,CAtEyB,GAwErByB,EAAgC,WAChC,SAASA,EAAejJ,GACpB,IAAIrD,EAAUqD,EAAGrD,QAASmG,EAAa9C,EAAG8C,WAC1CrL,KAAKkF,QAAUA,EACflF,KAAKqL,WAAaA,EAClBrL,KAAK+L,YAAa,CACtB,CAsEA,OArEA3M,OAAOwP,eAAe4C,EAAe/R,UAAW,WAAY,CACxDuP,IAAK,WACD,MAAuC,WAAhChP,KAAKkF,QAAQuM,QAAQrP,MAChC,EACA0M,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe4C,EAAe/R,UAAW,MAAO,CACnDuP,IAAK,WACD,OAAOhP,KAAKkF,QAAQwM,GACxB,EACA5C,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe4C,EAAe/R,UAAW,QAAS,CACrDuP,IAAK,WACD,OAAOhP,KAAKkF,QAAQkB,KACxB,EACAyI,IAAK,SAAUzI,GACXpG,KAAKkF,QAAQuG,aAAa,QAASrF,GACnCpG,KAAKkF,QAAQkB,MAAQA,CACzB,EACA0I,YAAY,EACZC,cAAc,IAElByC,EAAe/R,UAAUkS,QAAU,WAC/B,IAAIxJ,EAAKnI,KAAKkF,QAEdsF,EAAoBrC,EAAInI,KAAKqL,WAAWuG,OACxCzJ,EAAG0J,QAAS,EAEZ1J,EAAG2J,UAAY,EAEf,IAAIC,EAAY5J,EAAG6J,aAAa,SAC5BD,GACA5J,EAAGsD,aAAa,yBAA0BsG,GAE9C5J,EAAGsD,aAAa,cAAe,SACnC,EACA+F,EAAe/R,UAAUwS,OAAS,WAC9B,IAAI9J,EAAKnI,KAAKkF,QAEd0F,EAAyBzC,EAAInI,KAAKqL,WAAWuG,OAC7CzJ,EAAG0J,QAAS,EACZ1J,EAAGwE,gBAAgB,YAEnB,IAAIoF,EAAY5J,EAAG6J,aAAa,0BAC5BD,GACA5J,EAAGwE,gBAAgB,0BACnBxE,EAAGsD,aAAa,QAASsG,IAGzB5J,EAAGwE,gBAAgB,SAEvBxE,EAAGwE,gBAAgB,cACvB,EACA6E,EAAe/R,UAAU6N,OAAS,WAC9BtN,KAAKkF,QAAQyH,gBAAgB,YAC7B3M,KAAKkF,QAAQwC,UAAW,EACxB1H,KAAK+L,YAAa,CACtB,EACAyF,EAAe/R,UAAU+N,QAAU,WAC/BxN,KAAKkF,QAAQuG,aAAa,WAAY,IACtCzL,KAAKkF,QAAQwC,UAAW,EACxB1H,KAAK+L,YAAa,CACtB,EACAyF,EAAe/R,UAAUyS,aAAe,SAAUC,EAAWC,GACzDhJ,EAAcpJ,KAAKkF,QAASiN,EAAWC,GAAQ,CAAC,EACpD,EACOZ,CACX,CA7EmC,GA+E/Ba,EAA8B,SAAUC,GAExC,SAASD,IACL,OAAkB,OAAXC,GAAmBA,EAAO3R,MAAMX,KAAMS,YAAcT,IAC/D,CACA,OAJAJ,EAAUyS,EAAcC,GAIjBD,CACX,CANiC,CAM/Bb,GAEEe,EAAa,SAAUC,EAAKC,GAE5B,YADqB,IAAjBA,IAA2BA,GAAe,QACxB,IAARD,EAAsBC,IAAiBD,CACzD,EACIE,EAAoB,SAAUd,GAK9B,GAJqB,iBAAVA,IAEPA,EAAQA,EAAMe,MAAM,KAAK3I,QAAO,SAAU1J,GAAK,OAAOA,EAAEI,MAAQ,KAEhEnB,MAAM6K,QAAQwH,IAAUA,EAAMlR,OAC9B,OAAOkR,CAGf,EACIgB,EAAmB,SAAUxM,EAAOyM,EAAYC,GAEhD,QADuB,IAAnBA,IAA6BA,GAAiB,GAC7B,iBAAV1M,EAAoB,CAC3B,IAAI2M,EAAiB5M,EAASC,GAO9B,OALewM,EAAiB,CAC5BxM,MAAOA,EACPuB,MAHYmL,GAAkBC,IAAmB3M,EAAQA,EAAQ,CAAEgB,QAAS2L,EAAgB1M,IAAKD,GAIjG4M,UAAU,IACX,EAEP,CACA,IAAIC,EAAgB7M,EACpB,GAAI,YAAa6M,EAAe,CAC5B,IAAKJ,EAED,MAAM,IAAIhT,UAAU,2BAExB,IAAIuE,EAAQ6O,EACRC,EAAU9O,EAAM8O,QAAQ3I,KAAI,SAAUU,GAAK,OAAO2H,EAAiB3H,GAAG,EAAQ,IASlF,MARe,CACX7F,GAAI,EACJgB,MAAOhC,EAAMgC,MACbuB,MAAOT,EAAmB9C,EAAMuD,QAAUvD,EAAMgC,MAChDlC,SAAUgP,EAAQxS,OAClBgH,WAAYtD,EAAMsD,SAClBwL,QAASA,EAGjB,CACA,IAAI9Q,EAAS6Q,EAiBb,MAhBa,CACT7N,GAAI,EACJhB,MAAO,KACP+O,MAAO,EACPhK,KAAM,EACN/C,MAAOhE,EAAOgE,MACduB,MAAOvF,EAAOuF,OAASvF,EAAOgE,MAC9BlC,OAAQqO,EAAWnQ,EAAO8B,QAC1B8O,SAAUT,EAAWnQ,EAAO4Q,UAAU,GACtCtL,SAAU6K,EAAWnQ,EAAOsF,UAAU,GACtCE,YAAa2K,EAAWnQ,EAAOwF,aAAa,GAC5CrD,aAAa,EACbgD,WAAYmL,EAAkBtQ,EAAOmF,YACrCC,iBAAkBpF,EAAOoF,iBACzBC,iBAAkBrF,EAAOqF,iBAGjC,EAEI2L,EAAqB,SAAUnI,GAAK,MAAqB,UAAdA,EAAEoI,OAAqB,EAClEC,EAAsB,SAAUrI,GAAK,MAAqB,WAAdA,EAAEoI,OAAsB,EACpEE,GAAe,SAAUtI,GAAK,MAAqB,WAAdA,EAAEoI,OAAsB,EAC7DG,GAAiB,SAAUvI,GAAK,MAAqB,aAAdA,EAAEoI,OAAwB,EAEjEI,GAA+B,SAAUnB,GAEzC,SAASmB,EAAclL,GACnB,IAAIrD,EAAUqD,EAAGrD,QAASmG,EAAa9C,EAAG8C,WAAYqI,EAAWnL,EAAGmL,SAAUC,EAAqBpL,EAAGoL,mBAClGlD,EAAQ6B,EAAO3S,KAAKK,KAAM,CAAEkF,QAASA,EAASmG,WAAYA,KAAiBrL,KAG/E,OAFAyQ,EAAMiD,SAAWA,EACjBjD,EAAMkD,mBAAqBA,EACpBlD,CACX,CAkFA,OAzFA7Q,EAAU6T,EAAenB,GAQzBlT,OAAOwP,eAAe6E,EAAchU,UAAW,oBAAqB,CAChEuP,IAAK,WACD,OAAQhP,KAAKkF,QAAQ0O,cAAc,qBAE/B5T,KAAKkF,QAAQ0O,cAAc,sBACnC,EACA9E,YAAY,EACZC,cAAc,IAElB0E,EAAchU,UAAUoU,WAAa,SAAUX,GAC3C,IAAIzC,EAAQzQ,KACR8T,EAAWtN,SAASuN,yBACxBb,EAAQc,SAAQ,SAAUC,GACtB,IAAI7R,EAAS6R,EACb,IAAI7R,EAAO8C,QAAX,CAGA,IAAIoF,EAASmG,EAAMiD,SAAStR,GAC5B0R,EAASjG,YAAYvD,GACrBlI,EAAO8C,QAAUoF,CAHjB,CAIJ,IACAtK,KAAKkF,QAAQ2I,YAAYiG,EAC7B,EACAL,EAAchU,UAAUyU,iBAAmB,WACvC,IAAIzD,EAAQzQ,KACRkT,EAAU,GAUd,OATAlT,KAAKkF,QAAQiP,iBAAiB,sCAAsCH,SAAQ,SAAU/I,GAC9EsI,GAAatI,GACbiI,EAAQkB,KAAK3D,EAAM4D,gBAAgBpJ,IAE9BuI,GAAevI,IACpBiI,EAAQkB,KAAK3D,EAAM6D,kBAAkBrJ,GAG7C,IACOiI,CACX,EAEAO,EAAchU,UAAU4U,gBAAkB,SAAU/J,GAMhD,OAJKA,EAAOiK,aAAa,UAAYjK,EAAOiK,aAAa,iBACrDjK,EAAOmB,aAAa,QAAS,IAC7BnB,EAAOlE,MAAQ,IAEZ,CACHhB,GAAI,EACJhB,MAAO,KACP+O,MAAO,EACPhK,KAAM,EACN/C,MAAOkE,EAAOlE,MAGduB,MAAO2C,EAAO3C,MACdzC,QAASoF,EACTpG,QAAQ,EAER8O,SAAUhT,KAAK2T,mBAAqBrJ,EAAO0I,SAAW1I,EAAOiK,aAAa,YAC1E7M,SAAU4C,EAAO5C,SACjBnD,aAAa,EACbqD,YAAa5H,KAAK2T,sBAAwBrJ,EAAOlE,OAASkE,EAAOiK,aAAa,gBAC9EhN,gBAAiD,IAA9B+C,EAAOmH,QAAQlK,WAA6BmL,EAAkBpI,EAAOmH,QAAQlK,iBAAcO,EAC9GN,sBAA6D,IAApC8C,EAAOmH,QAAQjK,iBAClC,CAAElB,QAASgE,EAAOmH,QAAQjK,uBAC1BM,EACNL,iBAAkBqD,EAAsBR,EAAOmH,QAAQhK,kBAE/D,EACAgM,EAAchU,UAAU6U,kBAAoB,SAAUE,GAClD,IAAI/D,EAAQzQ,KACRyU,EAAUD,EAASL,iBAAiB,UACpCjB,EAAU3T,MAAMuB,KAAK2T,GAASlK,KAAI,SAAUD,GAAU,OAAOmG,EAAM4D,gBAAgB/J,EAAS,IAChG,MAAO,CACHlF,GAAI,EACJuC,MAAO6M,EAAS7M,OAAS,GACzBvB,MAAOoO,EAASxC,aAAa,UAAY,GACzC9M,QAASsP,EACTtQ,SAAUgP,EAAQxS,OAClBgH,SAAU8M,EAAS9M,SACnBwL,QAASA,EAEjB,EACOO,CACX,CA3FkC,CA2FhCjC,GAiCEkD,GAAiB,CACjBC,MAAO,GACPzB,QAAS,GACT0B,QAAQ,EACRC,mBAAoB,EACpBC,cAAe,EACfC,sBAAuB,OACvBC,0BAA0B,EAC1BC,YAAY,EACZC,UAAU,EACVC,cAAe,SAAU/O,GAAS,QAASA,GAAmB,KAAVA,CAAc,EAClEgP,aAAa,EACbC,kBAAkB,EAClBC,2BAA2B,EAC3BC,WAAW,EACXtN,WAAW,EACXuN,oBAAoB,EACpBC,uBAAuB,EACvBC,UAAW,IACXC,OAAO,EACPC,eAAe,EACfC,eAAe,EACfC,YAAa,EACbC,kBAAmB,EACnBC,aAAc,CAAC,QAAS,SACxBpK,SAAU,OACVqK,qBAAqB,EACrBC,YAAY,EACZC,iBAAiB,EACjBC,OAAQ9N,EACR+N,WAAY,KACZzO,aAAa,EACb0O,iBAAkB,KAClBC,uBAAwB,KACxBC,aAAc,KACdC,YAAa,KACbC,sBAAuB,OACvBC,YAAa,aACbC,cAAe,mBACfC,cAAe,4BACfC,eAAgB,kBAChBC,eAAgB,kCAChBC,kBAAmB,wDACnBC,YAAa,SAAU7Q,GAAS,MAAO,0BAA2BjF,OAAOiF,EAAO,QAAW,EAC3F8Q,mBAAoB,WAAc,MAAO,aAAe,EACxDC,oBAAqB,SAAU/Q,GAAS,MAAO,gBAAgBjF,OAAOiF,EAAQ,EAC9EgR,YAAa,SAAUtC,GAAgB,MAAO,QAAQ3T,OAAO2T,EAAc,uBAAyB,EACpGuC,cAAe,SAAUC,EAAQ5O,GAAU,OAAO4O,IAAW5O,CAAQ,EACrE6O,YAAa,CACTC,cAAc,GAElBC,QAAS,GACTC,eAAgB,KAChBC,0BAA2B,KAC3BtM,WArFqB,CACrBuM,eAAgB,CAAC,WACjBC,eAAgB,CAAC,kBACjBjG,MAAO,CAAC,kBACRkG,YAAa,CAAC,yBAA0B,gBACxCC,KAAM,CAAC,iBACPC,UAAW,CAAC,2BACZC,WAAY,CAAC,yBACbC,aAAc,CAAC,2BACf7T,KAAM,CAAC,iBACP8T,eAAgB,CAAC,6BACjBC,aAAc,CAAC,2BACfC,WAAY,CAAC,yBACbC,YAAa,CAAC,wBACd1Q,YAAa,CAAC,wBACdxD,MAAO,CAAC,kBACRmU,aAAc,CAAC,oBACfC,OAAQ,CAAC,kBAAmB,aAC5BhN,YAAa,CAAC,aACdyB,WAAY,CAAC,cACbJ,UAAW,CAAC,WACZU,cAAe,CAAC,eAChBkL,iBAAkB,CAAC,kBACnBC,cAAe,CAAC,eAChB5L,aAAc,CAAC,cACfkB,aAAc,CAAC,cACf2K,OAAQ,CAAC,mBACT/U,UAAW,CAAC,4BAA6B,cACzCgV,UAAW,CAAC,kBACZC,UAAW,CAAC,mBAyDZC,qBAAqB,GAGrBvW,GAAa,SAAU8B,GACvB,IAAI8G,EAAS9G,EAAK8G,OACdA,IACAA,EAAON,SACPxG,EAAK8G,YAASrD,EAEtB,EACA,SAAS6M,GAAMrU,EAAGyY,EAAQC,GACtB,IAAIC,EAAQ3Y,EACR4Y,GAAS,EACb,OAAQH,EAAOlV,MACX,KAAKvC,EAAWO,SACZkX,EAAO1U,KAAK2O,UAAW,GACnB7K,EAAK4Q,EAAO1U,KAAKa,WAEjBiD,EAAG6K,UAAW,EACd7K,EAAGsD,aAAa,WAAY,KAEhCwN,EAAM7E,KAAK2E,EAAO1U,MAClB,MAEJ,KAAK/C,EAAWQ,YAEZ,IAAIqG,EACJ,GAFA4Q,EAAO1U,KAAK2O,UAAW,EACnB7K,EAAK4Q,EAAO1U,KAAKa,QACb,CACJiD,EAAG6K,UAAW,EACd7K,EAAGwE,gBAAgB,YAEnB,IAAIwM,EAAShR,EAAGiR,cACZD,GAAU7F,EAAoB6F,IAAWA,EAAOtV,OAASL,EAAmBE,YAC5EyV,EAAO/S,MAAQ,GAEvB,CAEA7D,GAAWwW,EAAO1U,MAClB4U,EAAQA,EAAMjP,QAAO,SAAU5H,GAAU,OAAOA,EAAOgD,KAAO2T,EAAO1U,KAAKe,EAAI,IAC9E,MAEJ,KAAK9D,EAAWE,cACZe,GAAWwW,EAAO3W,QAClB6W,EAAQA,EAAMjP,QAAO,SAAU3F,GAAQ,OAAOA,EAAKe,KAAO2T,EAAO3W,OAAOgD,EAAI,IAC5E,MAEJ,KAAK9D,EAAWS,eACZ,IAAIwC,EAAcwU,EAAOxU,YACrBF,EAAO4U,EAAMI,MAAK,SAAUpF,GAAO,OAAOA,EAAI7O,KAAO2T,EAAO1U,KAAKe,EAAI,IACrEf,GAAQA,EAAKE,cAAgBA,IAC7BF,EAAKE,YAAcA,EACfyU,GACA9N,EAAgB7G,EAAME,EAAcyU,EAAQ3N,WAAWoN,iBAAmBO,EAAQ3N,WAAWqN,cAAenU,EAAcyU,EAAQ3N,WAAWqN,cAAgBM,EAAQ3N,WAAWoN,mBAGxL,MAEJ,QACIS,GAAS,EAIjB,MAAO,CAAED,MAAOA,EAAOC,OAAQA,EACnC,CAEA,SAASI,GAAOhZ,EAAGyY,GACf,IAAIE,EAAQ3Y,EACR4Y,GAAS,EACb,OAAQH,EAAOlV,MACX,KAAKvC,EAAWM,UACZqX,EAAM7E,KAAK2E,EAAO3U,OAClB,MAEJ,KAAK9C,EAAWK,cACZsX,EAAQ,GACR,MAEJ,QACIC,GAAS,EAIjB,MAAO,CAAED,MAAOA,EAAOC,OAAQA,EACnC,CAGA,SAAShG,GAAQ5S,EAAGyY,EAAQC,GACxB,IAAIC,EAAQ3Y,EACR4Y,GAAS,EACb,OAAQH,EAAOlV,MACX,KAAKvC,EAAWC,WACZ0X,EAAM7E,KAAK2E,EAAO3W,QAClB,MAEJ,KAAKd,EAAWE,cACZuX,EAAO3W,OAAOmX,cAAWzR,EACrBiR,EAAO3W,OAAOgC,QACd2U,EAAO3W,OAAOgC,MAAM8O,QAAU6F,EAAO3W,OAAOgC,MAAM8O,QAAQlJ,QAAO,SAAUiK,GAAO,OAAOA,EAAI7O,KAAO2T,EAAO3W,OAAOgD,EAAI,KAE1H6T,EAAQA,EAAMjP,QAAO,SAAUiK,GAAO,OAAOA,EAAI7O,KAAO2T,EAAO3W,OAAOgD,EAAI,IAC1E,MAEJ,KAAK9D,EAAWO,SAChB,KAAKP,EAAWQ,YACZiX,EAAO1U,KAAKkV,cAAWzR,EACvB,MAEJ,KAAKxG,EAAWG,eAEZ,IAAI+X,EAAgB,GACpBT,EAAO/U,QAAQgQ,SAAQ,SAAUyF,GAC7BD,EAAcC,EAAOpV,KAAKe,IAAMqU,CACpC,IACAR,EAAMjF,SAAQ,SAAU5R,GACpB,IAAIqX,EAASD,EAAcpX,EAAOgD,SACnB0C,IAAX2R,GACArX,EAAO+Q,MAAQsG,EAAOtG,MACtB/Q,EAAO+G,KAAOsQ,EAAOtQ,KACrB/G,EAAO8B,QAAS,IAGhB9B,EAAO+Q,MAAQ,EACf/Q,EAAO+G,KAAO,EACd/G,EAAO8B,QAAS,GAEhB8U,GAAWA,EAAQF,sBACnB1W,EAAOmX,cAAWzR,EAE1B,IACA,MAEJ,KAAKxG,EAAWI,iBACZuX,EAAMjF,SAAQ,SAAU5R,GACpBA,EAAO8B,OAAS6U,EAAO7U,OACnB8U,GAAWA,EAAQF,sBACnB1W,EAAOmX,cAAWzR,EAE1B,IACA,MAEJ,KAAKxG,EAAWK,cACZsX,EAAQ,GACR,MAEJ,QACIC,GAAS,EAIjB,MAAO,CAAED,MAAOA,EAAOC,OAAQA,EACnC,CAEA,IAAIQ,GAAW,CACXJ,OAAQA,GACR3E,MAAOA,GACPzB,QAASA,IAETyG,GAAuB,WACvB,SAASA,EAAMX,GACXhZ,KAAK4Z,OAAS5Z,KAAK6Z,aACnB7Z,KAAK8Z,WAAa,GAClB9Z,KAAK+Z,KAAO,EACZ/Z,KAAKga,SAAWhB,CACpB,CA8KA,OA7KA5Z,OAAOwP,eAAe+K,EAAMla,UAAW,eAAgB,CAEnDuP,IAAK,WACD,MAAO,CACHsK,OAAQ,GACR3E,MAAO,GACPzB,QAAS,GAEjB,EACApE,YAAY,EACZC,cAAc,IAGlB4K,EAAMla,UAAUwa,UAAY,SAAUC,GAClC,MAAO,CACHZ,OAAQY,EACRvF,MAAOuF,EACPhH,QAASgH,EAEjB,EACAP,EAAMla,UAAU0a,MAAQ,WACpBna,KAAK4Z,OAAS5Z,KAAK6Z,aACnB,IAAIO,EAAUpa,KAAKia,WAAU,GACzBja,KAAK+Z,KACL/Z,KAAKqa,WAAaD,EAGlBpa,KAAK8Z,WAAW9F,SAAQ,SAAU/S,GAAK,OAAOA,EAAEmZ,EAAU,GAElE,EACAT,EAAMla,UAAU6a,UAAY,SAAUC,GAElC,OADAva,KAAK8Z,WAAW1F,KAAKmG,GACdva,IACX,EACA2Z,EAAMla,UAAU+a,SAAW,SAAUzB,GACjC,IAAItI,EAAQzQ,KACRiZ,EAAQjZ,KAAK4Z,OACba,GAAa,EACbL,EAAUpa,KAAKqa,YAAcra,KAAKia,WAAU,GAChD7a,OAAOyK,KAAK6P,IAAU1F,SAAQ,SAAU0G,GACpC,IAAIC,EAAcjB,GAASgB,GAAKzB,EAAMyB,GAAM3B,EAAQtI,EAAMuJ,UACtDW,EAAYzB,SACZuB,GAAa,EACbL,EAAQM,IAAO,EACfzB,EAAMyB,GAAOC,EAAY1B,MAEjC,IACIwB,IACIza,KAAK+Z,KACL/Z,KAAKqa,WAAaD,EAGlBpa,KAAK8Z,WAAW9F,SAAQ,SAAU/S,GAAK,OAAOA,EAAEmZ,EAAU,IAGtE,EACAT,EAAMla,UAAUmb,QAAU,SAAUC,GAChC7a,KAAK+Z,OACL,IACIc,GACJ,CACA,QAEI,GADA7a,KAAK+Z,KAAOpV,KAAKD,IAAI,EAAG1E,KAAK+Z,KAAO,IAC/B/Z,KAAK+Z,KAAM,CACZ,IAAIe,EAAc9a,KAAKqa,WACnBS,IACA9a,KAAKqa,gBAAavS,EAClB9H,KAAK8Z,WAAW9F,SAAQ,SAAU/S,GAAK,OAAOA,EAAE6Z,EAAc,IAEtE,CACJ,CACJ,EACA1b,OAAOwP,eAAe+K,EAAMla,UAAW,QAAS,CAI5CuP,IAAK,WACD,OAAOhP,KAAK4Z,MAChB,EACA9K,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe+K,EAAMla,UAAW,QAAS,CAI5CuP,IAAK,WACD,OAAOhP,KAAKiZ,MAAMtE,KACtB,EACA7F,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe+K,EAAMla,UAAW,yBAA0B,CAI7DuP,IAAK,WACD,OAAOhP,KAAK2U,MAAM3K,QAAO,SAAU3F,GAAQ,OAAOA,EAAKH,QAAUG,EAAKE,WAAa,GACvF,EACAuK,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe+K,EAAMla,UAAW,UAAW,CAI9CuP,IAAK,WACD,OAAOhP,KAAKiZ,MAAM/F,OACtB,EACApE,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe+K,EAAMla,UAAW,gBAAiB,CAIpDuP,IAAK,WACD,OAAOhP,KAAKkT,QAAQlJ,QAAO,SAAU5H,GAAU,OAAOA,EAAO8B,MAAQ,GACzE,EACA4K,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe+K,EAAMla,UAAW,oBAAqB,CAIxDuP,IAAK,WACD,IAAIgK,EAAUhZ,KAAKga,SACnB,OAAOha,KAAKkT,QAAQlJ,QAAO,SAAU5H,GAAU,OAAQA,EAAOwF,cAAgBoR,EAAQ+B,wBAA0B3Y,EAAOsF,SAAW,GACtI,EACAoH,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe+K,EAAMla,UAAW,SAAU,CAI7CuP,IAAK,WACD,OAAOhP,KAAKiZ,MAAMK,MACtB,EACAxK,YAAY,EACZC,cAAc,IAElB3P,OAAOwP,eAAe+K,EAAMla,UAAW,eAAgB,CAInDuP,IAAK,WACD,IAAIyB,EAAQzQ,KACZ,OAAOA,KAAKiZ,MAAMK,OAAOtP,QAAO,SAAU5F,GACtC,IAAIkH,EAAWlH,EAAMF,SAAWE,EAAMsD,SAClCsT,EAAmBvK,EAAMwI,MAAM/F,QAAQ+H,MAAK,SAAU7Y,GAAU,OAAOA,EAAO8B,SAAW9B,EAAOsF,QAAU,IAC9G,OAAO4D,GAAY0P,CACvB,GAAG,GACP,EACAlM,YAAY,EACZC,cAAc,IAElB4K,EAAMla,UAAUyb,MAAQ,WACpB,OAAOlb,KAAK+Z,KAAO,CACvB,EAIAJ,EAAMla,UAAU0b,cAAgB,SAAU/V,GACtC,OAAOpF,KAAKob,cAAc/B,MAAK,SAAUjX,GAAU,OAAOA,EAAOgD,KAAOA,CAAI,GAChF,EAIAuU,EAAMla,UAAU4b,aAAe,SAAUjW,GACrC,OAAOpF,KAAKsZ,OAAOD,MAAK,SAAUjV,GAAS,OAAOA,EAAMgB,KAAOA,CAAI,GACvE,EACOuU,CACX,CArL0B,GAuLtB2B,GAAc,CACdzC,UAAW,aACXD,UAAW,aACXhV,UAAW,aACX2X,QAAS,IAGb,SAASC,GAAgBvQ,EAAGwQ,EAAGpb,GAC7B,OAAQob,EAAIC,GAAeD,MAAOxQ,EAAI7L,OAAOwP,eAAe3D,EAAGwQ,EAAG,CAChErV,MAAO/F,EACPyO,YAAY,EACZC,cAAc,EACd4M,UAAU,IACP1Q,EAAEwQ,GAAKpb,EAAG4K,CACjB,CACA,SAAS2Q,GAAQ3Q,EAAGwQ,GAClB,IAAIpb,EAAIjB,OAAOyK,KAAKoB,GACpB,GAAI7L,OAAOyc,sBAAuB,CAChC,IAAIC,EAAI1c,OAAOyc,sBAAsB5Q,GACrCwQ,IAAMK,EAAIA,EAAE9R,QAAO,SAAUyR,GAC3B,OAAOrc,OAAO2c,yBAAyB9Q,EAAGwQ,GAAG3M,UAC/C,KAAKzO,EAAE+T,KAAKzT,MAAMN,EAAGyb,EACvB,CACA,OAAOzb,CACT,CACA,SAAS2b,GAAe/Q,GACtB,IAAK,IAAIwQ,EAAI,EAAGA,EAAIhb,UAAUC,OAAQ+a,IAAK,CACzC,IAAIpb,EAAI,MAAQI,UAAUgb,GAAKhb,UAAUgb,GAAK,CAAC,EAC/CA,EAAI,EAAIG,GAAQxc,OAAOiB,IAAI,GAAM2T,SAAQ,SAAUyH,GACjDD,GAAgBvQ,EAAGwQ,EAAGpb,EAAEob,GAC1B,IAAKrc,OAAO6c,0BAA4B7c,OAAO8c,iBAAiBjR,EAAG7L,OAAO6c,0BAA0B5b,IAAMub,GAAQxc,OAAOiB,IAAI2T,SAAQ,SAAUyH,GAC7Irc,OAAOwP,eAAe3D,EAAGwQ,EAAGrc,OAAO2c,yBAAyB1b,EAAGob,GACjE,GACF,CACA,OAAOxQ,CACT,CACA,SAASkR,GAAa9b,EAAGob,GACvB,GAAI,iBAAmBpb,IAAMA,EAAG,OAAOA,EACvC,IAAI4K,EAAI5K,EAAE+b,OAAOC,aACjB,QAAI,IAAWpR,EAAG,CAChB,IAAI1K,EAAI0K,EAAEtL,KAAKU,EAAGob,GAClB,GAAI,iBAAmBlb,EAAG,OAAOA,EACjC,MAAM,IAAIV,UAAU,+CACtB,CACA,OAAQ,WAAa4b,EAAI3b,OAASwc,QAAQjc,EAC5C,CACA,SAASqb,GAAerb,GACtB,IAAIE,EAAI4b,GAAa9b,EAAG,UACxB,MAAO,iBAAmBE,EAAIA,EAAIA,EAAI,EACxC,CAWA,SAAS6J,GAAQhE,GACf,OAAQ7G,MAAM6K,QAA+C7K,MAAM6K,QAAQhE,GAAjC,mBAAlBmW,GAAOnW,EACjC,CACA,SAASoW,GAAapW,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,IAAIqT,EAASrT,EAAQ,GACrB,MAAiB,KAAVqT,GAAiB,EAAIrT,IAAS,IAAY,KAAOqT,CAC1D,CACA,SAAS1U,GAASqB,GAChB,OAAgB,MAATA,EAAgB,GAAKoW,GAAapW,EAC3C,CACA,SAASqW,GAASrW,GAChB,MAAwB,iBAAVA,CAChB,CACA,SAASsW,GAAStW,GAChB,MAAwB,iBAAVA,CAChB,CAGA,SAASuW,GAAUvW,GACjB,OAAiB,IAAVA,IAA4B,IAAVA,GAAmBwW,GAAaxW,IAA2B,oBAAjBmW,GAAOnW,EAC5E,CACA,SAASyW,GAASzW,GAChB,MAAwB,iBAAVA,CAChB,CAGA,SAASwW,GAAaxW,GACpB,OAAOyW,GAASzW,IAAoB,OAAVA,CAC5B,CACA,SAAS0W,GAAU1W,GACjB,OAAOA,OACT,CACA,SAAS2W,GAAQ3W,GACf,OAAQA,EAAMQ,OAAOlG,MACvB,CAIA,SAAS6b,GAAOnW,GACd,OAAgB,MAATA,OAA0B0B,IAAV1B,EAAsB,qBAAuB,gBAAkBhH,OAAOK,UAAUsF,SAASpF,KAAKyG,EACvH,CACA,MAAM4W,GAAuB,yBACvBC,GAAuCvC,GAAO,yBAAyBA,IACvEwC,GAA2BxY,GAAO,iCAAiCA,KACnEyY,GAAuB9X,GAAQ,WAAWA,oBAC1C+X,GAA2B1C,GAAO,6BAA6BA,gCAC/D2C,GAASje,OAAOK,UAAUC,eAChC,MAAM4d,GACJ,WAAArd,CAAY4J,GACV7J,KAAKud,MAAQ,GACbvd,KAAKwd,QAAU,CAAC,EAChB,IAAIC,EAAc,EAClB5T,EAAKmK,SAAQ0G,IACX,IAAIzG,EAAMyJ,GAAUhD,GACpB1a,KAAKud,MAAMnJ,KAAKH,GAChBjU,KAAKwd,QAAQvJ,EAAI7O,IAAM6O,EACvBwJ,GAAexJ,EAAI0J,MAAM,IAI3B3d,KAAKud,MAAMvJ,SAAQ0G,IACjBA,EAAIiD,QAAUF,CAAW,GAE7B,CACA,GAAAzO,CAAI4O,GACF,OAAO5d,KAAKwd,QAAQI,EACtB,CACA,IAAA/T,GACE,OAAO7J,KAAKud,KACd,CACA,MAAAM,GACE,OAAO9S,KAAK+S,UAAU9d,KAAKud,MAC7B,EAEF,SAASG,GAAUhD,GACjB,IAAIqD,EAAO,KACP3Y,EAAK,KACL4Y,EAAM,KACNL,EAAS,EACTM,EAAQ,KACZ,GAAIxB,GAAS/B,IAAQtQ,GAAQsQ,GAC3BsD,EAAMtD,EACNqD,EAAOG,GAAcxD,GACrBtV,EAAK+Y,GAAYzD,OACZ,CACL,IAAK2C,GAAO1d,KAAK+a,EAAK,QACpB,MAAM,IAAI0D,MAAMjB,GAAqB,SAEvC,MAAM9X,EAAOqV,EAAIrV,KAEjB,GADA2Y,EAAM3Y,EACFgY,GAAO1d,KAAK+a,EAAK,YACnBiD,EAASjD,EAAIiD,OACTA,GAAU,GACZ,MAAM,IAAIS,MAAMhB,GAAyB/X,IAG7C0Y,EAAOG,GAAc7Y,GACrBD,EAAK+Y,GAAY9Y,GACjB4Y,EAAQvD,EAAIuD,KACd,CACA,MAAO,CACLF,OACA3Y,KACAuY,SACAK,MACAC,QAEJ,CACA,SAASC,GAAcxD,GACrB,OAAOtQ,GAAQsQ,GAAOA,EAAMA,EAAI/H,MAAM,IACxC,CACA,SAASwL,GAAYzD,GACnB,OAAOtQ,GAAQsQ,GAAOA,EAAI1V,KAAK,KAAO0V,CACxC,CACA,SAAS1L,GAAIiF,EAAK8J,GAChB,IAAIhG,EAAO,GACPsG,GAAM,EACV,MAAMC,EAAU,CAACrK,EAAK8J,EAAMQ,KAC1B,GAAKzB,GAAU7I,GAGf,GAAK8J,EAAKQ,GAGH,CAEL,MAAMnY,EAAQ6N,EADJ8J,EAAKQ,IAEf,IAAKzB,GAAU1W,GACb,OAKF,GAAImY,IAAUR,EAAKrd,OAAS,IAAM+b,GAASrW,IAAUsW,GAAStW,IAAUuW,GAAUvW,IAChF2R,EAAK3D,KAAKrP,GAASqB,SACd,GAAIgE,GAAQhE,GAAQ,CACzBiY,GAAM,EAEN,IAAK,IAAI9d,EAAI,EAAGie,EAAMpY,EAAM1F,OAAQH,EAAIie,EAAKje,GAAK,EAChD+d,EAAQlY,EAAM7F,GAAIwd,EAAMQ,EAAQ,EAEpC,MAAWR,EAAKrd,QAEd4d,EAAQlY,EAAO2X,EAAMQ,EAAQ,EAEjC,MAtBExG,EAAK3D,KAAKH,EAsBZ,EAKF,OADAqK,EAAQrK,EAAKwI,GAASsB,GAAQA,EAAKpL,MAAM,KAAOoL,EAAM,GAC/CM,EAAMtG,EAAOA,EAAK,EAC3B,CACA,MAAM0G,GAAe,CAInBC,gBAAgB,EAGhBC,gBAAgB,EAEhBC,mBAAoB,GAiBhBC,GAAe,CAEnBC,SAAU,EAGVC,UAAW,GAMX3N,SAAU,KAEN4N,GAAkB,CAEtBC,mBAAmB,EAGnBhB,MAAOjP,GAIPkQ,gBAAgB,EAIhBC,iBAAiB,EAEjBC,gBAAiB,GAEnB,IAAIC,GAASrD,GAAeA,GAAeA,GAAeA,GAAe,CAAC,EA7CrD,CAGnBsD,iBAAiB,EAEjBC,kBAAkB,EAElB/H,cAAc,EAEd3N,KAAM,GAENqM,YAAY,EAEZsJ,OAAQ,CAACtW,EAAG/J,IAAM+J,EAAEiK,QAAUhU,EAAEgU,MAAQjK,EAAEuW,IAAMtgB,EAAEsgB,KAAO,EAAI,EAAIvW,EAAEiK,MAAQhU,EAAEgU,OAAS,EAAI,IAgCAsL,IAAeI,IAAeG,IAC1H,MAAMU,GAAQ,SAId,SAASC,GAAKhC,EAAS,EAAGiC,EAAW,GACnC,MAAMC,EAAQ,IAAIC,IACZC,EAAIpb,KAAKqb,IAAI,GAAIJ,GACvB,MAAO,CACL,GAAA5Q,CAAI5I,GACF,MAAM6Z,EAAY7Z,EAAM8Z,MAAMR,IAAOhf,OACrC,GAAImf,EAAMM,IAAIF,GACZ,OAAOJ,EAAM7Q,IAAIiR,GAInB,MAAMN,EAAO,EAAIhb,KAAKqb,IAAIC,EAAW,GAAMtC,GAGrCnd,EAAI4f,WAAWzb,KAAK0b,MAAMV,EAAOI,GAAKA,GAE5C,OADAF,EAAMhR,IAAIoR,EAAWzf,GACdA,CACT,EACA,KAAAgP,GACEqQ,EAAMrQ,OACR,EAEJ,CACA,MAAM8Q,GACJ,WAAArgB,EAAY,MACVge,EAAQoB,GAAOpB,MAAK,gBACpBmB,EAAkBC,GAAOD,iBACvB,CAAC,GACHpf,KAAK2f,KAAOA,GAAKP,EAAiB,GAClCpf,KAAKie,MAAQA,EACbje,KAAKugB,WAAY,EACjBvgB,KAAKwgB,iBACP,CACA,UAAAC,CAAWC,EAAO,IAChB1gB,KAAK0gB,KAAOA,CACd,CACA,eAAAF,CAAgBG,EAAU,IACxB3gB,KAAK2gB,QAAUA,CACjB,CACA,OAAAC,CAAQ/W,EAAO,IACb7J,KAAK6J,KAAOA,EACZ7J,KAAK6gB,SAAW,CAAC,EACjBhX,EAAKmK,SAAQ,CAAC0G,EAAK+E,KACjBzf,KAAK6gB,SAASnG,EAAItV,IAAMqa,CAAG,GAE/B,CACA,MAAAvf,IACMF,KAAKugB,WAAcvgB,KAAK0gB,KAAKhgB,SAGjCV,KAAKugB,WAAY,EAGb9D,GAASzc,KAAK0gB,KAAK,IACrB1gB,KAAK0gB,KAAK1M,SAAQ,CAAC8M,EAAKC,KACtB/gB,KAAKghB,WAAWF,EAAKC,EAAS,IAIhC/gB,KAAK0gB,KAAK1M,SAAQ,CAAC8M,EAAKC,KACtB/gB,KAAKihB,WAAWH,EAAKC,EAAS,IAGlC/gB,KAAK2f,KAAKnQ,QACZ,CAEA,GAAA7E,CAAImW,GACF,MAAMrB,EAAMzf,KAAKkhB,OACbzE,GAASqE,GACX9gB,KAAKghB,WAAWF,EAAKrB,GAErBzf,KAAKihB,WAAWH,EAAKrB,EAEzB,CAEA,QAAA0B,CAAS1B,GACPzf,KAAK2gB,QAAQS,OAAO3B,EAAK,GAGzB,IAAK,IAAIlf,EAAIkf,EAAKjB,EAAMxe,KAAKkhB,OAAQ3gB,EAAIie,EAAKje,GAAK,EACjDP,KAAK2gB,QAAQpgB,GAAGA,GAAK,CAEzB,CACA,sBAAA8gB,CAAuBhd,EAAMuZ,GAC3B,OAAOvZ,EAAKrE,KAAK6gB,SAASjD,GAC5B,CACA,IAAAsD,GACE,OAAOlhB,KAAK2gB,QAAQjgB,MACtB,CACA,UAAAsgB,CAAWF,EAAKC,GACd,IAAKjE,GAAUgE,IAAQ/D,GAAQ+D,GAC7B,OAEF,IAAIQ,EAAS,CACXC,EAAGT,EACHvgB,EAAGwgB,EACHvgB,EAAGR,KAAK2f,KAAK3Q,IAAI8R,IAEnB9gB,KAAK2gB,QAAQvM,KAAKkN,EACpB,CACA,UAAAL,CAAWH,EAAKC,GACd,IAAIO,EAAS,CACX/gB,EAAGwgB,EACHS,EAAG,CAAC,GAINxhB,KAAK6J,KAAKmK,SAAQ,CAAC0G,EAAK+G,KACtB,IAAIrb,EAAQsU,EAAIuD,MAAQvD,EAAIuD,MAAM6C,GAAO9gB,KAAKie,MAAM6C,EAAKpG,EAAIqD,MAC7D,GAAKjB,GAAU1W,GAGf,GAAIgE,GAAQhE,GAAQ,CAClB,IAAIsb,EAAa,GACjB,MAAMC,EAAQ,CAAC,CACbC,gBAAiB,EACjBxb,UAEF,KAAOub,EAAMjhB,QAAQ,CACnB,MAAM,eACJkhB,EAAc,MACdxb,GACEub,EAAME,MACV,GAAK/E,GAAU1W,GAGf,GAAIqW,GAASrW,KAAW2W,GAAQ3W,GAAQ,CACtC,IAAI0b,EAAY,CACdP,EAAGnb,EACH7F,EACAC,EAAGR,KAAK2f,KAAK3Q,IAAI5I,IAEnBsb,EAAWtN,KAAK0N,EAClB,MAAW1X,GAAQhE,IACjBA,EAAM4N,SAAQ,CAAC3P,EAAM0d,KACnBJ,EAAMvN,KAAK,CACTwN,eAAgBG,EAChB3b,MAAO/B,GACP,GAGR,CACAid,EAAOE,EAAEC,GAAYC,CACvB,MAAO,GAAIjF,GAASrW,KAAW2W,GAAQ3W,GAAQ,CAC7C,IAAI0b,EAAY,CACdP,EAAGnb,EACH5F,EAAGR,KAAK2f,KAAK3Q,IAAI5I,IAEnBkb,EAAOE,EAAEC,GAAYK,CACvB,KAEF9hB,KAAK2gB,QAAQvM,KAAKkN,EACpB,CACA,MAAAzD,GACE,MAAO,CACLhU,KAAM7J,KAAK6J,KACX8W,QAAS3gB,KAAK2gB,QAElB,EAEF,SAASqB,GAAYnY,EAAM6W,GAAM,MAC/BzC,EAAQoB,GAAOpB,MAAK,gBACpBmB,EAAkBC,GAAOD,iBACvB,CAAC,GACH,MAAM6C,EAAU,IAAI3B,GAAU,CAC5BrC,QACAmB,oBAKF,OAHA6C,EAAQrB,QAAQ/W,EAAKU,IAAImT,KACzBuE,EAAQxB,WAAWC,GACnBuB,EAAQ/hB,SACD+hB,CACT,CACA,SAASC,GAAW9P,GAAM,MACxB6L,EAAQoB,GAAOpB,MAAK,gBACpBmB,EAAkBC,GAAOD,iBACvB,CAAC,GACH,MAAM,KACJvV,EAAI,QACJ8W,GACEvO,EACE6P,EAAU,IAAI3B,GAAU,CAC5BrC,QACAmB,oBAIF,OAFA6C,EAAQrB,QAAQ/W,GAChBoY,EAAQzB,gBAAgBG,GACjBsB,CACT,CACA,SAASE,GAAeC,GAAS,OAC/BC,EAAS,EAAC,gBACVC,EAAkB,EAAC,iBACnBC,EAAmB,EAAC,SACpBnR,EAAWiO,GAAOjO,SAAQ,eAC1B8N,EAAiBG,GAAOH,gBACtB,CAAC,GACH,MAAMsD,EAAWH,EAASD,EAAQ1hB,OAClC,GAAIwe,EACF,OAAOsD,EAET,MAAMC,EAAY9d,KAAK+d,IAAIH,EAAmBD,GAC9C,OAAKlR,EAIEoR,EAAWC,EAAYrR,EAFrBqR,EAAY,EAAMD,CAG7B,CACA,SAASG,GAAqBC,EAAY,GAAIhE,EAAqBS,GAAOT,oBACxE,IAAIiE,EAAU,GACVC,GAAS,EACTC,GAAO,EACPxiB,EAAI,EACR,IAAK,IAAIie,EAAMoE,EAAUliB,OAAQH,EAAIie,EAAKje,GAAK,EAAG,CAChD,IAAI2f,EAAQ0C,EAAUriB,GAClB2f,IAAoB,IAAX4C,EACXA,EAAQviB,EACE2f,IAAoB,IAAX4C,IACnBC,EAAMxiB,EAAI,EACNwiB,EAAMD,EAAQ,GAAKlE,GACrBiE,EAAQzO,KAAK,CAAC0O,EAAOC,IAEvBD,GAAS,EAEb,CAMA,OAHIF,EAAUriB,EAAI,IAAMA,EAAIuiB,GAASlE,GACnCiE,EAAQzO,KAAK,CAAC0O,EAAOviB,EAAI,IAEpBsiB,CACT,CAGA,MAAMG,GAAW,GACjB,SAAS3gB,GAAO4gB,EAAMb,EAASc,GAAiB,SAC9CpE,EAAWO,GAAOP,SAAQ,SAC1B1N,EAAWiO,GAAOjO,SAAQ,UAC1B2N,EAAYM,GAAON,UAAS,eAC5BJ,EAAiBU,GAAOV,eAAc,mBACtCC,EAAqBS,GAAOT,mBAAkB,eAC9CF,EAAiBW,GAAOX,eAAc,eACtCQ,EAAiBG,GAAOH,gBACtB,CAAC,GACH,GAAIkD,EAAQ1hB,OAASsiB,GACnB,MAAM,IAAI5E,MAAMlB,GAAyB8F,KAE3C,MAAMG,EAAaf,EAAQ1hB,OAErB0iB,EAAUH,EAAKviB,OAEf6hB,EAAmB5d,KAAKD,IAAI,EAAGC,KAAKF,IAAIqa,EAAUsE,IAExD,IAAIC,EAAmBtE,EAEnBuE,EAAef,EAInB,MAAMgB,EAAiB3E,EAAqB,GAAKF,EAE3C8E,EAAYD,EAAiBhkB,MAAM6jB,GAAW,GACpD,IAAI7E,EAGJ,MAAQA,EAAQ0E,EAAKhZ,QAAQmY,EAASkB,KAAkB,GAAG,CACzD,IAAInQ,EAAQgP,GAAeC,EAAS,CAClCE,gBAAiB/D,EACjBgE,mBACAnR,WACA8N,mBAIF,GAFAmE,EAAmB1e,KAAKF,IAAI0O,EAAOkQ,GACnCC,EAAe/E,EAAQ4E,EACnBI,EAAgB,CAClB,IAAIhjB,EAAI,EACR,KAAOA,EAAI4iB,GACTK,EAAUjF,EAAQhe,GAAK,EACvBA,GAAK,CAET,CACF,CAGA+iB,GAAgB,EAChB,IAAIG,EAAa,GACbC,EAAa,EACbC,EAASR,EAAaC,EAC1B,MAAMQ,EAAO,GAAKT,EAAa,EAC/B,IAAK,IAAI5iB,EAAI,EAAGA,EAAI4iB,EAAY5iB,GAAK,EAAG,CAItC,IAAIsjB,EAAS,EACTC,EAASH,EACb,KAAOE,EAASC,GACA3B,GAAeC,EAAS,CACpCC,OAAQ9hB,EACR+hB,gBAAiBC,EAAmBuB,EACpCvB,mBACAnR,WACA8N,oBAEWmE,EACXQ,EAASC,EAETH,EAASG,EAEXA,EAASnf,KAAKC,OAAO+e,EAASE,GAAU,EAAIA,GAI9CF,EAASG,EACT,IAAIhB,EAAQne,KAAKD,IAAI,EAAG6d,EAAmBuB,EAAS,GAChDC,EAASpF,EAAiByE,EAAUze,KAAKF,IAAI8d,EAAmBuB,EAAQV,GAAWD,EAGnFa,EAASzkB,MAAMwkB,EAAS,GAC5BC,EAAOD,EAAS,IAAM,GAAKxjB,GAAK,EAChC,IAAK,IAAI0jB,EAAIF,EAAQE,GAAKnB,EAAOmB,GAAK,EAAG,CACvC,IAAI3B,EAAkB2B,EAAI,EACtBC,EAAYhB,EAAgBD,EAAKkB,OAAO7B,IAa5C,GAZIiB,IAEFC,EAAUlB,MAAsB4B,GAIlCF,EAAOC,IAAMD,EAAOC,EAAI,IAAM,EAAI,GAAKC,EAGnC3jB,IACFyjB,EAAOC,KAAOR,EAAWQ,EAAI,GAAKR,EAAWQ,KAAO,EAAI,EAAIR,EAAWQ,EAAI,IAEzED,EAAOC,GAAKL,IACdF,EAAavB,GAAeC,EAAS,CACnCC,OAAQ9hB,EACR+hB,kBACAC,mBACAnR,WACA8N,mBAKEwE,GAAcL,GAAkB,CAMlC,GAJAA,EAAmBK,EACnBJ,EAAehB,EAGXgB,GAAgBf,EAClB,MAIFO,EAAQne,KAAKD,IAAI,EAAG,EAAI6d,EAAmBe,EAC7C,CAEJ,CAUA,GAPcnB,GAAeC,EAAS,CACpCC,OAAQ9hB,EAAI,EACZ+hB,gBAAiBC,EACjBA,mBACAnR,WACA8N,mBAEUmE,EACV,MAEFI,EAAaO,CACf,CACA,MAAMvK,EAAS,CACb2K,QAASd,GAAgB,EAEzBnQ,MAAOxO,KAAKD,IAAI,KAAOgf,IAEzB,GAAIH,EAAgB,CAClB,MAAMV,EAAUF,GAAqBa,EAAW5E,GAC3CiE,EAAQniB,OAEFge,IACTjF,EAAOoJ,QAAUA,GAFjBpJ,EAAO2K,SAAU,CAIrB,CACA,OAAO3K,CACT,CACA,SAAS4K,GAAsBjC,GAC7B,IAAIwB,EAAO,CAAC,EACZ,IAAK,IAAIrjB,EAAI,EAAGie,EAAM4D,EAAQ1hB,OAAQH,EAAIie,EAAKje,GAAK,EAAG,CACrD,MAAM+jB,EAAOlC,EAAQ+B,OAAO5jB,GAC5BqjB,EAAKU,IAASV,EAAKU,IAAS,GAAK,GAAK9F,EAAMje,EAAI,CAClD,CACA,OAAOqjB,CACT,CACA,MAAMW,GAAkBzkB,OAAOL,UAAU+kB,UAAY9d,GAAOA,EAAI8d,UAAU,OAAOlf,QAAQ,ykEAA0kE,IAAMoB,GAAOA,EAChrE,MAAM+d,GACJ,WAAAxkB,CAAYmiB,GAAS,SACnBtD,EAAWO,GAAOP,SAAQ,UAC1BC,EAAYM,GAAON,UAAS,SAC5B3N,EAAWiO,GAAOjO,SAAQ,eAC1BsN,EAAiBW,GAAOX,eAAc,eACtCC,EAAiBU,GAAOV,eAAc,mBACtCC,EAAqBS,GAAOT,mBAAkB,gBAC9CU,EAAkBD,GAAOC,gBAAe,iBACxCC,EAAmBF,GAAOE,iBAAgB,eAC1CL,EAAiBG,GAAOH,gBACtB,CAAC,GAgBH,GAfAlf,KAAKyU,QAAU,CACbqK,WACAC,YACA3N,WACAsN,iBACAC,iBACAC,qBACAU,kBACAC,mBACAL,kBAEFkD,EAAU9C,EAAkB8C,EAAUA,EAAQsC,cAC9CtC,EAAU7C,EAAmBgF,GAAgBnC,GAAWA,EACxDpiB,KAAKoiB,QAAUA,EACfpiB,KAAK2kB,OAAS,IACT3kB,KAAKoiB,QAAQ1hB,OAChB,OAEF,MAAMkkB,EAAW,CAACxC,EAASyC,KACzB7kB,KAAK2kB,OAAOvQ,KAAK,CACfgO,UACA0C,SAAUT,GAAsBjC,GAChCyC,cACA,EAEErG,EAAMxe,KAAKoiB,QAAQ1hB,OACzB,GAAI8d,EAAMwE,GAAU,CAClB,IAAIziB,EAAI,EACR,MAAMwkB,EAAYvG,EAAMwE,GAClBD,EAAMvE,EAAMuG,EAClB,KAAOxkB,EAAIwiB,GACT6B,EAAS5kB,KAAKoiB,QAAQ4C,OAAOzkB,EAAGyiB,IAAWziB,GAC3CA,GAAKyiB,GAEP,GAAI+B,EAAW,CACb,MAAMF,EAAarG,EAAMwE,GACzB4B,EAAS5kB,KAAKoiB,QAAQ4C,OAAOH,GAAaA,EAC5C,CACF,MACED,EAAS5kB,KAAKoiB,QAAS,EAE3B,CACA,QAAA6C,CAAShC,GACP,MAAM,gBACJ3D,EAAe,iBACfC,EAAgB,eAChBb,GACE1e,KAAKyU,QAKT,GAJAwO,EAAO3D,EAAkB2D,EAAOA,EAAKyB,cACrCzB,EAAO1D,EAAmBgF,GAAgBtB,GAAQA,EAG9CjjB,KAAKoiB,UAAYa,EAAM,CACzB,IAAIxJ,EAAS,CACX2K,SAAS,EACTjR,MAAO,GAKT,OAHIuL,IACFjF,EAAOoJ,QAAU,CAAC,CAAC,EAAGI,EAAKviB,OAAS,KAE/B+Y,CACT,CAGA,MAAM,SACJqF,EAAQ,SACR1N,EAAQ,UACR2N,EAAS,eACTJ,EAAc,mBACdC,EAAkB,eAClBM,GACElf,KAAKyU,QACT,IAAIyQ,EAAa,GACbC,EAAa,EACbC,GAAa,EACjBplB,KAAK2kB,OAAO3Q,SAAQ,EAClBoO,UACA0C,WACAD,iBAEA,MAAM,QACJT,EAAO,MACPjR,EAAK,QACL0P,GACExgB,GAAO4gB,EAAMb,EAAS0C,EAAU,CAClChG,SAAUA,EAAW+F,EACrBzT,WACA2N,YACAJ,iBACAC,qBACAF,iBACAQ,mBAEEkF,IACFgB,GAAa,GAEfD,GAAchS,EACViR,GAAWvB,IACbqC,EAAa,IAAIA,KAAerC,GAClC,IAEF,IAAIpJ,EAAS,CACX2K,QAASgB,EACTjS,MAAOiS,EAAaD,EAAanlB,KAAK2kB,OAAOjkB,OAAS,GAKxD,OAHI0kB,GAAc1G,IAChBjF,EAAOoJ,QAAUqC,GAEZzL,CACT,EAEF,MAAM4L,GACJ,WAAAplB,CAAYmiB,GACVpiB,KAAKoiB,QAAUA,CACjB,CACA,mBAAOkD,CAAalD,GAClB,OAAOmD,GAASnD,EAASpiB,KAAKwlB,WAChC,CACA,oBAAOC,CAAcrD,GACnB,OAAOmD,GAASnD,EAASpiB,KAAK0lB,YAChC,CACA,MAAArjB,GAAkB,EAEpB,SAASkjB,GAASnD,EAASuD,GACzB,MAAM9f,EAAUuc,EAAQlC,MAAMyF,GAC9B,OAAO9f,EAAUA,EAAQ,GAAK,IAChC,CAIA,MAAM+f,WAAmBP,GACvB,WAAAplB,CAAYmiB,GACVyD,MAAMzD,EACR,CACA,eAAWve,GACT,MAAO,OACT,CACA,qBAAW2hB,GACT,MAAO,WACT,CACA,sBAAWE,GACT,MAAO,SACT,CACA,MAAArjB,CAAO4gB,GACL,MAAMmB,EAAUnB,IAASjjB,KAAKoiB,QAC9B,MAAO,CACLgC,UACAjR,MAAOiR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAG7iB,KAAKoiB,QAAQ1hB,OAAS,GAEvC,EAKF,MAAMolB,WAA0BT,GAC9B,WAAAplB,CAAYmiB,GACVyD,MAAMzD,EACR,CACA,eAAWve,GACT,MAAO,eACT,CACA,qBAAW2hB,GACT,MAAO,WACT,CACA,sBAAWE,GACT,MAAO,SACT,CACA,MAAArjB,CAAO4gB,GACL,MACMmB,GAAqB,IADbnB,EAAKhZ,QAAQjK,KAAKoiB,SAEhC,MAAO,CACLgC,UACAjR,MAAOiR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAGI,EAAKviB,OAAS,GAE/B,EAKF,MAAMqlB,WAAyBV,GAC7B,WAAAplB,CAAYmiB,GACVyD,MAAMzD,EACR,CACA,eAAWve,GACT,MAAO,cACT,CACA,qBAAW2hB,GACT,MAAO,YACT,CACA,sBAAWE,GACT,MAAO,UACT,CACA,MAAArjB,CAAO4gB,GACL,MAAMmB,EAAUnB,EAAK+C,WAAWhmB,KAAKoiB,SACrC,MAAO,CACLgC,UACAjR,MAAOiR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAG7iB,KAAKoiB,QAAQ1hB,OAAS,GAEvC,EAKF,MAAMulB,WAAgCZ,GACpC,WAAAplB,CAAYmiB,GACVyD,MAAMzD,EACR,CACA,eAAWve,GACT,MAAO,sBACT,CACA,qBAAW2hB,GACT,MAAO,aACT,CACA,sBAAWE,GACT,MAAO,WACT,CACA,MAAArjB,CAAO4gB,GACL,MAAMmB,GAAWnB,EAAK+C,WAAWhmB,KAAKoiB,SACtC,MAAO,CACLgC,UACAjR,MAAOiR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAGI,EAAKviB,OAAS,GAE/B,EAKF,MAAMwlB,WAAyBb,GAC7B,WAAAplB,CAAYmiB,GACVyD,MAAMzD,EACR,CACA,eAAWve,GACT,MAAO,cACT,CACA,qBAAW2hB,GACT,MAAO,YACT,CACA,sBAAWE,GACT,MAAO,UACT,CACA,MAAArjB,CAAO4gB,GACL,MAAMmB,EAAUnB,EAAKkD,SAASnmB,KAAKoiB,SACnC,MAAO,CACLgC,UACAjR,MAAOiR,EAAU,EAAI,EACrBvB,QAAS,CAACI,EAAKviB,OAASV,KAAKoiB,QAAQ1hB,OAAQuiB,EAAKviB,OAAS,GAE/D,EAKF,MAAM0lB,WAAgCf,GACpC,WAAAplB,CAAYmiB,GACVyD,MAAMzD,EACR,CACA,eAAWve,GACT,MAAO,sBACT,CACA,qBAAW2hB,GACT,MAAO,aACT,CACA,sBAAWE,GACT,MAAO,WACT,CACA,MAAArjB,CAAO4gB,GACL,MAAMmB,GAAWnB,EAAKkD,SAASnmB,KAAKoiB,SACpC,MAAO,CACLgC,UACAjR,MAAOiR,EAAU,EAAI,EACrBvB,QAAS,CAAC,EAAGI,EAAKviB,OAAS,GAE/B,EAEF,MAAM2lB,WAAmBhB,GACvB,WAAAplB,CAAYmiB,GAAS,SACnBtD,EAAWO,GAAOP,SAAQ,UAC1BC,EAAYM,GAAON,UAAS,SAC5B3N,EAAWiO,GAAOjO,SAAQ,eAC1BsN,EAAiBW,GAAOX,eAAc,eACtCC,EAAiBU,GAAOV,eAAc,mBACtCC,EAAqBS,GAAOT,mBAAkB,gBAC9CU,EAAkBD,GAAOC,gBAAe,iBACxCC,EAAmBF,GAAOE,iBAAgB,eAC1CL,EAAiBG,GAAOH,gBACtB,CAAC,GACH2G,MAAMzD,GACNpiB,KAAKsmB,aAAe,IAAI7B,GAAYrC,EAAS,CAC3CtD,WACAC,YACA3N,WACAsN,iBACAC,iBACAC,qBACAU,kBACAC,mBACAL,kBAEJ,CACA,eAAWrb,GACT,MAAO,OACT,CACA,qBAAW2hB,GACT,MAAO,UACT,CACA,sBAAWE,GACT,MAAO,QACT,CACA,MAAArjB,CAAO4gB,GACL,OAAOjjB,KAAKsmB,aAAarB,SAAShC,EACpC,EAKF,MAAMsD,WAAqBlB,GACzB,WAAAplB,CAAYmiB,GACVyD,MAAMzD,EACR,CACA,eAAWve,GACT,MAAO,SACT,CACA,qBAAW2hB,GACT,MAAO,WACT,CACA,sBAAWE,GACT,MAAO,SACT,CACA,MAAArjB,CAAO4gB,GACL,IACI1E,EADAO,EAAW,EAEf,MAAM+D,EAAU,GACVM,EAAanjB,KAAKoiB,QAAQ1hB,OAGhC,MAAQ6d,EAAQ0E,EAAKhZ,QAAQjK,KAAKoiB,QAAStD,KAAc,GACvDA,EAAWP,EAAQ4E,EACnBN,EAAQzO,KAAK,CAACmK,EAAOO,EAAW,IAElC,MAAMsF,IAAYvB,EAAQniB,OAC1B,MAAO,CACL0jB,UACAjR,MAAOiR,EAAU,EAAI,EACrBvB,UAEJ,EAIF,MAAM2D,GAAY,CAACZ,GAAYW,GAAcR,GAAkBE,GAAyBG,GAAyBF,GAAkBJ,GAAmBO,IAChJI,GAAeD,GAAU9lB,OAGzBgmB,GAAW,qCACXC,GAAW,IAKjB,SAASC,GAAWxE,EAAS3N,EAAU,CAAC,GACtC,OAAO2N,EAAQzP,MAAMgU,IAAUpc,KAAIlG,IACjC,IAAIwiB,EAAQxiB,EAAKuC,OAAO+L,MAAM+T,IAAU1c,QAAO3F,GAAQA,KAAUA,EAAKuC,SAClE5C,EAAU,GACd,IAAK,IAAIzD,EAAI,EAAGie,EAAMqI,EAAMnmB,OAAQH,EAAIie,EAAKje,GAAK,EAAG,CACnD,MAAMumB,EAAYD,EAAMtmB,GAGxB,IAAIwmB,GAAQ,EACRtH,GAAO,EACX,MAAQsH,KAAWtH,EAAMgH,IAAc,CACrC,MAAMO,EAAWR,GAAU/G,GAC3B,IAAIwH,EAAQD,EAAS1B,aAAawB,GAC9BG,IACFjjB,EAAQoQ,KAAK,IAAI4S,EAASC,EAAOxS,IACjCsS,GAAQ,EAEZ,CACA,IAAIA,EAMJ,IADAtH,GAAO,IACEA,EAAMgH,IAAc,CAC3B,MAAMO,EAAWR,GAAU/G,GAC3B,IAAIwH,EAAQD,EAASvB,cAAcqB,GACnC,GAAIG,EAAO,CACTjjB,EAAQoQ,KAAK,IAAI4S,EAASC,EAAOxS,IACjC,KACF,CACF,CACF,CACA,OAAOzQ,CAAO,GAElB,CAIA,MAAMkjB,GAAgB,IAAIC,IAAI,CAACd,GAAWxiB,KAAM0iB,GAAa1iB,OA8B7D,MAAMujB,GACJ,WAAAnnB,CAAYmiB,GAAS,gBACnB9C,EAAkBD,GAAOC,gBAAe,iBACxCC,EAAmBF,GAAOE,iBAAgB,eAC1Cb,EAAiBW,GAAOX,eAAc,mBACtCE,EAAqBS,GAAOT,mBAAkB,eAC9CM,EAAiBG,GAAOH,eAAc,eACtCP,EAAiBU,GAAOV,eAAc,SACtCG,EAAWO,GAAOP,SAAQ,UAC1BC,EAAYM,GAAON,UAAS,SAC5B3N,EAAWiO,GAAOjO,UAChB,CAAC,GACHpR,KAAK6mB,MAAQ,KACb7mB,KAAKyU,QAAU,CACb6K,kBACAC,mBACAb,iBACAE,qBACAD,iBACAO,iBACAJ,WACAC,YACA3N,YAEFgR,EAAU9C,EAAkB8C,EAAUA,EAAQsC,cAC9CtC,EAAU7C,EAAmBgF,GAAgBnC,GAAWA,EACxDpiB,KAAKoiB,QAAUA,EACfpiB,KAAK6mB,MAAQD,GAAW5mB,KAAKoiB,QAASpiB,KAAKyU,QAC7C,CACA,gBAAO4S,CAAUC,EAAG7S,GAClB,OAAOA,EAAQwK,iBACjB,CACA,QAAAgG,CAAShC,GACP,MAAM4D,EAAQ7mB,KAAK6mB,MACnB,IAAKA,EACH,MAAO,CACLzC,SAAS,EACTjR,MAAO,GAGX,MAAM,eACJuL,EAAc,gBACdY,EAAe,iBACfC,GACEvf,KAAKyU,QACTwO,EAAO3D,EAAkB2D,EAAOA,EAAKyB,cACrCzB,EAAO1D,EAAmBgF,GAAgBtB,GAAQA,EAClD,IAAIsE,EAAa,EACbrC,EAAa,GACbC,EAAa,EAGjB,IAAK,IAAI5kB,EAAI,EAAGinB,EAAOX,EAAMnmB,OAAQH,EAAIinB,EAAMjnB,GAAK,EAAG,CACrD,MAAMimB,EAAYK,EAAMtmB,GAGxB2kB,EAAWxkB,OAAS,EACpB6mB,EAAa,EAGb,IAAK,IAAItD,EAAI,EAAGwD,EAAOjB,EAAU9lB,OAAQujB,EAAIwD,EAAMxD,GAAK,EAAG,CACzD,MAAM+C,EAAWR,EAAUvC,IACrB,QACJG,EAAO,QACPvB,EAAO,MACP1P,GACE6T,EAAS3kB,OAAO4gB,GACpB,IAAImB,EAWG,CACLe,EAAa,EACboC,EAAa,EACbrC,EAAWxkB,OAAS,EACpB,KACF,CAbE,GAFA6mB,GAAc,EACdpC,GAAchS,EACVuL,EAAgB,CAClB,MAAM7a,EAAOmjB,EAAS/mB,YAAY4D,KAC9BqjB,GAAc/G,IAAItc,GACpBqhB,EAAa,IAAIA,KAAerC,GAEhCqC,EAAW9Q,KAAKyO,EAEpB,CAOJ,CAGA,GAAI0E,EAAY,CACd,IAAI9N,EAAS,CACX2K,SAAS,EACTjR,MAAOgS,EAAaoC,GAKtB,OAHI7I,IACFjF,EAAOoJ,QAAUqC,GAEZzL,CACT,CACF,CAGA,MAAO,CACL2K,SAAS,EACTjR,MAAO,EAEX,EAEF,MAAMuU,GAAsB,GAC5B,SAASC,MAAYC,GACnBF,GAAoBtT,QAAQwT,EAC9B,CACA,SAASC,GAAezF,EAAS3N,GAC/B,IAAK,IAAIlU,EAAI,EAAGie,EAAMkJ,GAAoBhnB,OAAQH,EAAIie,EAAKje,GAAK,EAAG,CACjE,IAAIunB,EAAgBJ,GAAoBnnB,GACxC,GAAIunB,EAAcT,UAAUjF,EAAS3N,GACnC,OAAO,IAAIqT,EAAc1F,EAAS3N,EAEtC,CACA,OAAO,IAAIgQ,GAAYrC,EAAS3N,EAClC,CACA,MAAMsT,GAAkB,CACtBC,IAAK,OACLC,GAAI,OAEAC,GAAU,CACdC,KAAM,QACNC,QAAS,QAELC,GAAexB,MAAYA,EAAMkB,GAAgBC,OAAQnB,EAAMkB,GAAgBE,KAC/EK,GAASzB,KAAWA,EAAMqB,GAAQC,MAClCI,GAAS1B,IAAUzc,GAAQyc,IAAUhK,GAASgK,KAAWwB,GAAaxB,GACtE2B,GAAoB3B,IAAS,CACjC,CAACkB,GAAgBC,KAAM5oB,OAAOyK,KAAKgd,GAAOtc,KAAImQ,IAAO,CACnD,CAACA,GAAMmM,EAAMnM,SAMjB,SAAS1P,GAAM6b,EAAOpS,GAAS,KAC7BgU,GAAO,GACL,CAAC,GACH,MAAMC,EAAO7B,IACX,IAAIhd,EAAOzK,OAAOyK,KAAKgd,GACvB,MAAM8B,EAAcL,GAAOzB,GAC3B,IAAK8B,GAAe9e,EAAKnJ,OAAS,IAAM2nB,GAAaxB,GACnD,OAAO6B,EAAKF,GAAkB3B,IAEhC,GAAI0B,GAAO1B,GAAQ,CACjB,MAAMnM,EAAMiO,EAAc9B,EAAMqB,GAAQC,MAAQte,EAAK,GAC/CuY,EAAUuG,EAAc9B,EAAMqB,GAAQE,SAAWvB,EAAMnM,GAC7D,IAAK+B,GAAS2F,GACZ,MAAM,IAAIhE,MAAMnB,GAAqCvC,IAEvD,MAAMzG,EAAM,CACV2J,MAAOO,GAAYzD,GACnB0H,WAKF,OAHIqG,IACFxU,EAAI+S,SAAWa,GAAezF,EAAS3N,IAElCR,CACT,CACA,IAAI9D,EAAO,CACTrJ,SAAU,GACV8hB,SAAU/e,EAAK,IAUjB,OARAA,EAAKmK,SAAQ0G,IACX,MAAMtU,EAAQygB,EAAMnM,GAChBtQ,GAAQhE,IACVA,EAAM4N,SAAQ3P,IACZ8L,EAAKrJ,SAASsN,KAAKsU,EAAKrkB,GAAM,GAElC,IAEK8L,CAAI,EAKb,OAHKkY,GAAaxB,KAChBA,EAAQ2B,GAAkB3B,IAErB6B,EAAK7B,EACd,CAGA,SAASgC,GAAa7kB,GAAS,gBAC7Bmb,EAAkBE,GAAOF,kBAEzBnb,EAAQgQ,SAAQyF,IACd,IAAI0L,EAAa,EACjB1L,EAAO5T,QAAQmO,SAAQ,EACrB0G,MACAiF,OACAxM,YAEA,MAAMwK,EAASjD,EAAMA,EAAIiD,OAAS,KAClCwH,GAAcxgB,KAAKqb,IAAc,IAAV7M,GAAewK,EAASrB,OAAOwM,QAAU3V,GAAQwK,GAAU,IAAMwB,EAAkB,EAAIQ,GAAM,IAEtHlG,EAAOtG,MAAQgS,CAAU,GAE7B,CACA,SAAS4D,GAAiBtP,EAAQrH,GAChC,MAAMvM,EAAU4T,EAAO5T,QACvBuM,EAAKvM,QAAU,GACViX,GAAUjX,IAGfA,EAAQmO,SAAQkM,IACd,IAAKpD,GAAUoD,EAAM2C,WAAa3C,EAAM2C,QAAQniB,OAC9C,OAEF,MAAM,QACJmiB,EAAO,MACPzc,GACE8Z,EACJ,IAAIjM,EAAM,CACR4O,UACAzc,SAEE8Z,EAAMxF,MACRzG,EAAIyG,IAAMwF,EAAMxF,IAAIsD,KAElBkC,EAAMT,KAAO,IACfxL,EAAI+U,SAAW9I,EAAMT,KAEvBrN,EAAKvM,QAAQuO,KAAKH,EAAI,GAE1B,CACA,SAASgV,GAAexP,EAAQrH,GAC9BA,EAAKe,MAAQsG,EAAOtG,KACtB,CACA,SAAS+V,GAAOllB,EAAS0c,GAAM,eAC7BhC,EAAiBW,GAAOX,eAAc,aACtClH,EAAe6H,GAAO7H,cACpB,CAAC,GACH,MAAM2R,EAAe,GAGrB,OAFIzK,GAAgByK,EAAa/U,KAAK2U,IAClCvR,GAAc2R,EAAa/U,KAAK6U,IAC7BjlB,EAAQuG,KAAIkP,IACjB,MAAM,IACJgG,GACEhG,EACErH,EAAO,CACX/N,KAAMqc,EAAKjB,GACXuJ,SAAUvJ,GAOZ,OALI0J,EAAazoB,QACfyoB,EAAanV,SAAQoV,IACnBA,EAAY3P,EAAQrH,EAAK,IAGtBA,CAAI,GAEf,CACA,MAAMiX,GACJ,WAAAppB,CAAYygB,EAAMjM,EAAU,CAAC,EAAG8J,GAC9Bve,KAAKyU,QAAUuH,GAAeA,GAAe,CAAC,EAAGqD,IAAS5K,GACtDzU,KAAKyU,QAAQwK,kBACjBjf,KAAKspB,UAAY,IAAIhM,GAAStd,KAAKyU,QAAQ5K,MAC3C7J,KAAKupB,cAAc7I,EAAMnC,EAC3B,CACA,aAAAgL,CAAc7I,EAAMnC,GAElB,GADAve,KAAKwpB,MAAQ9I,EACTnC,KAAWA,aAAiB+B,IAC9B,MAAM,IAAIlC,MAAMpB,IAElBhd,KAAKypB,SAAWlL,GAASyD,GAAYhiB,KAAKyU,QAAQ5K,KAAM7J,KAAKwpB,MAAO,CAClEvL,MAAOje,KAAKyU,QAAQwJ,MACpBmB,gBAAiBpf,KAAKyU,QAAQ2K,iBAElC,CACA,GAAAzU,CAAImW,GACGhE,GAAUgE,KAGf9gB,KAAKwpB,MAAMpV,KAAK0M,GAChB9gB,KAAKypB,SAAS9e,IAAImW,GACpB,CACA,MAAAjW,CAAO6e,EAAY,KAAoB,GACrC,MAAM1lB,EAAU,GAChB,IAAK,IAAIzD,EAAI,EAAGie,EAAMxe,KAAKwpB,MAAM9oB,OAAQH,EAAIie,EAAKje,GAAK,EAAG,CACxD,MAAMugB,EAAM9gB,KAAKwpB,MAAMjpB,GACnBmpB,EAAU5I,EAAKvgB,KACjBP,KAAKmhB,SAAS5gB,GACdA,GAAK,EACLie,GAAO,EACPxa,EAAQoQ,KAAK0M,GAEjB,CACA,OAAO9c,CACT,CACA,QAAAmd,CAAS1B,GACPzf,KAAKwpB,MAAMpI,OAAO3B,EAAK,GACvBzf,KAAKypB,SAAStI,SAAS1B,EACzB,CACA,QAAAkK,GACE,OAAO3pB,KAAKypB,QACd,CACA,MAAApnB,CAAOwkB,GAAO,MACZ+C,GAAQ,GACN,CAAC,GACH,MAAM,eACJlL,EAAc,aACdlH,EAAY,WACZtB,EAAU,OACVsJ,EAAM,gBACNL,GACEnf,KAAKyU,QACT,IAAIzQ,EAAUyY,GAASoK,GAASpK,GAASzc,KAAKwpB,MAAM,IAAMxpB,KAAK6pB,kBAAkBhD,GAAS7mB,KAAK8pB,kBAAkBjD,GAAS7mB,KAAK+pB,eAAelD,GAU9I,OATAgC,GAAa7kB,EAAS,CACpBmb,oBAEEjJ,GACFlS,EAAQ8F,KAAK0V,GAEX9C,GAASkN,IAAUA,GAAS,IAC9B5lB,EAAUA,EAAQ9C,MAAM,EAAG0oB,IAEtBV,GAAOllB,EAAShE,KAAKwpB,MAAO,CACjC9K,iBACAlH,gBAEJ,CACA,iBAAAqS,CAAkBhD,GAChB,MAAMG,EAAWa,GAAehB,EAAO7mB,KAAKyU,UACtC,QACJkM,GACE3gB,KAAKypB,SACHzlB,EAAU,GA6BhB,OA1BA2c,EAAQ3M,SAAQ,EACduN,EAAG0B,EACH1iB,EACAC,EAAGmf,MAEH,IAAK7C,GAAUmG,GACb,OAEF,MAAM,QACJmB,EAAO,MACPjR,EAAK,QACL0P,GACEmE,EAAS/B,SAAShC,GAClBmB,GACFpgB,EAAQoQ,KAAK,CACX/P,KAAM4e,EACNxD,MACA5Z,QAAS,CAAC,CACRsN,QACA/M,MAAO6c,EACPtD,OACAkD,aAGN,IAEK7e,CACT,CACA,cAAA+lB,CAAelD,GACb,MAAMmD,EAAahf,GAAM6b,EAAO7mB,KAAKyU,SAC/BwV,EAAW,CAAC9Z,EAAM9L,EAAMob,KAC5B,IAAKtP,EAAKrJ,SAAU,CAClB,MAAM,MACJ8W,EAAK,SACLoJ,GACE7W,EACEtK,EAAU7F,KAAKkqB,aAAa,CAChCxP,IAAK1a,KAAKspB,UAAUta,IAAI4O,GACxBxX,MAAOpG,KAAKypB,SAASpI,uBAAuBhd,EAAMuZ,GAClDoJ,aAEF,OAAInhB,GAAWA,EAAQnF,OACd,CAAC,CACN+e,MACApb,OACAwB,YAGG,EACT,CACA,MAAMskB,EAAM,GACZ,IAAK,IAAI5pB,EAAI,EAAGie,EAAMrO,EAAKrJ,SAASpG,OAAQH,EAAIie,EAAKje,GAAK,EAAG,CAC3D,MAAM6P,EAAQD,EAAKrJ,SAASvG,GACtBkZ,EAASwQ,EAAS7Z,EAAO/L,EAAMob,GACrC,GAAIhG,EAAO/Y,OACTypB,EAAI/V,QAAQqF,QACP,GAAItJ,EAAKyY,WAAab,GAAgBC,IAC3C,MAAO,EAEX,CACA,OAAOmC,CAAG,EAENxJ,EAAU3gB,KAAKypB,SAAS9I,QACxByJ,EAAY,CAAC,EACbpmB,EAAU,GAyBhB,OAxBA2c,EAAQ3M,SAAQ,EACdwN,EAAGnd,EACH9D,EAAGkf,MAEH,GAAI3C,GAAUzY,GAAO,CACnB,IAAIgmB,EAAaJ,EAASD,EAAY3lB,EAAMob,GACxC4K,EAAW3pB,SAER0pB,EAAU3K,KACb2K,EAAU3K,GAAO,CACfA,MACApb,OACAwB,QAAS,IAEX7B,EAAQoQ,KAAKgW,EAAU3K,KAEzB4K,EAAWrW,SAAQ,EACjBnO,cAEAukB,EAAU3K,GAAK5Z,QAAQuO,QAAQvO,EAAQ,IAG7C,KAEK7B,CACT,CACA,iBAAA8lB,CAAkBjD,GAChB,MAAMG,EAAWa,GAAehB,EAAO7mB,KAAKyU,UACtC,KACJ5K,EAAI,QACJ8W,GACE3gB,KAAKypB,SACHzlB,EAAU,GA4BhB,OAzBA2c,EAAQ3M,SAAQ,EACdwN,EAAGnd,EACH9D,EAAGkf,MAEH,IAAK3C,GAAUzY,GACb,OAEF,IAAIwB,EAAU,GAGdgE,EAAKmK,SAAQ,CAAC0G,EAAK+G,KACjB5b,EAAQuO,QAAQpU,KAAKkqB,aAAa,CAChCxP,MACAtU,MAAO/B,EAAKod,GACZuF,aACC,IAEDnhB,EAAQnF,QACVsD,EAAQoQ,KAAK,CACXqL,MACApb,OACAwB,WAEJ,IAEK7B,CACT,CACA,YAAAkmB,EAAa,IACXxP,EAAG,MACHtU,EAAK,SACL4gB,IAEA,IAAKlK,GAAU1W,GACb,MAAO,GAET,IAAIP,EAAU,GACd,GAAIuE,GAAQhE,GACVA,EAAM4N,SAAQ,EACZuN,EAAG0B,EACH1iB,EAAGkf,EACHjf,EAAGmf,MAEH,IAAK7C,GAAUmG,GACb,OAEF,MAAM,QACJmB,EAAO,MACPjR,EAAK,QACL0P,GACEmE,EAAS/B,SAAShC,GAClBmB,GACFve,EAAQuO,KAAK,CACXjB,QACAuH,MACAtU,MAAO6c,EACPxD,MACAE,OACAkD,WAEJ,QAEG,CACL,MACEtB,EAAG0B,EACHziB,EAAGmf,GACDvZ,GACE,QACJge,EAAO,MACPjR,EAAK,QACL0P,GACEmE,EAAS/B,SAAShC,GAClBmB,GACFve,EAAQuO,KAAK,CACXjB,QACAuH,MACAtU,MAAO6c,EACPtD,OACAkD,WAGN,CACA,OAAOhd,CACT,EAEFwjB,GAAKiB,QAAU,QACfjB,GAAKrH,YAAcA,GACnBqH,GAAKnH,WAAaA,GAClBmH,GAAKkB,OAASlL,GAEZgK,GAAKzC,WAAa5b,GAGlB2c,GAASP,IAGX,IAAIoD,GAA8B,WAC9B,SAASA,EAAaD,GAClBvqB,KAAKyqB,UAAY,GACjBzqB,KAAK0qB,aAAevqB,EAASA,EAAS,CAAC,EAAGoqB,EAAOhT,aAAc,CAAE1N,KAAMjJ,EAAc,GAAI2pB,EAAOvU,cAAc,GAAO0I,gBAAgB,GACzI,CA6BA,OA5BA8L,EAAa/qB,UAAU8e,MAAQ,SAAUnM,GACrCpS,KAAKyqB,UAAYrY,EACbpS,KAAK2qB,OACL3qB,KAAK2qB,MAAMpB,cAAcnX,EAEjC,EACAoY,EAAa/qB,UAAU0a,MAAQ,WAC3Bna,KAAKyqB,UAAY,GACjBzqB,KAAK2qB,WAAQ7iB,CACjB,EACA0iB,EAAa/qB,UAAUmrB,aAAe,WAClC,OAAQ5qB,KAAKyqB,UAAU/pB,MAC3B,EACA8pB,EAAa/qB,UAAU4C,OAAS,SAAUwoB,GAOtC,OANK7qB,KAAK2qB,QAEF3qB,KAAK2qB,MAAQ,IAAItB,GAAKrpB,KAAKyqB,UAAWzqB,KAAK0qB,eAGrC1qB,KAAK2qB,MAAMtoB,OAAOwoB,GACjBtgB,KAAI,SAAUnE,EAAO7F,GAChC,MAAO,CACH8D,KAAM+B,EAAM/B,KACZ8O,MAAO/M,EAAM+M,OAAS,EACtBhK,KAAM5I,EAAI,EAElB,GACJ,EACOiqB,CACX,CAlCiC,GAoCjC,SAASM,GAAYP,GAEb,OAAO,IAAIC,GAAaD,EAEhC,CAOA,IAAIQ,GAAgB,SAAU9W,GAE1B,IAAK,IAAItO,KAAQsO,EACb,GAAI7U,OAAOK,UAAUC,eAAeC,KAAKsU,EAAKtO,GAC1C,OAAO,EAGf,OAAO,CACX,EACIqlB,GAAyB,SAAU7iB,EAAI/F,EAAQ6oB,GAC/C,IAAIxZ,EAAUtJ,EAAGsJ,QACbhK,EAAmBrF,EAAOqF,iBAAkBF,EAAanF,EAAOmF,WAAYC,EAAmBpF,EAAOoF,iBACtGD,IACAkK,EAAQlK,WAAa2C,EAAc3C,GAAYvC,KAAK,MAEpDwC,IACAiK,EAAQjK,iBAAmBN,EAAmBM,IAE9CyjB,GAAwBxjB,IACQ,iBAArBA,EACPgK,EAAQhK,iBAAmBA,EAEM,iBAArBA,GAAkCsjB,GAActjB,KAC5DgK,EAAQhK,iBAAmBsD,KAAK+S,UAAUrW,IAGtD,EACIyjB,GAAe,SAAUC,EAAS/lB,EAAIF,GACtC,IAAIyC,EAAQvC,GAAM+lB,EAAQvX,cAAc,cAAczS,OAAOiE,EAAI,OAC7D6d,EAAOtb,GAASA,EAAMyjB,UACtBnI,GACA/d,EAAQuG,aAAa,aAAcwX,EAE3C,EACIoI,GAAY,CACZzT,eAAgB,SAAUrP,EAAImJ,EAAK4Z,EAAiBC,EAAoB3V,EAAe4V,EAAmB/T,GACtG,IAAIG,EAAiBrP,EAAG8C,WAAWuM,eAC/B6T,EAAMjlB,SAASC,cAAc,OAuBjC,OAtBA+D,EAAoBihB,EAAK7T,GACzB6T,EAAIha,QAAQ5N,KAAO2nB,EACf9Z,IACA+Z,EAAI/Z,IAAMA,GAEV6Z,IACAE,EAAI3Z,SAAW,GAEfwZ,IACAG,EAAIhgB,aAAa,OAAQmK,EAAgB,WAAa,WAClDA,EACA6V,EAAIhgB,aAAa,oBAAqB,QAEhCgM,GACNyT,GAAalrB,KAAK0rB,SAAU1rB,KAAK2rB,cAAczmB,QAAQE,GAAIqmB,GAE/DA,EAAIhgB,aAAa,gBAAiB,QAClCggB,EAAIhgB,aAAa,gBAAiB,UAElCgM,GACAgU,EAAIhgB,aAAa,kBAAmBgM,GAEjCgU,CACX,EACA5T,eAAgB,SAAUtP,GACtB,IAAIsP,EAAiBtP,EAAG8C,WAAWwM,eAC/B4T,EAAMjlB,SAASC,cAAc,OAEjC,OADA+D,EAAoBihB,EAAK5T,GAClB4T,CACX,EACAG,SAAU,SAAUrjB,EAAIgjB,GACpB,IAAI3V,EAAgBrN,EAAGqN,cAAepN,EAAKD,EAAG8C,WAAY0M,EAAOvP,EAAGuP,KAAME,EAAazP,EAAGyP,WAAYD,EAAYxP,EAAGwP,UACjHyT,EAAMjlB,SAASC,cAAc,OAMjC,OALA+D,EAAoBihB,EAAK1T,GACzBvN,EAAoBihB,EAAKF,EAAqBtT,EAAaD,GACvDhY,KAAK6rB,kBAAoBjW,GACzB6V,EAAIhgB,aAAa,OAAQ,WAEtBggB,CACX,EACA7jB,YAAa,SAAUW,EAAInC,GACvB,IAAI6B,EAAYM,EAAGN,UAAWL,EAAcW,EAAG8C,WAAWzD,YACtD6jB,EAAMjlB,SAASC,cAAc,OAGjC,OAFA+D,EAAoBihB,EAAK7jB,GACzBM,EAAeujB,EAAKxjB,EAAW7B,GACxBqlB,CACX,EACApnB,KAAM,SAAUkE,EAAInG,EAAQiT,GACxB,IAAIpN,EAAYM,EAAGN,UAAWqN,EAA4B/M,EAAG+M,0BAA2B4B,EAAqB3O,EAAG2O,mBAAoBC,EAAsB5O,EAAG4O,oBAAqB3O,EAAKD,EAAG8C,WAAYhH,EAAOmE,EAAGnE,KAAMmU,EAAShQ,EAAGgQ,OAAQC,EAAmBjQ,EAAGiQ,iBAAkBN,EAAiB3P,EAAG2P,eAAgBvQ,EAAcY,EAAGZ,YACnUkkB,EAAW5kB,EAAmB9E,EAAOgE,OACrCqlB,EAAMjlB,SAASC,cAAc,OAEjC,GADA+D,EAAoBihB,EAAKpnB,GACrBjC,EAAOmF,WAAY,CACnB,IAAIwkB,EAAYvlB,SAASC,cAAc,QACvCyB,EAAe6jB,EAAW9jB,EAAW7F,EAAOuF,OAC5C6C,EAAoBuhB,EAAW3pB,EAAOmF,YACtCkkB,EAAI5d,YAAYke,EACpB,MAEI7jB,EAAeujB,EAAKxjB,EAAW7F,EAAOuF,OAkB1C,GAhBA8jB,EAAIha,QAAQpN,KAAO,GACnBonB,EAAIha,QAAQrM,GAAKhD,EAAOgD,GACxBqmB,EAAIha,QAAQrL,MAAQ0lB,EACpBd,GAAuBS,EAAKrpB,GAAQ,IAChCA,EAAOsF,UAAY1H,KAAK4X,eAAe7L,aACvC0f,EAAIhgB,aAAa,gBAAiB,QAElCzL,KAAK6rB,mBACLJ,EAAIhgB,aAAa,gBAAiB,QAClCggB,EAAIhgB,aAAa,OAAQ,WAEzBrJ,EAAOwF,cACP4C,EAAoBihB,EAAK7jB,GACzB6jB,EAAIha,QAAQ7J,YAAc,IAE9B4C,EAAoBihB,EAAKrpB,EAAOmC,YAAckU,EAAmBN,GAC7D9C,EAAkB,CACdjT,EAAOsF,UACPkD,EAAyB6gB,EAAKtT,GAElCsT,EAAIha,QAAQua,UAAY,GACxB,IAAIC,EAAezlB,SAASC,cAAc,UAC1CwlB,EAAapoB,KAAO,SACpB2G,EAAoByhB,EAAczT,GAClC,IAAI0T,EAAc7kB,EAAmBjF,GACrC8F,EAAe+jB,GAAc,EAAMlkB,EAAsBmP,EAAoB9U,EAAOgE,MAAO8lB,IAC3F,IAAIC,EAAoBpkB,EAAsBoP,EAAqB/U,EAAOgE,MAAO8lB,GAC7EC,GACAF,EAAaxgB,aAAa,aAAc0gB,GAE5CF,EAAaxa,QAAQ+G,OAAS,GAC1BlD,EACAmW,EAAIW,sBAAsB,aAAcH,GAGxCR,EAAI5d,YAAYoe,EAExB,CACA,OAAOR,CACX,EACAY,WAAY,SAAU9jB,EAAIgjB,GACtB,IAAIxT,EAAOxP,EAAG8C,WAAW0M,KACrB0T,EAAMjlB,SAASC,cAAc,OAMjC,OALA+D,EAAoBihB,EAAK1T,GACpBwT,GACDE,EAAIhgB,aAAa,uBAAwB,QAE7CggB,EAAIhgB,aAAa,OAAQ,WAClBggB,CACX,EACAa,YAAa,SAAU/jB,EAAIC,GACvB,IAAIP,EAAYM,EAAGN,UAAWQ,EAAKF,EAAG8C,WAAYjH,EAAQqE,EAAGrE,MAAOmU,EAAe9P,EAAG8P,aAAcH,EAAe3P,EAAG2P,aAClHhT,EAAKoD,EAAGpD,GAAIuC,EAAQa,EAAGb,MAAOD,EAAWc,EAAGd,SAC5C6kB,EAAWrlB,EAAmBS,GAC9B8jB,EAAMjlB,SAASC,cAAc,OACjC+D,EAAoBihB,EAAKrnB,GACrBsD,GACA8C,EAAoBihB,EAAKrT,GAE7BqT,EAAIhgB,aAAa,OAAQ,SACzBggB,EAAIha,QAAQrN,MAAQ,GACpBqnB,EAAIha,QAAQrM,GAAKA,EACjBqmB,EAAIha,QAAQrL,MAAQmmB,EAChB7kB,GACA+jB,EAAIhgB,aAAa,gBAAiB,QAEtC,IAAI+gB,EAAUhmB,SAASC,cAAc,OAIrC,OAHA+D,EAAoBgiB,EAASjU,GAC7BrQ,EAAeskB,EAASvkB,EAAWN,GAAS,IAC5C8jB,EAAI5d,YAAY2e,GACTf,CACX,EACArpB,OAAQ,SAAUmG,EAAInG,EAAQqqB,EAAYC,GACtC,IAAIzkB,EAAYM,EAAGN,UAAWO,EAAKD,EAAG8C,WAAYhH,EAAOmE,EAAGnE,KAAMgU,EAAa7P,EAAG6P,WAAYF,EAAiB3P,EAAG2P,eAAgBO,EAAgBlQ,EAAGkQ,cAAeN,EAAe5P,EAAG4P,aAAcE,EAAc9P,EAAG8P,YAAa1Q,EAAcY,EAAGZ,YAE/OD,EAAQvF,EAAOuF,MACfmkB,EAAW5kB,EAAmB9E,EAAOgE,OACrCqlB,EAAMjlB,SAASC,cAAc,OACjCglB,EAAIrmB,GAAKhD,EAAOuqB,UAChBniB,EAAoBihB,EAAKpnB,GACzBmG,EAAoBihB,EAAKpT,GACrBqU,GAA8B,iBAAV/kB,IACpBA,EAAQK,EAAkBC,EAAWN,GAErCA,EAAQ,CAAErB,QADVqB,GAAS,KAAKxG,OAAOurB,EAAW,OAGpC,IAAIE,EAAcnB,EAClB,GAAIrpB,EAAOmF,WAAY,CACnB,IAAIwkB,EAAYvlB,SAASC,cAAc,QACvCyB,EAAe6jB,EAAW9jB,EAAWN,GACrC6C,EAAoBuhB,EAAW3pB,EAAOmF,YACtCqlB,EAAcb,EACdN,EAAI5d,YAAYke,EACpB,MAEI7jB,EAAeujB,EAAKxjB,EAAWN,GAEnC,GAAIvF,EAAOoF,iBAAkB,CACzB,IAAIqlB,EAAS,GAAG1rB,OAAOiB,EAAOuqB,UAAW,gBACzCC,EAAYnhB,aAAa,mBAAoBohB,GAC7C,IAAIC,EAAWtmB,SAASC,cAAc,QACtCyB,EAAe4kB,EAAU7kB,EAAW7F,EAAOoF,kBAC3CslB,EAAS1nB,GAAKynB,EACdriB,EAAoBsiB,EAAUxU,GAC9BmT,EAAI5d,YAAYif,EACpB,CA4BA,OA3BI1qB,EAAO4Q,UACPxI,EAAoBihB,EAAK/S,GAEzBtW,EAAOwF,aACP4C,EAAoBihB,EAAK7jB,GAE7B6jB,EAAIhgB,aAAa,OAAQrJ,EAAOgC,MAAQ,WAAa,UACrDqnB,EAAIha,QAAQrP,OAAS,GACrBqpB,EAAIha,QAAQrM,GAAKhD,EAAOgD,GACxBqmB,EAAIha,QAAQrL,MAAQ0lB,EAChBW,IACAhB,EAAIha,QAAQgb,WAAaA,GAEzBrqB,EAAOgC,QACPqnB,EAAIha,QAAQsb,QAAU,GAAG5rB,OAAOiB,EAAOgC,MAAMgB,KAEjD4lB,GAAuBS,EAAKrpB,GAAQ,GAChCA,EAAOsF,UACP8C,EAAoBihB,EAAKrT,GACzBqT,EAAIha,QAAQub,eAAiB,GAC7BvB,EAAIhgB,aAAa,gBAAiB,UAGlCjB,EAAoBihB,EAAKtT,GACzBsT,EAAIha,QAAQwb,iBAAmB,GAC/BxB,EAAIhgB,aAAa,gBAAiBrJ,EAAO4Q,SAAW,OAAS,UAE1DyY,CACX,EACA7Z,MAAO,SAAUrJ,EAAI+N,GACjB,IAAI9N,EAAKD,EAAG8C,WAAYuG,EAAQpJ,EAAGoJ,MAAOkG,EAActP,EAAGsP,YAAaL,EAAUlP,EAAGkP,QACjFyV,EAAM1mB,SAASC,cAAc,SAejC,OAdAymB,EAAIrpB,KAAO,SACX2G,EAAoB0iB,EAAKtb,GACzBpH,EAAoB0iB,EAAKpV,GACzBoV,EAAIC,aAAe,MACnBD,EAAIE,eAAiB,MACrBF,EAAIG,YAAa,EACjBH,EAAI7nB,KAAO,SACX6nB,EAAIzhB,aAAa,oBAAqB,QAClC6K,EACA4W,EAAIzhB,aAAa,aAAc6K,GAEzBmB,GACNyT,GAAalrB,KAAK0rB,SAAU1rB,KAAK2rB,cAAczmB,QAAQE,GAAI8nB,GAExDA,CACX,EACAI,SAAU,SAAU/kB,GAChB,IAAIC,EAAKD,EAAG8C,WAAY0M,EAAOvP,EAAGuP,KAAMG,EAAe1P,EAAG0P,aACtDuT,EAAMjlB,SAASC,cAAc,OAIjC,OAHA+D,EAAoBihB,EAAK1T,GACzBvN,EAAoBihB,EAAKvT,GACzBuT,EAAIhgB,aAAa,gBAAiB,SAC3BggB,CACX,EACA9S,OAAQ,SAAUpQ,EAAI5B,EAAW9C,GAC7B,IAAI2E,EAAKD,EAAG8C,WAAYhH,EAAOmE,EAAGnE,KAAMgU,EAAa7P,EAAG6P,WAAYzU,EAAY4E,EAAG5E,UAAWgV,EAAYpQ,EAAGoQ,UAAWC,EAAYrQ,EAAGqQ,UAAW0U,EAAa/kB,EAAGmQ,YACrJ,IAAT9U,IAAmBA,EAAOyX,GAAYC,SAC1C,IAAI5C,EAASnS,SAASC,cAAc,OAMpC,OALAyB,EAAeyQ,GAAQ,EAAMhS,GAC7B6D,EAAoBmO,EAAQtU,GAC5BmG,EAAoBmO,EAAQN,GAC5B7N,EAAoBmO,EAAQ4U,GAEpB1pB,GACJ,KAAKyX,GAAY1X,UACb4G,EAAoBmO,EAAQ/U,GAC5B,MACJ,KAAK0X,GAAY1C,UACbpO,EAAoBmO,EAAQC,GAC5B,MACJ,KAAK0C,GAAYzC,UACbrO,EAAoBmO,EAAQE,GAOpC,OAJIhV,IAASyX,GAAY1X,YACrB+U,EAAOlH,QAAQwb,iBAAmB,GAClCtU,EAAOlH,QAAQrP,OAAS,IAErBuW,CACX,EACArO,OAAQ,SAAUlI,GAEd,IAAIorB,EAAatmB,EAAmB9E,EAAOuF,OACvC8lB,EAAM,IAAIC,OAAOF,EAAYprB,EAAOgE,OAAO,EAAOhE,EAAO4Q,UAM7D,OALAgY,GAAuByC,EAAKrrB,GAAQ,GACpCqrB,EAAI/lB,SAAWtF,EAAOsF,SAClBtF,EAAO4Q,UACPya,EAAIhiB,aAAa,WAAY,IAE1BgiB,CACX,GAIAE,GAAU,qBAAsBnnB,SAASonB,gBAAgBle,OACzD,kBAAmBlJ,SAASonB,gBAAgBle,MAC5Cme,GAAgB,CAAC,EACjBC,GAAiB,SAAU5oB,GAC3B,GAAKA,EAGL,OAAOA,EAAQuM,QAAQrM,GAAK2oB,SAAS7oB,EAAQuM,QAAQrM,GAAI,SAAM0C,CACnE,EACIkmB,GAA6B,2BAm5DjC,OA94D6B,WACzB,SAASC,EAAQ/oB,EAASgpB,QACN,IAAZhpB,IAAsBA,EAAU,sBACjB,IAAfgpB,IAAyBA,EAAa,CAAC,GAC3C,IAAIzd,EAAQzQ,KACZA,KAAKmuB,mBAAgBrmB,EACrB9H,KAAKouB,0BAA2B,EAChCpuB,KAAKquB,mBAAqB,EAC1BruB,KAAKsuB,kBAAoB,EACzB,IAAIC,EAAWN,EAAQM,SACvBvuB,KAAKuqB,OAASpqB,EAASA,EAASA,EAAS,CAAC,EAAGouB,EAASC,YAAaD,EAAS9Z,SAAUyZ,GACtF3qB,EAAgByQ,SAAQ,SAAU0G,GAC9BjK,EAAM8Z,OAAO7P,GAAOva,EAASA,EAASA,EAAS,CAAC,EAAGouB,EAASC,WAAW9T,IAAO6T,EAAS9Z,QAAQiG,IAAOwT,EAAWxT,GACrH,IACA,IAAI6P,EAASvqB,KAAKuqB,OACbA,EAAO3V,QACR5U,KAAKyuB,kBAET,IAAItD,EAAUZ,EAAOlU,YAAc7P,SAASonB,gBAC5C5tB,KAAK0rB,SAAWP,EAChB,IAAIQ,EAAmC,iBAAZzmB,EAAuBimB,EAAQvX,cAAc1O,GAAWA,EACnF,IAAKymB,GACwB,iBAAlBA,IACLvY,EAAmBuY,KAAkBrY,EAAoBqY,GAAiB,CAC5E,IAAKA,GAAoC,iBAAZzmB,EACzB,MAAMrF,UAAU,YAAYsB,OAAO+D,EAAS,+BAEhD,MAAMrF,UAAU,sEACpB,CACA,IAAI6uB,EAAc/C,EAAc9nB,KAC5B8qB,EAASD,IAAgBlrB,EAAmBC,MAC5CkrB,GAAkC,IAAxBpE,EAAOzV,gBACjByV,EAAOvV,0BAA2B,GAElCuV,EAAOvV,2BACP0Z,EAAclrB,EAAmBG,gBAErC,IAAIirB,EAAcF,IAAgBlrB,EAAmBE,UACjDmrB,EAAmBH,IAAgBlrB,EAAmBG,eACtDmrB,EAAWF,GAAeC,EAyB9B,GAxBA7uB,KAAK+uB,aAAeL,EACpB1uB,KAAKgvB,eAAiBL,EACtB3uB,KAAKivB,oBAAsBL,EAC3B5uB,KAAKkvB,yBAA2BL,EAChC7uB,KAAK6rB,iBAAmB+C,GAAeC,EACvC7uB,KAAKmvB,mBAAsBR,GAAUpE,EAAOrV,UAAc4Z,GAAYvE,EAAOtV,WACjC,kBAAjCsV,EAAO7T,wBACd6T,EAAO7T,sBAAyD,WAAjC6T,EAAO7T,uBAAsCkY,GAE3C,SAAjCrE,EAAOxV,sBACPwV,EAAOxV,sBAAwB4Z,GAAUC,GAAerE,EAAOvV,yBAG/DuV,EAAOxV,sBAAwBxC,EAAWgY,EAAOxV,uBAEjDwV,EAAO3iB,cACH2iB,EAAOjU,iBACPtW,KAAKouB,0BAA2B,EAE3BzC,EAAcla,QAAQ7J,cAC3B5H,KAAKouB,0BAA2B,EAChC7D,EAAOjU,iBAAmBqV,EAAcla,QAAQ7J,cAGpDsmB,EAAW/Y,eAAqD,mBAA7B+Y,EAAW/Y,cAA8B,CAC5E,IAAIia,EAAKlB,EAAW/Y,yBAAyBka,OAASnB,EAAW/Y,cAAgB,IAAIka,OAAOnB,EAAW/Y,eACvGoV,EAAOpV,cAAgBia,EAAGE,KAAK9gB,KAAK4gB,EACxC,CACA,GAAIpvB,KAAKgvB,eACLhvB,KAAK2rB,cAAgB,IAAItZ,EAAa,CAClCnN,QAASymB,EACTtgB,WAAYkf,EAAOlf,iBAGtB,CACD,IAAIkkB,EAAW5D,EACf3rB,KAAK2rB,cAAgB,IAAIlY,GAAc,CACnCvO,QAASqqB,EACTlkB,WAAYkf,EAAOlf,WACnBqI,SAAU,SAAUtB,GAAQ,OAAO3B,EAAM+e,WAAWllB,OAAO8H,EAAO,EAClEuB,mBAAoB4W,EAAO3iB,cAAgB5H,KAAKouB,0BAExD,CAgBA,GAfApuB,KAAKyvB,aAAc,EACnBzvB,KAAK0vB,OAAS,IAAI/V,GAAM4Q,GACxBvqB,KAAK2vB,cAAgB,GACrBpF,EAAO3U,eAAiB+Y,GAAUpE,EAAO3U,cACzC5V,KAAK4vB,WAAarF,EAAO3U,cACzB5V,KAAK6vB,kBAAmB,EACxB7vB,KAAK8vB,mBAAqB,EAC1B9vB,KAAK+vB,SAAU,EACf/vB,KAAKgwB,kBAAoBhwB,KAAKiwB,4BAC9BjwB,KAAKkwB,QAAUjrB,EAAW0mB,EAAe,YAKzC3rB,KAAKmwB,WAAaxE,EAAcja,KAC3B1R,KAAKmwB,WAAY,CAClB,IAAIC,EAAmB9jB,OAAO+jB,iBAAiB1E,GAAejmB,UAE1D0qB,IADoB9jB,OAAO+jB,iBAAiB7pB,SAASonB,iBAAiBloB,YAEtE1F,KAAKmwB,WAAaC,EAE1B,CAyBA,GAxBApwB,KAAKswB,SAAW,CACZjY,WAAY,eAEhBrY,KAAKwvB,WAAajB,EAASlD,UAC3BrrB,KAAKuwB,QAAUvwB,KAAKuwB,QAAQ/hB,KAAKxO,MACjCA,KAAK0O,SAAW1O,KAAK0O,SAASF,KAAKxO,MACnCA,KAAK2O,QAAU3O,KAAK2O,QAAQH,KAAKxO,MACjCA,KAAKwwB,SAAWxwB,KAAKwwB,SAAShiB,KAAKxO,MACnCA,KAAKywB,WAAazwB,KAAKywB,WAAWjiB,KAAKxO,MACvCA,KAAKyO,SAAWzO,KAAKyO,SAASD,KAAKxO,MACnCA,KAAK0wB,SAAW1wB,KAAK0wB,SAASliB,KAAKxO,MACnCA,KAAK2wB,aAAe3wB,KAAK2wB,aAAaniB,KAAKxO,MAC3CA,KAAK4wB,YAAc5wB,KAAK4wB,YAAYpiB,KAAKxO,MACzCA,KAAK6wB,aAAe7wB,KAAK6wB,aAAariB,KAAKxO,MAC3CA,KAAK8wB,aAAe9wB,KAAK8wB,aAAatiB,KAAKxO,MAC3CA,KAAK+wB,aAAe/wB,KAAK+wB,aAAaviB,KAAKxO,MAC3CA,KAAKgxB,aAAehxB,KAAKgxB,aAAaxiB,KAAKxO,MAC3CA,KAAKixB,YAAcjxB,KAAKixB,YAAYziB,KAAKxO,MACzCA,KAAKkxB,aAAelxB,KAAKkxB,aAAa1iB,KAAKxO,MAC3CA,KAAKmxB,gBAAkBnxB,KAAKmxB,gBAAgB3iB,KAAKxO,MACjDA,KAAKoxB,aAAepxB,KAAKoxB,aAAa5iB,KAAKxO,MAC3CA,KAAKqxB,UAAYrxB,KAAKqxB,UAAU7iB,KAAKxO,MACrCA,KAAKsxB,WAAatxB,KAAKsxB,WAAW9iB,KAAKxO,MAEnCA,KAAK2rB,cAAcrgB,SAMnB,OALKif,EAAO3V,QACR2c,QAAQC,KAAK,8DAA+D,CAAEtsB,QAASA,IAE3FlF,KAAKyvB,aAAc,OACnBzvB,KAAKmuB,eAAgB,GAIzBnuB,KAAKka,OAELla,KAAKyxB,cAAgBzxB,KAAK0vB,OAAO/a,MAAMpK,KAAI,SAAUnI,GAAU,OAAOA,EAAOgE,KAAO,GACxF,CA8vDA,OA7vDAhH,OAAOwP,eAAeqf,EAAS,WAAY,CACvCjf,IAAK,WACD,OAAO5P,OAAOsyB,kBAAkB,CAC5B,WAAIjd,GACA,OAAOoZ,EACX,EACA,cAAIW,GACA,OAAO9Z,EACX,EACA,aAAI2W,GACA,OAAOA,EACX,GAER,EACAvc,YAAY,EACZC,cAAc,IAElBkf,EAAQxuB,UAAUya,KAAO,WACrB,IAAIla,KAAKyvB,kBAAsC3nB,IAAvB9H,KAAKmuB,cAA7B,CAGAnuB,KAAK2xB,UAAY7G,GAAY9qB,KAAKuqB,QAClCvqB,KAAK4xB,eACL5xB,KAAK6xB,mBACL7xB,KAAK8xB,kBACL9xB,KAAK+xB,mBACA/xB,KAAKgvB,iBAAmBhvB,KAAKuqB,OAAOrV,UACrClV,KAAK2rB,cAAczmB,QAAQqP,aAAa,aACtCvU,KAAK2rB,cAAczmB,QAAQ8sB,QAAQ,qBACrChyB,KAAKwN,WAGLxN,KAAKsN,SACLtN,KAAKiyB,sBAGTjyB,KAAKkyB,aACLlyB,KAAKyvB,aAAc,EACnBzvB,KAAKmuB,eAAgB,EACrB,IAAIzW,EAAiB1X,KAAKuqB,OAAO7S,eAEH,mBAAnBA,GACPA,EAAe/X,KAAKK,KAtBxB,CAwBJ,EACAiuB,EAAQxuB,UAAU0yB,QAAU,WACnBnyB,KAAKyvB,cAGVzvB,KAAKoyB,wBACLpyB,KAAK2rB,cAAc1Z,SACnBjS,KAAK4X,eAAe9J,OAAO9N,KAAK2rB,cAAczmB,SAC9ClF,KAAK0vB,OAAO5V,WAAa,GACzB9Z,KAAKqyB,YAAW,GAChBryB,KAAKsyB,cACLtyB,KAAKwvB,WAAavB,EAAQM,SAASlD,UACnCrrB,KAAKyvB,aAAc,EACnBzvB,KAAKmuB,mBAAgBrmB,EACzB,EACAmmB,EAAQxuB,UAAU6N,OAAS,WAUvB,OATItN,KAAK2rB,cAAc5f,YACnB/L,KAAK2rB,cAAcre,SAEnBtN,KAAK4X,eAAe7L,aACpB/L,KAAKiyB,qBACLjyB,KAAK4R,MAAMtE,SACXtN,KAAK4R,MAAM1M,QAAQoK,QACnBtP,KAAK4X,eAAetK,UAEjBtN,IACX,EACAiuB,EAAQxuB,UAAU+N,QAAU,WASxB,OARKxN,KAAK2rB,cAAc5f,YACpB/L,KAAK2rB,cAAcne,UAElBxN,KAAK4X,eAAe7L,aACrB/L,KAAKoyB,wBACLpyB,KAAK4R,MAAMpE,UACXxN,KAAK4X,eAAepK,WAEjBxN,IACX,EACAiuB,EAAQxuB,UAAU+C,cAAgB,SAAU6B,EAAMkuB,GAE9C,QADiB,IAAbA,IAAuBA,GAAW,IACjCluB,IAASA,EAAKe,GACf,OAAOpF,KAEX,IAAIoC,EAASpC,KAAK0vB,OAAO/a,MAAM0E,MAAK,SAAUmZ,GAAK,OAAOA,EAAEptB,KAAOf,EAAKe,EAAI,IAC5E,OAAKhD,GAAUA,EAAOmC,cAGtBvE,KAAK0vB,OAAOlV,SAAShY,EAAcJ,GAAQ,IACvCmwB,GACAvyB,KAAK2rB,cAAczZ,aAAalQ,EAAUQ,cAAe6E,EAAmBjF,KAJrEpC,IAOf,EACAiuB,EAAQxuB,UAAUiD,gBAAkB,SAAU2B,EAAMkuB,GAEhD,QADiB,IAAbA,IAAuBA,GAAW,IACjCluB,IAASA,EAAKe,GACf,OAAOpF,KAEX,IAAIoC,EAASpC,KAAK0vB,OAAO/a,MAAM0E,MAAK,SAAUmZ,GAAK,OAAOA,EAAEptB,KAAOf,EAAKe,EAAI,IAC5E,OAAKhD,GAAWA,EAAOmC,aAGvBvE,KAAK0vB,OAAOlV,SAAShY,EAAcJ,GAAQ,IACvCmwB,GACAvyB,KAAK2rB,cAAczZ,aAAalQ,EAAUU,gBAAiB2E,EAAmBjF,IAE3EpC,MANIA,IAOf,EACAiuB,EAAQxuB,UAAUgzB,aAAe,WAC7B,IAAIhiB,EAAQzQ,KASZ,OARAA,KAAK0vB,OAAO9U,SAAQ,WAChBnK,EAAMif,OAAO/a,MAAMX,SAAQ,SAAU3P,GAC5BA,EAAKE,cACNkM,EAAMif,OAAOlV,SAAShY,EAAc6B,GAAM,IAC1CoM,EAAMkb,cAAczZ,aAAalQ,EAAUQ,cAAe6E,EAAmBhD,IAErF,GACJ,IACOrE,IACX,EACAiuB,EAAQxuB,UAAUizB,eAAiB,WAC/B,IAAIjiB,EAAQzQ,KASZ,OARAA,KAAK0vB,OAAO9U,SAAQ,WAChBnK,EAAMif,OAAO/a,MAAMX,SAAQ,SAAU3P,GAC7BA,EAAKE,cACLkM,EAAMif,OAAOlV,SAAShY,EAAc6B,GAAM,IAC1CoM,EAAMkb,cAAczZ,aAAalQ,EAAUQ,cAAe6E,EAAmBhD,IAErF,GACJ,IACOrE,IACX,EACAiuB,EAAQxuB,UAAUkzB,yBAA2B,SAAUvsB,GACnD,IAAIqK,EAAQzQ,KAIZ,OAHAA,KAAK0vB,OAAO9U,SAAQ,WAChBnK,EAAMif,OAAO/a,MAAM3K,QAAO,SAAU3F,GAAQ,OAAOA,EAAK+B,QAAUA,CAAO,IAAG4N,SAAQ,SAAU3P,GAAQ,OAAOoM,EAAMmiB,YAAYvuB,EAAO,GAC1I,IACOrE,IACX,EACAiuB,EAAQxuB,UAAUozB,kBAAoB,SAAUC,GAC5C,IAAIriB,EAAQzQ,KAOZ,OANAA,KAAK0vB,OAAO9U,SAAQ,WAChBnK,EAAMif,OAAO/a,MAAM3K,QAAO,SAAUzB,GAEhC,OADSA,EAAGnD,KACE0tB,CAClB,IAAG9e,SAAQ,SAAU3P,GAAQ,OAAOoM,EAAMmiB,YAAYvuB,EAAO,GACjE,IACOrE,IACX,EACAiuB,EAAQxuB,UAAUszB,uBAAyB,SAAUR,GACjD,IAAI9hB,EAAQzQ,KAYZ,YAXiB,IAAbuyB,IAAuBA,GAAW,GACtCvyB,KAAK0vB,OAAO9U,SAAQ,WAChBnK,EAAMif,OAAOsD,uBAAuBhf,SAAQ,SAAU3P,GAClDoM,EAAMmiB,YAAYvuB,GAGdkuB,GACA9hB,EAAMwiB,eAAe5uB,EAAK+B,MAElC,GACJ,IACOpG,IACX,EACAiuB,EAAQxuB,UAAUwC,aAAe,SAAUixB,GACvC,IAAIziB,EAAQzQ,KACZ,OAAIA,KAAKstB,SAAShiB,gBAGQxD,IAAtBorB,IAEAA,GAAqBlzB,KAAK4vB,YAE9B7e,uBAAsB,WAClBN,EAAM6c,SAAS/hB,OACf,IAAI4nB,EAAO1iB,EAAM6c,SAASpoB,QAAQkH,wBAClCqE,EAAMmH,eAAehL,KAAKumB,EAAKC,OAAQD,EAAKljB,QACvCijB,GACDziB,EAAMmB,MAAMtC,QAEhBmB,EAAMkb,cAAczZ,aAAalQ,EAAUC,cAC3C,IAAIqM,EAAgBmC,EAAM4b,WAAWnnB,QAAQ0O,cAAcvJ,EAAsBoG,EAAM8Z,OAAOlf,WAAWqN,gBACnF,OAAlBpK,GAA2BxI,EAAmBwI,EAAemC,EAAM4b,WAAWnnB,UAE9EoJ,EAAc+kB,gBAEtB,KAnBWrzB,IAqBf,EACAiuB,EAAQxuB,UAAUyC,aAAe,SAAUoxB,GACvC,IAAI7iB,EAAQzQ,KACZ,OAAKA,KAAKstB,SAAShiB,UAGnBtL,KAAKuzB,4BACLxiB,uBAAsB,WAClBN,EAAM6c,SAAS5hB,OACf+E,EAAMmH,eAAe7K,SAChBumB,GAAoB7iB,EAAMmf,aAC3Bnf,EAAMmB,MAAMlF,yBACZ+D,EAAMmB,MAAMrC,QAEhBkB,EAAMkb,cAAczZ,aAAalQ,EAAUE,aAC/C,IACOlC,MAZIA,IAaf,EACAiuB,EAAQxuB,UAAU+zB,SAAW,SAAUC,GACnC,IAAIC,EAAS1zB,KAAK0vB,OAAO/a,MAAMpK,KAAI,SAAUlG,GACzC,OAAQovB,EAAYpvB,EAAK+B,MAAQiB,EAAmBhD,EACxD,IACA,OAAOrE,KAAKivB,qBAAuBjvB,KAAKuqB,OAAOvV,yBAA2B0e,EAAO,GAAKA,CAC1F,EACAzF,EAAQxuB,UAAUk0B,SAAW,SAAUhf,GACnC,IAAIlE,EAAQzQ,KACZ,OAAKA,KAAKmuB,eAIVnuB,KAAK0vB,OAAO9U,SAAQ,WAChBjG,EAAMX,SAAQ,SAAU5N,GAChBA,GACAqK,EAAMmjB,WAAWhhB,EAAiBxM,GAAO,GAEjD,GACJ,IAEApG,KAAK2xB,UAAUxX,QACRna,OAZHA,KAAK6zB,uBAAuB,YACrB7zB,KAYf,EACAiuB,EAAQxuB,UAAUq0B,iBAAmB,SAAU1tB,GAC3C,IAAIqK,EAAQzQ,KACZ,OAAKA,KAAKmuB,eAINnuB,KAAKgvB,iBAGThvB,KAAK0vB,OAAO9U,SAAQ,YAEErb,MAAM6K,QAAQhE,GAASA,EAAQ,CAACA,IAEtC4N,SAAQ,SAAU+f,GAAO,OAAOtjB,EAAMujB,4BAA4BD,EAAM,IACpFtjB,EAAMiiB,gBACV,IAEA1yB,KAAK2xB,UAAUxX,SAVJna,OAJPA,KAAK6zB,uBAAuB,oBACrB7zB,KAef,EAgEAiuB,EAAQxuB,UAAUw0B,WAAa,SAAUC,EAAuB9tB,EAAOuB,EAAOwsB,EAAgBC,EAAiBC,GAC3G,IAAI5jB,EAAQzQ,KAOZ,QAN8B,IAA1Bk0B,IAAoCA,EAAwB,SAClD,IAAV9tB,IAAoBA,EAAQ,cAClB,IAAVuB,IAAoBA,EAAQ,cACT,IAAnBwsB,IAA6BA,GAAiB,QAC1B,IAApBC,IAA8BA,GAAkB,QAC/B,IAAjBC,IAA2BA,GAAe,IACzCr0B,KAAKmuB,cAEN,OADAnuB,KAAK6zB,uBAAuB,cACrB7zB,KAEX,IAAKA,KAAK6rB,iBACN,MAAM,IAAIhsB,UAAU,qDAExB,GAAqB,iBAAVuG,IAAuBA,EAC9B,MAAM,IAAIvG,UAAU,qEAExB,GAAqC,mBAA1Bq0B,EAAsC,CAE7C,IAAII,EAAYJ,EAAsBl0B,MACtC,GAAuB,mBAAZu0B,SAA0BD,aAAqBC,QAGtD,OAAO,IAAIA,SAAQ,SAAUC,GAAW,OAAOzjB,sBAAsByjB,EAAU,IAC1EC,MAAK,WAAc,OAAOhkB,EAAMikB,qBAAoB,EAAO,IAC3DD,MAAK,WAAc,OAAOH,CAAW,IACrCG,MAAK,SAAUriB,GAChB,OAAO3B,EAAMwjB,WAAW7hB,EAAMhM,EAAOuB,EAAOwsB,EAAgBC,EAAiBC,EACjF,IACKM,OAAM,SAAUC,GACZnkB,EAAM8Z,OAAO3V,QACd2c,QAAQsD,MAAMD,EAEtB,IACKH,MAAK,WAAc,OAAOhkB,EAAMikB,qBAAoB,EAAQ,IAC5DD,MAAK,WAAc,OAAOhkB,CAAO,IAG1C,IAAKlR,MAAM6K,QAAQkqB,GACf,MAAM,IAAIz0B,UAAU,4FAA4FsB,cAAcmzB,IAGlI,OAAOt0B,KAAKi0B,WAAWK,EAAWluB,EAAOuB,GAAO,EACpD,CACA,IAAKpI,MAAM6K,QAAQ8pB,GACf,MAAM,IAAIr0B,UAAU,sHAqCxB,OAnCAG,KAAK4X,eAAe3J,qBACpBjO,KAAK0vB,OAAO9U,SAAQ,WACZwZ,IACA3jB,EAAMqkB,cAAe,GAGrBX,GACA1jB,EAAMskB,cAAa,EAAMV,GAE7B,IAAIW,EAA2B,UAAV5uB,EACjB6uB,EAA2B,UAAVttB,EACrBusB,EAAsBlgB,SAAQ,SAAUf,GACpC,GAAI,YAAaA,EAAe,CAC5B,IAAI7O,EAAQ6O,EACPgiB,IACD7wB,EAAQjE,EAASA,EAAS,CAAC,EAAGiE,GAAQ,CAAEuD,MAAOvD,EAAMuD,GAAQvB,MAAOhC,EAAMgC,MAE9EqK,EAAMykB,UAAUtiB,EAAiBxO,GAAO,GAC5C,KACK,CACD,IAAIhC,EAAS6Q,EACRgiB,GAAmBD,IACpB5yB,EAASjC,EAASA,EAAS,CAAC,EAAGiC,GAAS,CAAEgE,MAAOhE,EAAOgE,GAAQuB,MAAOvF,EAAOuF,MAElF,IAAIwtB,EAAaviB,EAAiBxQ,GAAQ,GAC1CqO,EAAMmjB,WAAWuB,GACbA,EAAWvtB,cAAgB6I,EAAM2d,2BACjC3d,EAAMuf,kBAAoB7oB,EAAuBguB,EAAWxtB,OAEpE,CACJ,IACA8I,EAAMiiB,gBACV,IAEA1yB,KAAK2xB,UAAUxX,QACRna,IACX,EACAiuB,EAAQxuB,UAAU21B,QAAU,SAAUC,EAAYC,EAAmBC,GACjE,IAAI9kB,EAAQzQ,KAIZ,YAHmB,IAAfq1B,IAAyBA,GAAa,QAChB,IAAtBC,IAAgCA,GAAoB,QACpC,IAAhBC,IAA0BA,GAAc,GACvCv1B,KAAK6rB,kBAMV7rB,KAAK0vB,OAAO9U,SAAQ,WAChB,IAAI4a,EAAqB/kB,EAAMkb,cAAczX,mBAEzCuhB,EAAgB,CAAC,EAChBF,GACD9kB,EAAMif,OAAO/a,MAAMX,SAAQ,SAAU5R,GAC7BA,EAAOgD,IAAMhD,EAAO8B,QAAU9B,EAAO4Q,WACrCyiB,EAAcrzB,EAAOgE,QAAS,EAEtC,IAEJqK,EAAM4hB,YAAW,GACjB,IAAIqD,EAAe,SAAUtzB,GACrBmzB,EACA9kB,EAAMif,OAAOlV,SAASlW,EAAalC,IAE9BqzB,EAAcrzB,EAAOgE,SAC1BhE,EAAO4Q,UAAW,EAE1B,EACAwiB,EAAmBxhB,SAAQ,SAAUf,GAC7B,YAAaA,EACbA,EAAcC,QAAQc,QAAQ0hB,GAGlCA,EAAaziB,EACjB,IAcAxC,EAAMklB,sBAAsBH,EAAoBF,EAAmBD,GAE/D5kB,EAAMqkB,cACNrkB,EAAMmlB,eAAenlB,EAAMmB,MAAMxL,MAEzC,IACOpG,OAnDEA,KAAKuqB,OAAO3V,QACb2c,QAAQC,KAAK,2EAEVxxB,KAiDf,EACAiuB,EAAQxuB,UAAUqE,aAAe,SAAUsC,GACvC,IAAIhE,EAASpC,KAAK0vB,OAAOxc,QAAQmG,MAAK,SAAUmZ,GAAK,OAAOA,EAAEpsB,QAAUA,CAAO,IAC/E,OAAKhE,GAGLpC,KAAK61B,eACL71B,KAAK0vB,OAAOlV,SAAS1W,EAAa1B,IAElCpC,KAAK2xB,UAAUxX,QACX/X,EAAO4Q,UACPhT,KAAK2rB,cAAczZ,aAAalQ,EAAUO,WAAY8E,EAAmBjF,IAEtEpC,MATIA,IAUf,EACAiuB,EAAQxuB,UAAUs1B,aAAe,SAAUe,EAAcC,GACrD,IAAItlB,EAAQzQ,KA0BZ,YAzBqB,IAAjB81B,IAA2BA,GAAe,QAC3B,IAAfC,IAAyBA,GAAa,GACtCD,IACIC,EACA/1B,KAAK2rB,cAAczmB,QAAQ8wB,gBAAgB,IAG3Ch2B,KAAK2rB,cAAczmB,QAAQiP,iBAAiB,oBAAoBH,SAAQ,SAAU7L,GAC9EA,EAAG0C,QACP,KAGR7K,KAAK4rB,SAAS1mB,QAAQ8wB,gBAAgB,IACtCh2B,KAAKqsB,WAAWnnB,QAAQ8wB,gBAAgB,IACxCh2B,KAAK61B,eACL71B,KAAK0vB,OAAO9U,SAAQ,WAChB,IAAIjG,EAAQohB,EAAa,GAAKtlB,EAAMif,OAAO/a,MAC3ClE,EAAMif,OAAOvV,QACbxF,EAAMX,SAAQ,SAAU3P,GACpBoM,EAAMif,OAAOlV,SAAS5W,EAAUS,IAChCoM,EAAMif,OAAOlV,SAASlY,EAAQ+B,GAClC,GACJ,IAEArE,KAAK2xB,UAAUxX,QACRna,IACX,EACAiuB,EAAQxuB,UAAU4yB,WAAa,SAAUyD,GAMrC,YALqB,IAAjBA,IAA2BA,GAAe,GAC9C91B,KAAK+0B,aAAae,GAAc,GAChC91B,KAAKsyB,cACLtyB,KAAKquB,mBAAqB,EAC1BruB,KAAKsuB,kBAAoB,EAClBtuB,IACX,EACAiuB,EAAQxuB,UAAUw2B,WAAa,WAC3B,IAAIC,GAAuBl2B,KAAKivB,oBAGhC,OAFAjvB,KAAK4R,MAAMpC,MAAM0mB,GACjBl2B,KAAKsyB,cACEtyB,IACX,EACAiuB,EAAQxuB,UAAUgvB,gBAAkB,WAChC,IAAIlE,EAASvqB,KAAKuqB,OACd4L,EAAuBxsB,EAAK4gB,EAAQ7V,IACpCyhB,EAAqBz1B,QACrB6wB,QAAQC,KAAK,kCAAmC2E,EAAqBnxB,KAAK,OAE1EulB,EAAOtiB,WAAasiB,EAAO/U,qBACvB+U,EAAOrV,UACPqc,QAAQC,KAAK,yHAEbjH,EAAOtV,YACPsc,QAAQC,KAAK,2HAGzB,EACAvD,EAAQxuB,UAAU8wB,QAAU,SAAUnW,QAClB,IAAZA,IAAsBA,EAAU,CAAElH,SAAS,EAAMoG,QAAQ,EAAM3E,OAAO,IACtE3U,KAAK0vB,OAAOxU,UAGZlb,KAAK6rB,mBACDzR,EAAQlH,SAAWkH,EAAQd,SAC3BtZ,KAAKo2B,iBAGThc,EAAQzF,OACR3U,KAAKq2B,eAEb,EACApI,EAAQxuB,UAAU22B,eAAiB,WAC/B,IAAI3lB,EAAQzQ,KACZ,GAAKA,KAAKs2B,eAAV,CAGA,IAAI/tB,EAAKvI,KAAMuqB,EAAShiB,EAAGgiB,OAAQgM,EAAchuB,EAAGusB,aAChDtsB,EAAKxI,KAAK0vB,OAAQ8G,EAAehuB,EAAGguB,aAAcpb,EAAgB5S,EAAG4S,cACrEqb,EAAcF,EAAchM,EAAOxU,kBAAoBwU,EAAO1V,kBAClE,GAAI7U,KAAK6rB,iBAAkB,CACvB,IAAI6K,EAAiBtb,EAAcpR,QAAO,SAAU5H,GAAU,OAAQA,EAAO8C,OAAS,IAClFwxB,EAAeh2B,QACfV,KAAK2rB,cAAc9X,WAAW6iB,EAEtC,CACA,IAAI5iB,EAAWtN,SAASuN,yBACpB4iB,EAAoB,SAAUzjB,GAC9B,OAAOA,EAAQlJ,QAAO,SAAU5H,GAC5B,OAAQA,EAAOwF,cACV2uB,GACMhM,EAAOqM,8BAAgCx0B,EAAO4Q,aAAe5Q,EAAO+G,KACrEohB,EAAO7T,wBAA0BtU,EAAO4Q,SACtD,GACJ,EACI6jB,EAAYtM,EAAOzR,qBAAuByd,EAC1CO,GAAoB,EACpBC,EAAgB,KAChBC,EAAgB,SAAU9jB,EAAS+jB,GAC/BV,EAGArjB,EAAQpJ,KAAKb,GAERshB,EAAOrU,YACZhD,EAAQpJ,KAAKygB,EAAOnU,QAExB,IAAI8gB,EAAchkB,EAAQxS,OAC1Bw2B,GAAeD,GAAeR,EAAc,GAAKS,EAAcT,EAAcA,EAAcS,EAC3FA,IACAhkB,EAAQikB,OAAM,SAAU/0B,EAAQmc,GAE5B,IAAI6Y,EAAeh1B,EAAOmX,UACtB9I,EAAM+e,WAAWptB,OAAOmoB,EAAQnoB,EAAQmoB,EAAOzT,eAAgB+f,GAAaz0B,EAAOgC,MAAQhC,EAAOgC,MAAMuD,WAAQG,GASpH,OARA1F,EAAOmX,SAAW6d,EAClBtjB,EAASjG,YAAYupB,GACjBb,IAAgBn0B,EAAO4Q,SACvB8jB,GAAoB,EAEdC,IACNA,EAAgBK,GAEb7Y,EAAQ2Y,CACnB,GACJ,EACI9b,EAAc1a,SACV6pB,EAAOtU,qBACPlF,uBAAsB,WAAc,OAAON,EAAM4b,WAAW9b,aAAe,IAE1EvQ,KAAKouB,0BAA6BmI,IAAev2B,KAAKivB,qBAEvD+H,EAAc5b,EAAcpR,QAAO,SAAU5H,GAAU,OAAOA,EAAOwF,cAAgBxF,EAAOgC,KAAO,KAAI,GAGvGoyB,EAAa91B,SAAW61B,GACpBhM,EAAOrU,YACPsgB,EAAa1sB,KAAKygB,EAAOnU,QAI7B4gB,EAAc5b,EAAcpR,QAAO,SAAU5H,GAAU,OAAQA,EAAOwF,cAAgBxF,EAAOgC,KAAO,KAAI,GACxGoyB,EAAaxiB,SAAQ,SAAU5P,GAC3B,IAAIizB,EAAeV,EAAkBvyB,EAAM8O,SAC3C,GAAImkB,EAAa32B,OAAQ,CACrB,GAAI0D,EAAMuD,MAAO,CACb,IAAI2vB,EAAgBlzB,EAAMmzB,SAAW9mB,EAAM+e,WAAWlD,YAAY7b,EAAM8Z,OAAQnmB,GAChFA,EAAMmzB,QAAUD,EAChBA,EAAczsB,SACdiJ,EAASjG,YAAYypB,EACzB,CACAN,EAAcK,GAAc,EAChC,CACJ,KAGAL,EAAcL,EAAkBvb,IAAgB,IAGnD0b,IAAsBP,GAAgBziB,EAAShN,SAASpG,QAAW6pB,EAAO7T,wBACtE1W,KAAKw3B,UACNx3B,KAAKw3B,QAAU,CACXvU,KAAMjc,EAAsBuvB,EAAchM,EAAO3T,cAAgB2T,EAAO1T,eACxEhT,KAAM0yB,EAAcjb,GAAY1C,UAAY0C,GAAYzC,YAGhE/E,EAASkiB,gBAAgB,KAE7Bh2B,KAAKy3B,cAAc3jB,GACnB9T,KAAKqsB,WAAWnnB,QAAQ8wB,gBAAgBliB,GACxC9T,KAAK03B,iBAAiBX,EA7FtB,CA8FJ,EACA9I,EAAQxuB,UAAU42B,aAAe,WAC7B,IAAI5lB,EAAQzQ,KACR2U,EAAQ3U,KAAK0vB,OAAO/a,OAAS,GAC7BiX,EAAW5rB,KAAK4rB,SAAS1mB,QACzBqlB,EAASvqB,KAAKuqB,OACdzW,EAAWtN,SAASuN,yBACpB4jB,EAAe,SAAUtzB,GACzB,OAAOunB,EAAShY,cAAc,wBAAyBzS,OAAOkD,EAAKe,GAAI,MAC3E,EACIwyB,EAAoB,SAAUvzB,GAC9B,IAAI8D,EAAK9D,EAAK8G,OACVhD,GAAMA,EAAGiR,gBAGbjR,EAAKwvB,EAAatzB,IAASoM,EAAM+e,WAAWnrB,KAAKkmB,EAAQlmB,EAAMkmB,EAAOlV,kBACtEhR,EAAK8G,OAAShD,EACd2L,EAASjG,YAAY1F,GACzB,EAEAwM,EAAMX,QAAQ4jB,GACd,IAAIC,IAAe/jB,EAASgkB,WAAWp3B,OACvC,GAAIV,KAAKivB,oBAAqB,CAC1B,IAAIwG,EAAgB7J,EAAS9kB,SAASpG,OACtC,GAAIm3B,GAAcpC,EAAgB,EAAG,CACjC,IAAI7tB,EAAcgkB,EAAShY,cAAcvJ,EAAsBkgB,EAAOlf,WAAWzD,cAC7EA,GACAA,EAAYiD,QAEpB,MACUgtB,GAAepC,IAAiBz1B,KAAKgwB,oBAC3C6H,GAAa,EACbD,EAAkBhlB,EAAiB,CAC/BI,UAAU,EACV5M,MAAO,GACPuB,MAAO3H,KAAKgwB,kBACZpoB,aAAa,IACd,IAEX,CACIiwB,IACAjM,EAAStb,OAAOwD,GACZyW,EAAOpU,kBAAoBnW,KAAKivB,sBAChCta,EAAM7K,KAAKygB,EAAOnU,QAElBzB,EAAMX,SAAQ,SAAU3P,GACpB,IAAI8D,EAAKwvB,EAAatzB,GAClB8D,IACAA,EAAG0C,SACHiJ,EAASxD,OAAOnI,GAExB,IACAyjB,EAAStb,OAAOwD,KAGpB9T,KAAKgvB,iBAELhvB,KAAK2rB,cAAcvlB,MAAQuO,EAAMpK,KAAI,SAAUhC,GAE3C,OADYA,EAAGnC,KAEnB,IAAGpB,KAAKulB,EAAO7U,WAEvB,EACAuY,EAAQxuB,UAAUs4B,eAAiB,SAAU9U,EAAMpf,EAAMm0B,QAChC,IAAjBA,IAA2BA,GAAe,GAC9C,IAAIC,EAAYj4B,KAAKw3B,QACjBS,IACEA,EAAUp0B,OAASA,GAAQo0B,EAAUhV,OAASA,GAC3CgV,EAAUp0B,OAASyX,GAAY1X,YAC3BC,IAASyX,GAAY1C,WAAa/U,IAASyX,GAAYzC,YAC5Dmf,GACAh4B,KAAKiC,cAAa,IAI1BjC,KAAK61B,eACL71B,KAAKw3B,QAAUvU,EACT,CACEA,KAAMA,EACNpf,KAAMA,QAERiE,EACN9H,KAAKy3B,gBACDO,GAAgB/U,GAChBjjB,KAAKiC,cAAa,GAE1B,EACAgsB,EAAQxuB,UAAUo2B,aAAe,WAC7B,GAAK71B,KAAKw3B,QAAV,CAGA,IAAIU,EAAgBl4B,KAAKqsB,WAAWnnB,QAAQ0O,cAAcvJ,EAAsBrK,KAAKuqB,OAAOlf,WAAWsN,SACnGuf,GACAA,EAAcrtB,SAElB7K,KAAKw3B,aAAU1vB,CALf,CAMJ,EACAmmB,EAAQxuB,UAAUg4B,cAAgB,SAAU3jB,GACxC,IAAIqkB,EAAan4B,KAAKw3B,QACtB,GAAIW,EAAY,CACZ,IAAIxf,EAAS3Y,KAAKwvB,WAAW7W,OAAO3Y,KAAKuqB,OAAQ4N,EAAWlV,KAAMkV,EAAWt0B,MACzEiQ,EACAA,EAASxD,OAAOqI,GAGhB3Y,KAAKqsB,WAAWnc,QAAQyI,EAEhC,CACJ,EAKAsV,EAAQxuB,UAAU24B,oBAAsB,SAAUh2B,EAAQkF,GACtD,OAAOD,EAAmBjF,EAAQkF,EACtC,EACA2mB,EAAQxuB,UAAUwzB,eAAiB,SAAU7sB,GACrCA,SAGJpG,KAAK2rB,cAAczZ,aAAalQ,EAAUG,OAAQ,CAC9CiE,MAAOA,GAEf,EACA6nB,EAAQxuB,UAAU44B,oBAAsB,SAAUnzB,GAC9C,IAAIuL,EAAQzQ,KACR2U,EAAQ3U,KAAK0vB,OAAO/a,MACxB,GAAKA,EAAMjU,QAAWV,KAAKuqB,OAAOnV,aAAgBpV,KAAKuqB,OAAOlV,iBAA9D,CAGA,IAAIjQ,EAAKF,GAAW4oB,GAAe5oB,EAAQ8sB,QAAQ,cAC/CsG,EAAelzB,GAAMuP,EAAM0E,MAAK,SAAUhV,GAAQ,OAAOA,EAAKe,KAAOA,CAAI,IACxEkzB,GAGLt4B,KAAK0vB,OAAO9U,SAAQ,WAIhB,GAFAnK,EAAMmiB,YAAY0F,GAClB7nB,EAAMwiB,eAAeqF,EAAalyB,OAC9BqK,EAAMwe,sBAAwBxe,EAAM2d,yBAA0B,CAC9D,IAAImK,GAAqB9nB,EAAM8Z,OAAOrU,WAAazF,EAAMif,OAAOxc,QAAQslB,UAAY/nB,EAAMif,OAAOxc,SAASmG,MAAK,SAAUjX,GAAU,OAAOA,EAAOwF,WAAa,IAC1J2wB,IACA9nB,EAAMgoB,SAASF,GACf9nB,EAAMiiB,iBACF6F,EAAkBnyB,OAClBqK,EAAMwiB,eAAesF,EAAkBnyB,OAGnD,CACJ,GApBA,CAqBJ,EACA6nB,EAAQxuB,UAAUi5B,kBAAoB,SAAUxzB,EAASyzB,GACrD,IAAIloB,EAAQzQ,UACQ,IAAhB24B,IAA0BA,GAAc,GAC5C,IAAIhkB,EAAQ3U,KAAK0vB,OAAO/a,MACxB,GAAKA,EAAMjU,QAAWV,KAAKuqB,OAAOnV,cAAepV,KAAKivB,oBAAtD,CAGA,IAAI7pB,EAAK0oB,GAAe5oB,GACnBE,IAMLuP,EAAMX,SAAQ,SAAU3P,GAChBA,EAAKe,KAAOA,GAAOf,EAAKE,aAGlBo0B,GAAet0B,EAAKE,aAC1BkM,EAAM/N,gBAAgB2B,GAHtBoM,EAAMjO,cAAc6B,EAK5B,IAGArE,KAAK4R,MAAMtC,QAlBX,CAmBJ,EACA2e,EAAQxuB,UAAUm5B,oBAAsB,SAAU1zB,GAC9C,IAAIuL,EAAQzQ,KAERoF,EAAK0oB,GAAe5oB,GACpB9C,EAASgD,GAAMpF,KAAK0vB,OAAOvU,cAAc/V,GAC7C,IAAKhD,GAAUA,EAAOsF,SAClB,OAAO,EAEX,IAAImxB,EAAoB74B,KAAKstB,SAAShiB,SACtC,IAAKlJ,EAAO4Q,SAAU,CAClB,IAAKhT,KAAKs2B,eACN,OAAO,EAEXt2B,KAAK0vB,OAAO9U,SAAQ,WAChBnK,EAAMgoB,SAASr2B,GAAQ,GAAM,GAC7BqO,EAAMwlB,aACNxlB,EAAMiiB,gBACV,IACA1yB,KAAKizB,eAAe7wB,EAAOgE,MAC/B,CAMA,OAJIyyB,GAAqB74B,KAAKuqB,OAAOxV,wBACjC/U,KAAKkC,cAAa,GAClBlC,KAAK4X,eAAe1S,QAAQoK,UAEzB,CACX,EACA2e,EAAQxuB,UAAUq5B,iBAAmB,SAAUnkB,GAC3C,IAAI4V,EAASvqB,KAAKuqB,OAClB,GAAKA,EAAOnV,aAAgBT,EAAMjU,OAAlC,CAGA,IAAIq4B,EAAWpkB,EAAMA,EAAMjU,OAAS,GAChCs4B,EAAsBrkB,EAAMsG,MAAK,SAAU5W,GAAQ,OAAOA,EAAKE,WAAa,IAG5EgmB,EAAOhV,YAAcyjB,GAAuBD,GAC5C/4B,KAAK4R,MAAMxL,MAAQ2yB,EAAS3yB,MAC5BpG,KAAK4R,MAAMnC,WACXzP,KAAK4yB,YAAYmG,GACjB/4B,KAAKizB,eAAe8F,EAAS3yB,SAGxB4yB,GAEDh5B,KAAKwC,cAAcu2B,GAAU,GAEjC/4B,KAAK+yB,wBAAuB,GAhBhC,CAkBJ,EACA9E,EAAQxuB,UAAUmyB,aAAe,WAC7B,IAAIrpB,EACAkI,EAAQzQ,KACRuqB,EAASvqB,KAAKuqB,OAClB,GAAIvqB,KAAKgvB,eAAgB,CAIrB,GAFAhvB,KAAKi5B,eAAiB1O,EAAO5V,MAAMpK,KAAI,SAAUU,GAAK,OAAO2H,EAAiB3H,GAAG,EAAQ,IAErFjL,KAAK2rB,cAAcvlB,MAAO,CAC1B,IAAI8yB,EAAel5B,KAAK2rB,cAAcvlB,MACjCuM,MAAM4X,EAAO7U,WACbnL,KAAI,SAAUU,GAAK,OAAO2H,EAAiB3H,GAAG,EAAOwF,EAAM8Z,OAAO/U,mBAAqB,IAC5FxV,KAAKi5B,eAAiBj5B,KAAKi5B,eAAe93B,OAAO+3B,EACrD,CACAl5B,KAAKi5B,eAAejlB,SAAQ,SAAU5R,GAClCA,EAAO4Q,UAAW,CACtB,GACJ,MACK,GAAIhT,KAAK6rB,iBAAkB,CAE5B7rB,KAAKi5B,eAAiB1O,EAAOrX,QAAQ3I,KAAI,SAAUU,GAAK,OAAO2H,EAAiB3H,GAAG,EAAO,IAE1F,IAAIuqB,EAAqBx1B,KAAK2rB,cAAczX,mBACxCshB,IACCjtB,EAAKvI,KAAKi5B,gBAAgB7kB,KAAKzT,MAAM4H,EAAIitB,EAElD,CACJ,EACAvH,EAAQxuB,UAAUi1B,oBAAsB,SAAUyE,QAC3B,IAAfA,IAAyBA,GAAa,GAC1C,IAAIhxB,EAAKnI,KAAK4rB,SAAS1mB,QACnBi0B,GACAn5B,KAAKwN,UACLxN,KAAK4X,eAAe7J,kBAChB/N,KAAKivB,oBACL9mB,EAAG6tB,gBAAgBh2B,KAAKwvB,WAAW5nB,YAAY5H,KAAKuqB,OAAQvqB,KAAKuqB,OAAO5T,cAGxE3W,KAAK4R,MAAMhK,YAAc5H,KAAKuqB,OAAO5T,cAIzC3W,KAAKsN,SACLtN,KAAK4X,eAAe3J,qBAChBjO,KAAKivB,qBACL9mB,EAAG6tB,gBAAgB,IACnBh2B,KAAKuwB,WAGLvwB,KAAK4R,MAAMhK,YAAc5H,KAAKgwB,mBAAqB,GAG/D,EACA/B,EAAQxuB,UAAU25B,cAAgB,SAAUhzB,GACxC,GAAKpG,KAAK4R,MAAMxD,WAIhB,GAAIhI,SAAkDA,EAAM1F,QAAUV,KAAKuqB,OAAOzU,YAAa,CAC3F,IAAIujB,EAAcr5B,KAAKuqB,OAAO1U,cAAgB7V,KAAK41B,eAAexvB,GAAS,EACvD,OAAhBizB,GAEAr5B,KAAK2rB,cAAczZ,aAAalQ,EAAUK,OAAQ,CAC9C+D,MAAOA,EACPizB,YAAaA,GAGzB,MACSr5B,KAAK0vB,OAAOxc,QAAQ+H,MAAK,SAAU3Q,GAAU,OAAQA,EAAOpG,MAAQ,KACzElE,KAAKsyB,aAEb,EACArE,EAAQxuB,UAAU62B,aAAe,WAC7B,IAAI/L,EAASvqB,KAAKuqB,OACdzV,EAAeyV,EAAOzV,aAAcsC,EAAcmT,EAAOnT,YAC7D,OAAKmT,EAAOvV,0BAA4BF,EAAe,GAAKA,GAAgB9U,KAAK0vB,OAAO/a,MAAMjU,QAC1FV,KAAKqsB,WAAWnnB,QAAQ8wB,gBAAgB,IACxCh2B,KAAKw3B,aAAU1vB,EACf9H,KAAK+3B,eAAsC,mBAAhB3gB,EAA6BA,EAAYtC,GAAgBsC,EAAakE,GAAY1X,YACtG,IAEP5D,KAAKw3B,SAAWx3B,KAAKw3B,QAAQ3zB,OAASyX,GAAY1X,WAClD5D,KAAK61B,gBAEF,EACX,EACA5H,EAAQxuB,UAAU65B,eAAiB,SAAUlzB,GACzC,IAAImkB,EAASvqB,KAAKuqB,OACdgP,GAAa,EACb5gB,EAAS,GAKb,GAJI4gB,GAA8C,mBAAzBhP,EAAOpV,gBAAiCoV,EAAOpV,cAAc/O,KAClFmzB,GAAa,EACb5gB,EAAS5Q,EAAsBwiB,EAAOvT,kBAAmB5Q,OAAO0B,IAEhEyxB,GACkBv5B,KAAK0vB,OAAOxc,QAAQmG,MAAK,SAAUjX,GAAU,OAAOmoB,EAAOlT,cAAcjV,EAAOgE,MAAOA,EAAQ,IAChG,CACb,GAAIpG,KAAK6rB,iBAGL,OADA7rB,KAAK+3B,eAAe,GAAIzc,GAAY1X,YAC7B,EAEN2mB,EAAO9U,wBACR8jB,GAAa,EACb5gB,EAAS5Q,EAAsBwiB,EAAOxT,eAAgB3Q,OAAO0B,GAErE,CAQJ,OANIyxB,IACA5gB,EAAS5Q,EAAsBwiB,EAAOtT,YAAa7Q,OAAO0B,IAE1D6Q,GACA3Y,KAAK+3B,eAAepf,EAAQ2C,GAAY1X,WAErC21B,CACX,EACAtL,EAAQxuB,UAAUm2B,eAAiB,SAAUxvB,GACzC,IAAIozB,EAAWpzB,EAAMQ,OAAOtB,QAAQ,SAAU,KAE9C,IAAKk0B,EAAS94B,QAAU84B,IAAax5B,KAAK2vB,cACtC,OAAO,KAEX,IAAI3I,EAAWhnB,KAAK2xB,UAChB3K,EAAS4D,gBACT5D,EAASzI,MAAMve,KAAK0vB,OAAO+J,mBAG/B,IAAIz1B,EAAUgjB,EAAS3kB,OAAOm3B,GAC9Bx5B,KAAK2vB,cAAgB6J,EACrBx5B,KAAK8vB,mBAAqB,EAC1B9vB,KAAK80B,cAAe,EACpB,IAAInc,EAAS3Y,KAAKw3B,QAWlB,OAViB7e,GAAUA,EAAO9U,QACfyX,GAAY1X,YACtBI,EAAQtD,OAITV,KAAK61B,eAHL71B,KAAK+3B,eAAe/wB,EAAsBhH,KAAKuqB,OAAO3T,eAAgB0E,GAAY1C,YAM1F5Y,KAAK0vB,OAAOlV,SAASzW,EAAcC,IAC5BA,EAAQtD,MACnB,EACAutB,EAAQxuB,UAAU6yB,YAAc,WACxBtyB,KAAK80B,eACL90B,KAAK2vB,cAAgB,GACrB3vB,KAAK80B,cAAe,EACpB90B,KAAK61B,eACL71B,KAAK0vB,OAAOlV,SAASvW,GAAgB,IACrCjE,KAAK2rB,cAAczZ,aAAalQ,EAAUK,OAAQ,CAC9C+D,MAAO,GACPizB,YAAa,IAGzB,EACApL,EAAQxuB,UAAUwyB,mBAAqB,WACnC,IAAIrE,EAAkB5tB,KAAK0rB,SACvBgO,EAAe15B,KAAK4X,eAAe1S,QACnCy0B,EAAe35B,KAAK4R,MAAM1M,QAC1BymB,EAAgB3rB,KAAK2rB,cAAczmB,QAEvC0oB,EAAgB1e,iBAAiB,WAAYlP,KAAK4wB,aAAa,GAC/D8I,EAAaxqB,iBAAiB,UAAWlP,KAAKywB,YAAY,GAC1DiJ,EAAaxqB,iBAAiB,YAAalP,KAAK6wB,cAAc,GAE9DjD,EAAgB1e,iBAAiB,QAASlP,KAAK0wB,SAAU,CAAEvhB,SAAS,IACpEye,EAAgB1e,iBAAiB,YAAalP,KAAK2wB,aAAc,CAC7DxhB,SAAS,IAEbnP,KAAKstB,SAASpoB,QAAQgK,iBAAiB,YAAalP,KAAK8wB,aAAc,CACnE3hB,SAAS,IAETnP,KAAKivB,sBACLyK,EAAaxqB,iBAAiB,QAASlP,KAAK0O,SAAU,CAClDS,SAAS,IAEbuqB,EAAaxqB,iBAAiB,OAAQlP,KAAK2O,QAAS,CAChDQ,SAAS,KAGjBwqB,EAAazqB,iBAAiB,QAASlP,KAAKwwB,SAAU,CAClDrhB,SAAS,IAEbwqB,EAAazqB,iBAAiB,QAASlP,KAAKyO,SAAU,CAClDU,SAAS,IAEbwqB,EAAazqB,iBAAiB,QAASlP,KAAK0O,SAAU,CAClDS,SAAS,IAEbwqB,EAAazqB,iBAAiB,OAAQlP,KAAK2O,QAAS,CAChDQ,SAAS,IAETwqB,EAAaC,MACbD,EAAaC,KAAK1qB,iBAAiB,QAASlP,KAAK+wB,aAAc,CAC3D5hB,SAAS,IAGbwc,EAAcpX,aAAa,cAC3BoX,EAAczc,iBAAiB,SAAUlP,KAAKqxB,UAAW,CACrDliB,SAAS,IAEbwc,EAAczc,iBAAiB,UAAWlP,KAAKsxB,WAAY,CACvDniB,SAAS,KAGjBnP,KAAK4R,MAAM3C,mBACf,EACAgf,EAAQxuB,UAAU2yB,sBAAwB,WACtC,IAAIxE,EAAkB5tB,KAAK0rB,SACvBgO,EAAe15B,KAAK4X,eAAe1S,QACnCy0B,EAAe35B,KAAK4R,MAAM1M,QAC1BymB,EAAgB3rB,KAAK2rB,cAAczmB,QACvC0oB,EAAgBve,oBAAoB,WAAYrP,KAAK4wB,aAAa,GAClE8I,EAAarqB,oBAAoB,UAAWrP,KAAKywB,YAAY,GAC7DiJ,EAAarqB,oBAAoB,YAAarP,KAAK6wB,cAAc,GACjEjD,EAAgBve,oBAAoB,QAASrP,KAAK0wB,UAClD9C,EAAgBve,oBAAoB,YAAarP,KAAK2wB,cACtD3wB,KAAKstB,SAASpoB,QAAQmK,oBAAoB,YAAarP,KAAK8wB,cACxD9wB,KAAKivB,sBACLyK,EAAarqB,oBAAoB,QAASrP,KAAK0O,UAC/CgrB,EAAarqB,oBAAoB,OAAQrP,KAAK2O,UAElDgrB,EAAatqB,oBAAoB,QAASrP,KAAKwwB,UAC/CmJ,EAAatqB,oBAAoB,QAASrP,KAAKyO,UAC/CkrB,EAAatqB,oBAAoB,QAASrP,KAAK0O,UAC/CirB,EAAatqB,oBAAoB,OAAQrP,KAAK2O,SAC1CgrB,EAAaC,MACbD,EAAaC,KAAKvqB,oBAAoB,QAASrP,KAAK+wB,cAEpDpF,EAAcpX,aAAa,cAC3BoX,EAActc,oBAAoB,SAAUrP,KAAKqxB,WACjD1F,EAActc,oBAAoB,UAAWrP,KAAKsxB,aAEtDtxB,KAAK4R,MAAMxC,sBACf,EACA6e,EAAQxuB,UAAUgxB,WAAa,SAAUnnB,GACrC,IAAIhC,EAAUgC,EAAMhC,QAChBuxB,EAAoB74B,KAAKstB,SAAShiB,SA6BlCuuB,EAAwC,IAArBvwB,EAAMoR,IAAIha,QACP,IAArB4I,EAAMoR,IAAIha,QAAgB4I,EAAMoR,IAAIof,WAAW,IAAM,OACxC,iBAAdxwB,EAAMoR,IAwBV,OAnBK1a,KAAKgvB,gBACL6J,GACDvxB,IAAY3E,EAAWO,SACvBoE,IAAY3E,EAAWC,SACvB0E,IAAY3E,EAAWE,YACvB7C,KAAKiC,gBACAjC,KAAK4R,MAAMxD,YAAcyrB,IAM1B75B,KAAK4R,MAAMxL,OAASkD,EAAMoR,IAER,MAAdpR,EAAMoR,KACNpR,EAAMuG,mBAIVvI,GACJ,KAAK3E,EAAWM,MACZ,OAAOjD,KAAKgxB,aAAa1nB,EAAOtJ,KAAK4rB,SAAS1mB,QAAQ60B,iBAC1D,KAAKp3B,EAAWK,UACZ,OAAOhD,KAAKixB,YAAY3nB,EAAOuvB,GACnC,KAAKl2B,EAAWO,QACZ,OAAOlD,KAAKkxB,aAAa5nB,EAAOuvB,GACpC,KAAKl2B,EAAWQ,OAChB,KAAKR,EAAWU,YAChB,KAAKV,EAAWS,SAChB,KAAKT,EAAWW,cACZ,OAAOtD,KAAKmxB,gBAAgB7nB,EAAOuvB,GACvC,KAAKl2B,EAAWI,WAChB,KAAKJ,EAAWG,SACZ,OAAO9C,KAAKoxB,aAAa9nB,EAAOtJ,KAAK0vB,OAAO/a,MAAO3U,KAAK4R,MAAMxD,YAE1E,EACA6f,EAAQxuB,UAAU+wB,SAAW,WACzBxwB,KAAK4vB,WAAa5vB,KAAKuqB,OAAO3U,aAClC,EACAqY,EAAQxuB,UAAUgP,SAAW,WACzB,IAAIrI,EAAQpG,KAAK4R,MAAMxL,MAClBA,EASApG,KAAKs2B,iBAGNt2B,KAAK4vB,YAEL5vB,KAAKo5B,cAAchzB,GAElBpG,KAAKmvB,qBAIVnvB,KAAKs5B,eAAelzB,GAChBpG,KAAK6rB,mBACL7rB,KAAK8vB,mBAAqB,EAC1B9vB,KAAK03B,sBAtBD13B,KAAKgvB,eACLhvB,KAAKkC,cAAa,GAGlBlC,KAAKsyB,aAoBjB,EACArE,EAAQxuB,UAAUuxB,aAAe,SAAU1nB,EAAO0wB,IAEzC1wB,EAAM2wB,SAAW3wB,EAAM4wB,UAAYF,IACpCh6B,KAAK4vB,YAAa,EACQ5vB,KAAKuqB,OAAOnV,cAAgBpV,KAAK4R,MAAMxL,OAASpG,KAAK4R,MAAM1M,UAAYsB,SAAS8H,eAEtGtO,KAAKyyB,eAGjB,EACAxE,EAAQxuB,UAAUwxB,YAAc,SAAU3nB,EAAOuvB,GAC7C,IAAIpoB,EAAQzQ,KACRoG,EAAQpG,KAAK4R,MAAMxL,MACnB+zB,EAAS7wB,EAAM6wB,OAEnB,GADA7wB,EAAMuG,iBACFsqB,GAAUA,EAAO5lB,aAAa,eAC9BvU,KAAKq4B,oBAAoB8B,QAG7B,GAAKtB,EAAL,CAMA,IAAIuB,EAAoBp6B,KAAKstB,SAASpoB,QAAQ0O,cAAcvJ,EAAsBrK,KAAKuqB,OAAOlf,WAAWoN,mBACzG,IAAI2hB,IAAqBp6B,KAAK44B,oBAAoBwB,GAGlD,GAAKD,GAAW/zB,GAIhB,GAAKpG,KAAKs2B,eAAV,CAGA,IAAI+D,GAAY,EAChBr6B,KAAK0vB,OAAO9U,SAAQ,WAEhB,KADAyf,EAAY5pB,EAAMujB,4BAA4B5tB,GAAO,IACrC,CACZ,IAAKqK,EAAM0e,mBACP,OAEJ,IAAK1e,EAAM6oB,eAAelzB,GACtB,OAEJqK,EAAMmjB,WAAWhhB,EAAiBxM,GAAO,EAAOqK,EAAM8Z,OAAO/U,qBAAqB,GAAM,GACxF6kB,GAAY,CAChB,CACA5pB,EAAMwlB,aACNxlB,EAAMiiB,gBACV,IACK2H,IAGLr6B,KAAKizB,eAAe7sB,GAChBpG,KAAKuqB,OAAOxV,uBACZ/U,KAAKkC,cAAa,GAtBtB,OALIlC,KAAKkC,cAAa,EANtB,MAJQlC,KAAK6rB,kBAAoB7rB,KAAKw3B,UAC9Bx3B,KAAKiC,cAsCjB,EACAgsB,EAAQxuB,UAAUyxB,aAAe,SAAU5nB,EAAOuvB,GAC1CA,IACAvvB,EAAMgxB,kBACNt6B,KAAKkC,cAAa,GAClBlC,KAAKsyB,cACLtyB,KAAK4X,eAAe1S,QAAQoK,QAEpC,EACA2e,EAAQxuB,UAAU0xB,gBAAkB,SAAU7nB,EAAOuvB,GACjD,IAAIvxB,EAAUgC,EAAMhC,QAEpB,GAAIuxB,GAAqB74B,KAAKivB,oBAAqB,CAC/CjvB,KAAKiC,eACLjC,KAAK4vB,YAAa,EAClB,IAAI2K,EAAejzB,IAAY3E,EAAWS,UAAYkE,IAAY3E,EAAWW,cAAgB,GAAK,EAE9Fk3B,OAAS,EACb,GAFclxB,EAAM4wB,SAAW5yB,IAAY3E,EAAWW,eAAiBgE,IAAY3E,EAAWU,YAItFm3B,EADAD,EAAe,EACNv6B,KAAKstB,SAASpoB,QAAQ0O,cAAc,GAAGzS,OAAO6sB,GAA4B,kBAG1EhuB,KAAKstB,SAASpoB,QAAQ0O,cAAcoa,QAGhD,CACD,IAAIyM,EAAYz6B,KAAKstB,SAASpoB,QAAQ0O,cAAcvJ,EAAsBrK,KAAKuqB,OAAOlf,WAAWoN,mBAE7F+hB,EADAC,EACSl1B,EAAck1B,EAAWzM,GAA4BuM,GAGrDv6B,KAAKstB,SAASpoB,QAAQ0O,cAAcoa,GAErD,CACIwM,IAGK10B,EAAmB00B,EAAQx6B,KAAKqsB,WAAWnnB,QAASq1B,IACrDv6B,KAAKqsB,WAAW7b,qBAAqBgqB,EAAQD,GAEjDv6B,KAAK03B,iBAAiB8C,IAI1BlxB,EAAMuG,gBACV,CACJ,EACAoe,EAAQxuB,UAAU2xB,aAAe,SAAU9nB,EAAOqL,EAAO+lB,GAEhD16B,KAAKivB,qBAAwB3lB,EAAM6wB,OAAO/zB,QAASs0B,IACpD16B,KAAK84B,iBAAiBnkB,GACtBrL,EAAMuG,iBAEd,EACAoe,EAAQxuB,UAAUkxB,aAAe,WACzB3wB,KAAK+vB,UACL/vB,KAAK+vB,SAAU,EAEvB,EACA9B,EAAQxuB,UAAUmxB,YAAc,SAAUtnB,GACtC,IAAI6wB,GAAU7wB,GAASA,EAAMqxB,QAAQ,IAAIR,OACXn6B,KAAK+vB,SAAW/vB,KAAK4X,eAAe1S,QAAQ01B,SAAST,MAEjDA,IAAWn6B,KAAK4X,eAAe1S,SAAWi1B,IAAWn6B,KAAK6X,eAAe3S,WAE/FlF,KAAKgvB,eACLhvB,KAAK4R,MAAMtC,QAENtP,KAAKkvB,0BACVlvB,KAAKiC,gBAIbqH,EAAMgxB,mBAEVt6B,KAAK+vB,SAAU,CACnB,EAIA9B,EAAQxuB,UAAUoxB,aAAe,SAAUvnB,GACvC,IAAI6wB,EAAS7wB,EAAM6wB,OACnB,GAAMA,aAAkBU,QAAxB,CAIA,GAAIlN,IAAW3tB,KAAKqsB,WAAWnnB,QAAQ01B,SAAST,GAAS,CAErD,IAAIW,EAAc96B,KAAKqsB,WAAWnnB,QAAQmL,kBAC1CrQ,KAAK6vB,iBACmB,QAApB7vB,KAAKmwB,WAAuB7mB,EAAMyxB,SAAWD,EAAYE,YAAc1xB,EAAMyxB,QAAUD,EAAYG,UAC3G,CACA,GAAId,IAAWn6B,KAAK4R,MAAM1M,QAA1B,CAGA,IAAIb,EAAO81B,EAAOnI,QAAQ,2CACtB3tB,aAAgB62B,cACZ,WAAY72B,EAAKoN,QACjBzR,KAAKq4B,oBAAoBh0B,GAEpB,SAAUA,EAAKoN,QACpBzR,KAAK04B,kBAAkBr0B,EAAMiF,EAAM6xB,UAE9B,WAAY92B,EAAKoN,SACtBzR,KAAK44B,oBAAoBv0B,IAGjCiF,EAAMuG,gBAbN,CAVA,CAwBJ,EAKAoe,EAAQxuB,UAAUqxB,aAAe,SAAUvoB,GACvC,IAAI4xB,EAAS5xB,EAAG4xB,OACZA,aAAkBe,aAAe,WAAYf,EAAO1oB,SACpDzR,KAAK03B,iBAAiByC,EAE9B,EACAlM,EAAQxuB,UAAUixB,SAAW,SAAUnoB,GACnC,IAAI4xB,EAAS5xB,EAAG4xB,OACZviB,EAAiB5X,KAAK4X,eACIA,EAAe1S,QAAQ01B,SAAST,GAErDn6B,KAAKstB,SAAShiB,UAAasM,EAAe7L,WAWtC/L,KAAKivB,qBACVkL,IAAWn6B,KAAK4R,MAAM1M,UACrBlF,KAAKstB,SAASpoB,QAAQ01B,SAAST,IAChCn6B,KAAKkC,eAbDlC,KAAKgvB,eACDxoB,SAAS8H,gBAAkBtO,KAAK4R,MAAM1M,SACtClF,KAAK4R,MAAMtC,SAIftP,KAAKiC,eACL2V,EAAe1S,QAAQoK,UAU/BsI,EAAe1K,mBACflN,KAAKkC,cAAa,GAClBlC,KAAK0yB,iBAEb,EACAzE,EAAQxuB,UAAUiP,SAAW,SAAUnG,GACnC,IAAI4xB,EAAS5xB,EAAG4xB,OACZviB,EAAiB5X,KAAK4X,eAE1B,GAD8BuiB,GAAUviB,EAAe1S,QAAQ01B,SAAST,GACxE,CAGA,IAAIiB,EAAgBjB,IAAWn6B,KAAK4R,MAAM1M,QACtClF,KAAKgvB,eACDoM,GACAxjB,EAAe5K,gBAGdhN,KAAKkvB,yBACNkM,IACAp7B,KAAKiC,cAAa,GAGlB2V,EAAe5K,kBAInB4K,EAAe5K,gBACXouB,GACAp7B,KAAKiC,cAAa,GAlB1B,CAqBJ,EACAgsB,EAAQxuB,UAAUkP,QAAU,SAAUpG,GAClC,IAAI4xB,EAAS5xB,EAAG4xB,OACZviB,EAAiB5X,KAAK4X,eACGuiB,GAAUviB,EAAe1S,QAAQ01B,SAAST,KACxCn6B,KAAK6vB,iBAC5BsK,IAAWn6B,KAAK4R,MAAM1M,SACtB0S,EAAe1K,mBACflN,KAAKkC,cAAa,IACdlC,KAAKgvB,gBAAkBhvB,KAAKkvB,2BAC5BlvB,KAAK0yB,kBAGJyH,IAAWn6B,KAAK4X,eAAe1S,UAEpC0S,EAAe1K,mBAEVlN,KAAKuqB,OAAO3U,eACb5V,KAAKkC,cAAa,KAQ1BlC,KAAK6vB,kBAAmB,EACxB7vB,KAAK4R,MAAM1M,QAAQoK,QAE3B,EACA2e,EAAQxuB,UAAUsxB,aAAe,WAC7B,IAAItgB,EAAQzQ,KACZA,KAAK0vB,OAAO9U,SAAQ,WAChBnK,EAAMwlB,aACNxlB,EAAMvO,eACNuO,EAAM2kB,SAAQ,GAAO,GAAO,GACxB3kB,EAAMghB,cAAc/wB,QACpB+P,EAAMqjB,iBAAiBrjB,EAAMghB,cAErC,GACJ,EACAxD,EAAQxuB,UAAU4xB,UAAY,SAAU/nB,GAC/BA,EAAM6wB,OAAOkB,iBAGlBr7B,KAAK4X,eAAevK,oBACxB,EACA4gB,EAAQxuB,UAAU6xB,WAAa,WAC3BtxB,KAAK4X,eAAezK,iBACxB,EAIA8gB,EAAQxuB,UAAU8zB,0BAA4B,WAC1C,IAAI9a,EAAmBzY,KAAKuqB,OAAOlf,WAAWoN,iBACrBlZ,MAAMuB,KAAKd,KAAKstB,SAASpoB,QAAQiP,iBAAiB9J,EAAsBoO,KAE9EzE,SAAQ,SAAU5R,GACjCwI,EAAyBxI,EAAQqW,GACjCrW,EAAOqJ,aAAa,gBAAiB,QACzC,GACJ,EACAwiB,EAAQxuB,UAAUi4B,iBAAmB,SAAUvvB,QAChC,IAAPA,IAAiBA,EAAK,MAC1B,IAAI+K,EAAU3T,MAAMuB,KAAKd,KAAKstB,SAASpoB,QAAQiP,iBAAiB6Z,KAChE,GAAK9a,EAAQxS,OAAb,CAGA,IAAI46B,EAAWnzB,EACXsQ,EAAmBzY,KAAKuqB,OAAOlf,WAAWoN,iBAC9CzY,KAAKuzB,4BACD+H,EACAt7B,KAAK8vB,mBAAqB5c,EAAQjJ,QAAQqxB,IAMtCA,EAFApoB,EAAQxS,OAASV,KAAK8vB,mBAEX5c,EAAQlT,KAAK8vB,oBAIb5c,EAAQA,EAAQxS,OAAS,MAGpC46B,EAAWpoB,EAAQ,IAG3B1I,EAAoB8wB,EAAU7iB,GAC9B6iB,EAAS7vB,aAAa,gBAAiB,QACvCzL,KAAK2rB,cAAczZ,aAAalQ,EAAUS,gBAAiB,CACvD0F,GAAImzB,IAEJt7B,KAAKstB,SAAShiB,WAGdtL,KAAK4R,MAAMpF,oBAAoB8uB,EAASl2B,IACxCpF,KAAK4X,eAAepL,oBAAoB8uB,EAASl2B,IA9BrD,CAgCJ,EACA6oB,EAAQxuB,UAAUg5B,SAAW,SAAUp0B,EAAMgxB,EAAYkG,GAGrD,QAFmB,IAAflG,IAAyBA,GAAa,QACpB,IAAlBkG,IAA4BA,GAAgB,IAC3Cl3B,EAAKe,GACN,MAAM,IAAIvF,UAAU,mEAMxB,IAJIG,KAAKuqB,OAAOvV,0BAA4BhV,KAAKivB,sBAC7CjvB,KAAK6yB,kBAAkBxuB,EAAKe,IAEhCpF,KAAK0vB,OAAOlV,SAASlY,EAAQ+B,IACzBgxB,EAAY,CACZ,IAAInJ,EAAc7kB,EAAmBhD,GACrCrE,KAAK2rB,cAAczZ,aAAalQ,EAAUM,QAAS4pB,GAC/CqP,GACAv7B,KAAK2rB,cAAczZ,aAAalQ,EAAUI,OAAQ8pB,EAE1D,CACJ,EACA+B,EAAQxuB,UAAUmzB,YAAc,SAAUvuB,GACtC,GAAKA,EAAKe,GAAV,CAGApF,KAAK0vB,OAAOlV,SAASlW,EAAaD,IAClC,IAAIsU,EAAS3Y,KAAKw3B,QACd7e,GAAUA,EAAO9U,OAASyX,GAAYzC,WACtC7Y,KAAK61B,eAET71B,KAAK2rB,cAAczZ,aAAalQ,EAAUO,WAAY8E,EAAmBhD,GANzE,CAOJ,EACA4pB,EAAQxuB,UAAUm0B,WAAa,SAAUxxB,EAAQizB,EAAYkG,GAGzD,QAFmB,IAAflG,IAAyBA,GAAa,QACpB,IAAlBkG,IAA4BA,GAAgB,GAC5Cn5B,EAAOgD,GACP,MAAM,IAAIvF,UAAU,wDAExB,IAAI0qB,EAASvqB,KAAKuqB,OAClB,GAAKA,EAAO9U,wBAAyBzV,KAAK0vB,OAAOxc,QAAQmG,MAAK,SAAUmZ,GAAK,OAAOjI,EAAOlT,cAAcmb,EAAEpsB,MAAOhE,EAAOgE,MAAQ,IAAjI,CAIApG,KAAKquB,qBACLjsB,EAAOgD,GAAKpF,KAAKquB,mBACjBjsB,EAAOuqB,UAAY,GAAGxrB,OAAOnB,KAAKkwB,QAAS,KAAK/uB,OAAOnB,KAAKswB,SAASjY,WAAY,KAAKlX,OAAOiB,EAAOgD,IACpG,IAAIoR,EAAe+T,EAAO/T,aAAcC,EAAc8T,EAAO9T,YACzDD,IACApU,EAAOgE,MAAQoQ,EAAepU,EAAOgE,OAErCqQ,IACArU,EAAOgE,OAASqQ,EAAY1R,aAE3ByR,GAAgBC,IAAgBrU,EAAO8C,UACxC9C,EAAO8C,QAAQkB,MAAQhE,EAAOgE,OAElCpG,KAAK61B,eACL71B,KAAK0vB,OAAOlV,SAAS5W,EAAUxB,IAC3BA,EAAO4Q,UACPhT,KAAKy4B,SAASr2B,EAAQizB,EAAYkG,EAlBtC,CAoBJ,EACAtN,EAAQxuB,UAAUy1B,UAAY,SAAU9wB,EAAOixB,GAC3C,IAAI5kB,EAAQzQ,KAEZ,QADmB,IAAfq1B,IAAyBA,GAAa,GACtCjxB,EAAMgB,GACN,MAAM,IAAIvF,UAAU,uDAExBG,KAAK0vB,OAAOlV,SAASrW,EAASC,IACzBA,EAAM8O,UAIXlT,KAAKsuB,oBACLlqB,EAAMgB,GAAKpF,KAAKsuB,kBAChBlqB,EAAM8O,QAAQc,SAAQ,SAAU3P,GAC5BA,EAAKD,MAAQA,EACTA,EAAMsD,WACNrD,EAAKqD,UAAW,GAEpB+I,EAAMmjB,WAAWvvB,EAAMgxB,EAC3B,IACJ,EACApH,EAAQxuB,UAAUoyB,iBAAmB,WACjC,IAAIphB,EAAQzQ,KACR2X,EAA4B3X,KAAKuqB,OAAO5S,0BACxC6jB,EAAgB,CAAC,EACoB,mBAA9B7jB,IACP6jB,EAAgB7jB,EAA0BhY,KAAKK,KAAMuG,EAASyB,EAAmBkC,IAErF,IAAIuxB,EAAa,CAAC,EAClBr8B,OAAOyK,KAAK7J,KAAKwvB,YAAYxb,SAAQ,SAAU3O,GAEvCo2B,EAAWp2B,GADXA,KAAQm2B,EACWA,EAAcn2B,GAAMmJ,KAAKiC,GAGzBA,EAAM+e,WAAWnqB,GAAMmJ,KAAKiC,EAEvD,IACAzQ,KAAKwvB,WAAaiM,CACtB,EACAxN,EAAQxuB,UAAUqyB,gBAAkB,WAChC,IAAI2J,EAAaz7B,KAAKwvB,WAClBjnB,EAAKvI,KAAMuqB,EAAShiB,EAAGgiB,OAAQgB,EAAqBhjB,EAAG0mB,oBACvDrjB,EAAW2e,EAAO3e,SAAUP,EAAakf,EAAOlf,WAChDqjB,EAAc1uB,KAAK+uB,aACvB/uB,KAAK4X,eAAiB,IAAIjM,EAAU,CAChCzG,QAASu2B,EAAW7jB,eAAe2S,EAAQvqB,KAAKmwB,WAAYnwB,KAAK6rB,iBAAkBN,EAAoBhB,EAAO3U,cAAe8Y,EAAanE,EAAO9S,SACjJpM,WAAYA,EACZxH,KAAM6qB,EACN9iB,SAAUA,IAEd5L,KAAK6X,eAAiB,IAAIlM,EAAU,CAChCzG,QAASu2B,EAAW5jB,eAAe0S,GACnClf,WAAYA,EACZxH,KAAM6qB,EACN9iB,SAAUA,IAEd5L,KAAK4R,MAAQ,IAAI1D,EAAM,CACnBhJ,QAASu2B,EAAW7pB,MAAM2Y,EAAQvqB,KAAKgwB,mBACvC3kB,WAAYA,EACZxH,KAAM6qB,EACNvgB,cAAeoc,EAAO5U,QAE1B3V,KAAKqsB,WAAa,IAAItc,EAAK,CACvB7K,QAASu2B,EAAWpP,WAAW9B,EAAQgB,KAE3CvrB,KAAK4rB,SAAW,IAAI7b,EAAK,CACrB7K,QAASu2B,EAAW7P,SAASrB,EAAQgB,KAEzCvrB,KAAKstB,SAAW,IAAIliB,EAAS,CACzBlG,QAASu2B,EAAWnO,SAAS/C,GAC7Blf,WAAYA,EACZxH,KAAM6qB,GAEd,EACAT,EAAQxuB,UAAUsyB,iBAAmB,WACjC,IAAIxpB,EAAKvI,KAAM6X,EAAiBtP,EAAGsP,eAAgBD,EAAiBrP,EAAGqP,eAAgB+T,EAAgBpjB,EAAGojB,cACtG+P,EAAkB17B,KAAKstB,SAASpoB,QAEpCymB,EAAcha,UAEdkG,EAAepK,KAAKke,EAAczmB,SAElC0S,EAAenK,KAAKoK,EAAe3S,SACnC0S,EAAe1S,QAAQ2I,YAAYgK,EAAe3S,SAClD0S,EAAe1S,QAAQ2I,YAAY6tB,GACnC7jB,EAAe3S,QAAQ2I,YAAY7N,KAAK4rB,SAAS1mB,SACjDw2B,EAAgB7tB,YAAY7N,KAAKqsB,WAAWnnB,SACxClF,KAAKivB,qBACLjvB,KAAK4R,MAAMhK,YAAc5H,KAAKuqB,OAAOhU,wBAA0B,GAC3DvW,KAAKuqB,OAAO3U,eACZ8lB,EAAgB9tB,aAAa5N,KAAK4R,MAAM1M,QAASw2B,EAAgB70B,cAIhE7G,KAAKkvB,2BAA4BlvB,KAAKuqB,OAAO3U,eAC9CiC,EAAe3S,QAAQ2I,YAAY7N,KAAK4R,MAAM1M,SAE9ClF,KAAKgwB,oBACLhwB,KAAK4R,MAAMhK,YAAc5H,KAAKgwB,mBAElChwB,KAAK4R,MAAMnC,YAEfzP,KAAK8vB,mBAAqB,EAC1B9vB,KAAK80B,cAAe,CACxB,EACA7G,EAAQxuB,UAAUyyB,WAAa,WAC3B,IAAIzhB,EAAQzQ,KACZA,KAAK0vB,OAAOpV,UAAUta,KAAKuwB,SAAS3V,SAAQ,WACxCnK,EAAMklB,sBAAsBllB,EAAMwoB,eAAgBxoB,EAAMwe,sBAAwBxe,EAAM2d,0BAA0B,EACpH,MACKpuB,KAAK0vB,OAAOxc,QAAQxS,QAAWV,KAAKivB,qBAAuBjvB,KAAKouB,2BACjEpuB,KAAKuwB,SAEb,EACAtC,EAAQxuB,UAAUk2B,sBAAwB,SAAUziB,EAASoiB,EAAmBD,GAC5E,IAAI5kB,EAAQzQ,UACc,IAAtBs1B,IAAgCA,GAAoB,QACrC,IAAfD,IAAyBA,GAAa,GACtCC,IAO8F,IAAtEpiB,EAAQyoB,WAAU,SAAUv5B,GAAU,OAAOA,EAAO4Q,QAAU,KAElFE,EAAQ+H,MAAK,SAAU7Y,GACnB,OAAIA,EAAOsF,YAAY,YAAatF,KAGpCA,EAAO4Q,UAAW,GACX,EACX,IAGRE,EAAQc,SAAQ,SAAU3P,GAClB,YAAaA,EACToM,EAAMob,kBACNpb,EAAMykB,UAAU7wB,EAAMgxB,GAI1B5kB,EAAMmjB,WAAWvvB,EAAMgxB,EAE/B,GACJ,EACApH,EAAQxuB,UAAUu0B,4BAA8B,SAAU5tB,EAAOm1B,GAC7D,IAAI9qB,EAAQzQ,UACU,IAAlBu7B,IAA4BA,GAAgB,GAEhD,IAAIK,EAAc57B,KAAK0vB,OAAOxc,QAAQmG,MAAK,SAAUjX,GAAU,OAAOqO,EAAM8Z,OAAOlT,cAAcjV,EAAOgE,MAAOA,EAAQ,IACvH,SAAIw1B,GAAgBA,EAAYl0B,UAAak0B,EAAY5oB,WACrDhT,KAAKy4B,SAASmD,GAAa,EAAML,GAC1B,GAGf,EACAtN,EAAQxuB,UAAUwwB,0BAA4B,WAC1C,IAAI1F,EAASvqB,KAAKuqB,OAClB,IAAKA,EAAO3iB,YACR,OAAO,KAEX,GAAI5H,KAAKouB,yBACL,OAAO7D,EAAOjU,iBAElB,GAAItW,KAAK6rB,iBAAkB,CACvB,IAAIgQ,EAAoB77B,KAAK2rB,cAAckQ,kBAC3C,OAAOA,EAAoBA,EAAkB5Y,KAAO,IACxD,CACA,OAAO,IACX,EACAgL,EAAQxuB,UAAUo0B,uBAAyB,SAAUiI,GACjD,IAAI97B,KAAKuqB,OAAO3V,OAAhB,CAGA,IAAK5U,KAAKyvB,YACN,MAAM,IAAI5vB,UAAU,GAAGsB,OAAO26B,EAAQ,qDAErC,IAAK97B,KAAKmuB,cACX,MAAM,IAAItuB,UAAU,GAAGsB,OAAO26B,EAAQ,oFAL1C,CAOJ,EACA7N,EAAQ3D,QAAU,SACX2D,CACX,CA54D4B,EAg5D/B,CA/qKmF8N,E,4BCHpFh9B,EAAOC,QAAUg9B,S,GCCbC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBr0B,IAAjBs0B,EACH,OAAOA,EAAap9B,QAGrB,QAAsC8I,IAAlCu0B,EAAoBF,GAAyB,CAChD,IAAIlxB,EAAI,IAAImT,MAAM,uBAAyB+d,EAAW,KAEtD,MADAlxB,EAAEqxB,KAAO,mBACHrxB,CACP,CAEA,IAAIlM,EAASk9B,EAAyBE,GAAY,CAGjDn9B,QAAS,CAAC,GAOX,OAHAq9B,EAAoBF,GAAUx8B,KAAKZ,EAAOC,QAASD,EAAQA,EAAOC,QAASk9B,GAGpEn9B,EAAOC,OACf,CC3BAk9B,EAAoB17B,EAAKzB,IACxB,IAAIw9B,EAASx9B,GAAUA,EAAOy9B,WAC7B,IAAOz9B,EAAiB,QACxB,IAAM,EAEP,OADAm9B,EAAoBh9B,EAAEq9B,EAAQ,CAAErzB,EAAGqzB,IAC5BA,CAAM,ECLdL,EAAoBh9B,EAAI,CAACF,EAASy9B,KACjC,IAAI,IAAI/hB,KAAO+hB,EACXP,EAAoBpgB,EAAE2gB,EAAY/hB,KAASwhB,EAAoBpgB,EAAE9c,EAAS0b,IAC5Etb,OAAOwP,eAAe5P,EAAS0b,EAAK,CAAE5L,YAAY,EAAME,IAAKytB,EAAW/hB,IAE1E,ECNDwhB,EAAoBQ,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO38B,MAAQ,IAAI48B,SAAS,cAAb,EAChB,CAAE,MAAO3xB,GACR,GAAsB,iBAAXqB,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB4vB,EAAoBpgB,EAAI,CAAC7H,EAAKtO,IAAUvG,OAAOK,UAAUC,eAAeC,KAAKsU,EAAKtO,GCClFu2B,EAAoBzgB,EAAKzc,IACH,oBAAXod,QAA0BA,OAAOygB,aAC1Cz9B,OAAOwP,eAAe5P,EAASod,OAAOygB,YAAa,CAAEz2B,MAAO,WAE7DhH,OAAOwP,eAAe5P,EAAS,aAAc,CAAEoH,OAAO,GAAO,E,wHCH9D,MAAM02B,EAAWxwB,QAAwB,EAAAowB,EACzCI,EAAQ7O,QAAU,IAElBznB,SAAS0I,iBAAiB,oBAAoB,KAC1C4tB,EAAQC,iBAAiB,IAE7BD,EAAQC,gBAAkB,KACtBv2B,SAAS2N,iBAAiB,8BAA8BH,SAAQgpB,GACrD,IAAI,UAAkBA,KAEjCx2B,SAAS2N,iBAAiB,2BAA2BH,SAAQmF,IAC1C,IAAI,IAAJ,CAAYA,EAAQ,CAC/BlR,WAAW,EACXiO,YAAY,EACZI,iBAAkB6C,EAAOnH,aAAa,gBAAkB,GACxD3G,WAAY,CAAEuM,eAAgB,CAAC,UAAW,WAC5C,IAENpR,SAAS2N,iBAAiB,iCAAiCH,SAAQmF,IAC/D,IAAI8jB,EAAgB9jB,EAAO/S,MACvBkT,EAAS,IAAI/Z,MACjBiH,SAAS2N,iBAAiB,uDAAuDH,SAAQ1J,IACrF,IAAIlG,EAAQkG,EAAOmH,QAAQyrB,SAASt2B,QACL,IAA3B0S,EAAOrP,QAAQ7F,IACfkV,EAAOlF,KAAKhQ,EAChB,IAEJkV,EAAOtF,SAAQ5P,IACXoC,SAAS2N,iBAAiB,iCAAiCH,SAAQ1T,IAC/D,IAAI68B,EAAe,IAAI59B,MACvBe,EAAE6T,iBAAiB,yBAAyB/P,OAAW4P,SAAQ1J,KACrB,IAAlC6yB,EAAalzB,QAAQK,IACrB6yB,EAAa/oB,KAAK9J,EACtB,IAEJ,MAAM8yB,EAAqB52B,SAASC,cAAc,YAClD22B,EAAmBz1B,MAAQvD,EAC3B+4B,EAAanpB,SAAQ1J,IACjBA,EAAO+yB,YAAYD,GACnBA,EAAmBvvB,YAAYvD,EAAO,GACxC,GACJ,IAEN6O,EAAO/S,MAAQ62B,EACA,IAAI,IAAJ,CAAY9jB,EAAQ,CAC/B9N,WAAY,CAAEuM,eAAgB,CAAC,UAAW,UAC1C3P,WAAW,EACXiO,YAAY,EACZb,iBAAgD,SAA9B8D,EAAO1H,QAAQ6rB,WACjChnB,iBAAkB6C,EAAOnH,aAAa,eACtC2F,0BAA2B,SAAUjE,GACjC,IAAIoD,EAAiB9W,KAAKuqB,OAAOzT,eACjC,MAAMzB,EAAmBrV,KAAKuqB,OAAOlV,iBACrC,MAAO,CACH,IAAAhR,EAAK,WAAEgH,GAAc+G,GACjB,IAAIzK,EAAQyK,EAAKzK,MACjB,GAAIyK,EAAK3K,iBAAkB,CACvB,IAAI81B,EACJ,IACIA,EAAOxyB,KAAKC,MAAMoH,EAAK3K,iBAC3B,CACA,MAAOwD,GACHsyB,EAAOnrB,EAAK3K,gBAChB,CACAE,OAAuBG,IAAfy1B,EAAK51B,MAAsByK,EAAKzK,MAAQ41B,EAAK51B,KACzD,CACA,OAAO+L,EAAS,kDACO5T,OAAOuL,EAAWhH,SAASvE,OAAOsS,EAAK7N,YACxD8G,EAAWoN,iBACXpN,EAAW8M,mBAAmBrY,OAAOsS,EAAKxK,YAAcyD,EAAWzD,YAAc,kEACpD9H,OAAOsS,EAAKhN,oBAAoBtF,OAAOsS,EAAKhM,kDAC/DtG,OAAOuV,EAAmB,iBAAmB,8CAC7CvV,OAAOsS,EAAKlO,OAAS,uBAAyB,OAAOpE,OAAOsS,EAAK1K,SAC3E,uBACA,6CACQ5H,OAAO6H,2CACP7H,OAAOuV,EACf,gCAAgCvV,OAAOuL,EAAWmN,OAAOxT,KAAK,oCAAoClF,OAAOsS,EAAKhM,+CAC9G,iFAGV,EACA,MAAAhE,EAAO,WAAEiJ,GAAc+G,GACnB,IAAIzK,EAAQyK,EAAKzK,MACjB,GAAIyK,EAAK3K,iBAAkB,CACvB,IAAI81B,EACJ,IACIA,EAAOxyB,KAAKC,MAAMoH,EAAK3K,iBAC3B,CACA,MAAOwD,GACHsyB,EAAOnrB,EAAK3K,gBAChB,CACAE,OAAuBG,IAAfy1B,EAAK51B,MAAsByK,EAAKzK,MAAQ41B,EAAK51B,KACzD,CACA,OAAO+L,EAAS,kDACO5T,OAAOuL,EAAWhH,SAASvE,OAAOuL,EAAWgN,eAAevY,OAAOsS,EAAK1K,SAAW2D,EAAW+M,aAAe/M,EAAW8M,6EAC7GrY,OAAOgX,mBAAgChX,OAAOsS,EAAK1K,SAC/E,4CACA,6EACmB5H,OAAOsS,EAAKhN,oBAAoBtF,OAAOsS,EAAKhM,kDACrDtG,OAAOsS,EAAK2a,QAAU,EAAI,kBAAoB,4DAC9CjtB,OAAO6H,iFAG3B,EAER,IAEGgkB,cAAczmB,QAAQgK,iBAAiB,UAAW5F,IACrD,IAAIf,EACJ,MAAMi1B,EAAcl0B,EACpB,GAAkC,QAA7Bf,EAAKi1B,EAAYh0B,cAA2B,IAAPjB,OAAgB,EAASA,EAAGd,iBAAkB,CACpF,IAAI81B,EACJ,IACIA,EAAOxyB,KAAKC,MAAMwyB,EAAYh0B,OAAO/B,iBACzC,CACA,MAAOwD,GACHsyB,EAAOC,EAAYh0B,OAAO/B,gBAC9B,MACiBK,IAAby1B,EAAKE,MACLnxB,OAAOwS,SAAS4e,KAAOH,EAAKE,IAEpC,IACF,GACJ,EAENX,EAAQa,0BAA4B,SAAUjqB,GAC1C,MACM2B,EADSrV,KAAKuqB,OACYlV,iBAChC,MAAO,CACH,IAAAhR,EAAK,WAAEgH,GAAc+G,GACjB,IAAIzK,EAAQyK,EAAKzK,MACjB,GAAIyK,EAAK3K,iBAAkB,CACvB,IAAI81B,EACJ,IACIA,EAAOxyB,KAAKC,MAAMoH,EAAK3K,iBAC3B,CACA,MAAOwD,GACHsyB,EAAOnrB,EAAK3K,gBAChB,CACAE,OAAuBG,IAAfy1B,EAAK51B,MAAsByK,EAAKzK,MAAQ41B,EAAK51B,KACzD,CACA,OAAO+L,EAAS,sCACO5T,OAAOuL,EAAWhH,SAASvE,OAAOsS,EAAK7N,YACxD8G,EAAWoN,iBACXpN,EAAW8M,iGACkBrY,OAAOsS,EAAKhN,oBAAoBtF,OAAOsS,EAAKhM,sCAC/DtG,OAAOuV,EAAmB,iBAAmB,kCAC7CvV,OAAOsS,EAAKlO,OAAS,uBAAyB,OAAOpE,OAAOsS,EAAK1K,SAC3E,uBACA,6EACoD5H,OAAO6H,+BACnD7H,OAAOuV,EAAmB,gCAAgCvV,OAAOuL,EAAWmN,OAAOxT,KAAK,oCAAoClF,OAAOsS,EAAKhM,+CAAiD,yDAG3M,EAER,EACA02B,EAAQc,2BAA6B,SAAUlqB,GAC3C,MACMoD,EADS9W,KAAKuqB,OACUzT,eAC9B,MAAO,CACHzS,KAAI,EAAC,WAAEgH,GAAc+G,IACVsB,EAAS,kDACmB5T,OAAOuL,EAAWhH,SAASvE,OAAOsS,EAAK7N,YACpE8G,EAAWoN,iBACXpN,EAAW8M,mBAAmBrY,OAAOsS,EAAKxK,YAAcyD,EAAWzD,YAAc,kEACxC9H,OAAOsS,EAAKhN,oBAAoBtF,OAAOsS,EAAKhM,kDAC/DtG,OAAOsS,EAAKlO,OAAS,uBAAyB,OAAOpE,OAAOsS,EAAK1K,SACvF,uBACA,sGAC6E5H,OAAOsS,EAAKzK,4FAInGvF,OAAM,EAAC,WAAEiJ,GAAc+G,IACZsB,EAAS,kDACmB5T,OAAOuL,EAAWhH,SAASvE,OAAOuL,EAAWgN,eAAevY,OAAOsS,EAAK1K,SAAW2D,EAAW+M,aAAe/M,EAAW8M,6EAC7GrY,OAAOgX,mBAAgChX,OAAOsS,EAAK1K,SAC3F,4CACA,6EAC+B5H,OAAOsS,EAAKhN,oBAAoBtF,OAAOsS,EAAKhM,kDACrDtG,OAAOsS,EAAK2a,QAAU,EAAI,kBAAoB,qHACWjtB,OAAOsS,EAAKzK,6FAIrG2kB,YAAW,EAAC,WAAEjhB,GAAc+G,IACjBsB,EAAS,sCACO5T,OAAOuL,EAAWhH,8EACPvE,OAAOgX,mBAAgChX,OAAOsS,EAAK1K,SAC/E,4CACA,iEACmB5H,OAAOsS,EAAKhN,oBAAoBtF,OAAOsS,EAAKhM,sCACrDtG,OAAOsS,EAAK2a,QAAU,EAAI,kBAAoB,qGACOjtB,OAAOsS,EAAKzK,qEAK7F,EACAm1B,EAAQe,uBAAyB,CAACC,EAAQL,EAAKM,IAAoBC,MAAMP,EAAK,CAC1EQ,OAAQ,OACRC,KAAMnzB,KAAK+S,UAAUggB,GACrBK,QAAS,CACL,yBAA4B33B,SAASoN,cAAc,4CAA4CxN,MAC/F,OAAU,mBACV,eAAgB,oCAErBquB,MAAK2J,GAAYA,EAASb,SACxB9I,MAAKriB,GAAQA,EAAKpO,QAAQuG,KAAKnG,IAAU,CAC1CgC,MAAOhC,EAAMgB,GACbuC,MAAOvD,EAAM6e,KACb/P,QAAS9O,EAAM0C,SAASyD,KAAK8zB,IACzB,MAAMC,EAAavQ,SAASgQ,GAC5B,MAAO,CACH33B,MAAOi4B,EAAMj5B,GACbuC,MAAO02B,EAAMpb,KACbjQ,SAAUsrB,EAAa,GAAKP,GAAmBM,EAAMj5B,GACrDqC,iBAAkB,CACd82B,KAAMT,EAAOU,KACbC,MAAOrsB,EAAKqsB,MACZhB,IAAKY,EAAMZ,KAElB,UAGTX,EAAQ4B,kBAAoB,CAACZ,EAAQL,IAAQO,MAAMP,EAAK,CACpDQ,OAAQ,OACRC,KAAMnzB,KAAK+S,UAAUggB,GACrBK,QAAS,CACL,yBAA4B33B,SAASoN,cAAc,4CAA4CxN,MAC/F,OAAU,mBACV,eAAgB,oCAErBquB,MAAK2J,GAAYA,EAASb,SACxB9I,MAAKriB,GAAQA,EAAKpO,QAAQuG,KAAKkP,IAAW,CAC3CrT,MAAOqT,EAAOrU,GACduC,MAAO8R,EAAOwJ,KACdxb,iBAAkB,CACd82B,KAAMT,EAAOU,KACbC,MAAOrsB,EAAKqsB,Y","sources":["webpack://yetanotherforum-net/./wwwroot/lib/choices/assets/scripts/choices.js","webpack://yetanotherforum-net/external var \"bootstrap\"","webpack://yetanotherforum-net/webpack/bootstrap","webpack://yetanotherforum-net/webpack/runtime/compat get default export","webpack://yetanotherforum-net/webpack/runtime/define property getters","webpack://yetanotherforum-net/webpack/runtime/global","webpack://yetanotherforum-net/webpack/runtime/hasOwnProperty shorthand","webpack://yetanotherforum-net/webpack/runtime/make namespace object","webpack://yetanotherforum-net/./wwwroot/lib/choices/choices.ts"],"sourcesContent":["/*! choices.js v11.2.0 |  2026 Josh Johnson | https://github.com/jshjohnson/Choices#readme */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Choices = factory());\n})(this, (function () { 'use strict';\n\n    /******************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\n    /* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      };\n      return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n      if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n      if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n        }\n      }\n      return to.concat(ar || Array.prototype.slice.call(from));\n    }\n    typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n      var e = new Error(message);\n      return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n    };\n\n    var ActionType = {\n        ADD_CHOICE: 'ADD_CHOICE',\n        REMOVE_CHOICE: 'REMOVE_CHOICE',\n        FILTER_CHOICES: 'FILTER_CHOICES',\n        ACTIVATE_CHOICES: 'ACTIVATE_CHOICES',\n        CLEAR_CHOICES: 'CLEAR_CHOICES',\n        ADD_GROUP: 'ADD_GROUP',\n        ADD_ITEM: 'ADD_ITEM',\n        REMOVE_ITEM: 'REMOVE_ITEM',\n        HIGHLIGHT_ITEM: 'HIGHLIGHT_ITEM',\n    };\n\n    var EventType = {\n        showDropdown: 'showDropdown',\n        hideDropdown: 'hideDropdown',\n        change: 'change',\n        choice: 'choice',\n        search: 'search',\n        addItem: 'addItem',\n        removeItem: 'removeItem',\n        highlightItem: 'highlightItem',\n        highlightChoice: 'highlightChoice',\n        unhighlightItem: 'unhighlightItem',\n    };\n\n    var KeyCodeMap = {\n        TAB_KEY: 9,\n        SHIFT_KEY: 16,\n        BACK_KEY: 46,\n        DELETE_KEY: 8,\n        ENTER_KEY: 13,\n        A_KEY: 65,\n        ESC_KEY: 27,\n        UP_KEY: 38,\n        DOWN_KEY: 40,\n        PAGE_UP_KEY: 33,\n        PAGE_DOWN_KEY: 34,\n    };\n\n    var ObjectsInConfig = ['fuseOptions', 'classNames'];\n\n    var PassedElementTypes = {\n        Text: 'text',\n        SelectOne: 'select-one',\n        SelectMultiple: 'select-multiple',\n    };\n\n    var addChoice = function (choice) { return ({\n        type: ActionType.ADD_CHOICE,\n        choice: choice,\n    }); };\n    var removeChoice = function (choice) { return ({\n        type: ActionType.REMOVE_CHOICE,\n        choice: choice,\n    }); };\n    var filterChoices = function (results) { return ({\n        type: ActionType.FILTER_CHOICES,\n        results: results,\n    }); };\n    var activateChoices = function (active) {\n        return ({\n            type: ActionType.ACTIVATE_CHOICES,\n            active: active,\n        });\n    };\n\n    var addGroup = function (group) { return ({\n        type: ActionType.ADD_GROUP,\n        group: group,\n    }); };\n\n    var addItem = function (item) { return ({\n        type: ActionType.ADD_ITEM,\n        item: item,\n    }); };\n    var removeItem$1 = function (item) { return ({\n        type: ActionType.REMOVE_ITEM,\n        item: item,\n    }); };\n    var highlightItem = function (item, highlighted) { return ({\n        type: ActionType.HIGHLIGHT_ITEM,\n        item: item,\n        highlighted: highlighted,\n    }); };\n\n    var getRandomNumber = function (min, max) { return Math.floor(Math.random() * (max - min) + min); };\n    var generateChars = function (length) {\n        return Array.from({ length: length }, function () { return getRandomNumber(0, 36).toString(36); }).join('');\n    };\n    var generateId = function (element, prefix) {\n        var id = element.id || (element.name && \"\".concat(element.name, \"-\").concat(generateChars(2))) || generateChars(4);\n        id = id.replace(/(:|\\.|\\[|\\]|,)/g, '');\n        id = \"\".concat(prefix, \"-\").concat(id);\n        return id;\n    };\n    var getAdjacentEl = function (startEl, selector, direction) {\n        if (direction === void 0) { direction = 1; }\n        var prop = \"\".concat(direction > 0 ? 'next' : 'previous', \"ElementSibling\");\n        var sibling = startEl[prop];\n        while (sibling) {\n            if (sibling.matches(selector)) {\n                return sibling;\n            }\n            sibling = sibling[prop];\n        }\n        return null;\n    };\n    var isScrolledIntoView = function (element, parent, direction) {\n        if (direction === void 0) { direction = 1; }\n        var isVisible;\n        if (direction > 0) {\n            // In view from bottom\n            isVisible = parent.scrollTop + parent.offsetHeight >= element.offsetTop + element.offsetHeight;\n        }\n        else {\n            // In view from top\n            isVisible = element.offsetTop >= parent.scrollTop;\n        }\n        return isVisible;\n    };\n    var sanitise = function (value) {\n        if (typeof value !== 'string') {\n            if (value === null || value === undefined) {\n                return '';\n            }\n            if (typeof value === 'object') {\n                if ('raw' in value) {\n                    return sanitise(value.raw);\n                }\n                if ('trusted' in value) {\n                    return value.trusted;\n                }\n            }\n            return value;\n        }\n        return value\n            .replace(/&/g, '&amp;')\n            .replace(/>/g, '&gt;')\n            .replace(/</g, '&lt;')\n            .replace(/'/g, '&#039;')\n            .replace(/\"/g, '&quot;');\n    };\n    var strToEl = (function () {\n        var tmpEl = document.createElement('div');\n        return function (str) {\n            tmpEl.innerHTML = str.trim();\n            var firstChild = tmpEl.children[0];\n            while (tmpEl.firstChild) {\n                tmpEl.removeChild(tmpEl.firstChild);\n            }\n            return firstChild;\n        };\n    })();\n    var resolveStringFunction = function (fn) {\n        return typeof fn === 'function' ? fn() : fn;\n    };\n    var unwrapStringForRaw = function (s) {\n        if (typeof s === 'string') {\n            return s;\n        }\n        if (typeof s === 'object') {\n            if ('trusted' in s) {\n                return s.trusted;\n            }\n            if ('raw' in s) {\n                return s.raw;\n            }\n        }\n        return '';\n    };\n    var unwrapStringForEscaped = function (s) {\n        if (typeof s === 'string') {\n            return s;\n        }\n        if (typeof s === 'object') {\n            if ('escaped' in s) {\n                return s.escaped;\n            }\n            if ('trusted' in s) {\n                return s.trusted;\n            }\n        }\n        return '';\n    };\n    var getChoiceForOutput = function (choice, keyCode) {\n        return {\n            id: choice.id,\n            highlighted: choice.highlighted,\n            labelClass: choice.labelClass,\n            labelDescription: unwrapStringForRaw(choice.labelDescription),\n            customProperties: choice.customProperties,\n            disabled: choice.disabled,\n            active: choice.active,\n            label: choice.label,\n            placeholder: choice.placeholder,\n            value: choice.value,\n            groupValue: choice.group ? choice.group.label : undefined,\n            element: choice.element,\n            keyCode: keyCode,\n        };\n    };\n    var resolveNoticeFunction = function (fn, value, item) {\n        return typeof fn === 'function' ? fn(sanitise(value), unwrapStringForRaw(value), item) : fn;\n    };\n    var escapeForTemplate = function (allowHTML, s) {\n        return allowHTML ? unwrapStringForEscaped(s) : sanitise(s);\n    };\n    var setElementHtml = function (el, allowHtml, html) {\n        el.innerHTML = escapeForTemplate(allowHtml, html);\n    };\n    var sortByAlpha = function (_a, _b) {\n        var value = _a.value, _c = _a.label, label = _c === void 0 ? value : _c;\n        var value2 = _b.value, _d = _b.label, label2 = _d === void 0 ? value2 : _d;\n        return unwrapStringForRaw(label).localeCompare(unwrapStringForRaw(label2), [], {\n            sensitivity: 'base',\n            ignorePunctuation: true,\n            numeric: true,\n        });\n    };\n    var sortByRank = function (a, b) {\n        return a.rank - b.rank;\n    };\n    var dispatchEvent = function (element, type, customArgs) {\n        if (customArgs === void 0) { customArgs = null; }\n        var event = new CustomEvent(type, {\n            detail: customArgs,\n            bubbles: true,\n            cancelable: true,\n        });\n        return element.dispatchEvent(event);\n    };\n    /**\n     * Returns an array of keys present on the first but missing on the second object\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var diff = function (a, b) {\n        var aKeys = Object.keys(a).sort();\n        var bKeys = Object.keys(b).sort();\n        return aKeys.filter(function (i) { return bKeys.indexOf(i) < 0; });\n    };\n    var getClassNames = function (ClassNames) {\n        return Array.isArray(ClassNames) ? ClassNames : [ClassNames];\n    };\n    var getClassNamesSelector = function (option) {\n        if (option && Array.isArray(option)) {\n            return option\n                .map(function (item) {\n                return \".\".concat(item);\n            })\n                .join('');\n        }\n        return \".\".concat(option);\n    };\n    var addClassesToElement = function (element, className) {\n        var _a;\n        (_a = element.classList).add.apply(_a, getClassNames(className));\n    };\n    var removeClassesFromElement = function (element, className) {\n        var _a;\n        (_a = element.classList).remove.apply(_a, getClassNames(className));\n    };\n    var parseCustomProperties = function (customProperties) {\n        if (typeof customProperties !== 'undefined') {\n            try {\n                return JSON.parse(customProperties);\n            }\n            catch (e) {\n                return customProperties;\n            }\n        }\n        return {};\n    };\n    var updateClassList = function (item, add, remove) {\n        var itemEl = item.itemEl;\n        if (itemEl) {\n            removeClassesFromElement(itemEl, remove);\n            addClassesToElement(itemEl, add);\n        }\n    };\n\n    var Dropdown = /** @class */ (function () {\n        function Dropdown(_a) {\n            var element = _a.element, type = _a.type, classNames = _a.classNames;\n            this.element = element;\n            this.classNames = classNames;\n            this.type = type;\n            this.isActive = false;\n        }\n        /**\n         * Show dropdown to user by adding active state class\n         */\n        Dropdown.prototype.show = function () {\n            addClassesToElement(this.element, this.classNames.activeState);\n            this.element.setAttribute('aria-expanded', 'true');\n            this.isActive = true;\n            return this;\n        };\n        /**\n         * Hide dropdown from user\n         */\n        Dropdown.prototype.hide = function () {\n            removeClassesFromElement(this.element, this.classNames.activeState);\n            this.element.setAttribute('aria-expanded', 'false');\n            this.isActive = false;\n            return this;\n        };\n        return Dropdown;\n    }());\n\n    var Container = /** @class */ (function () {\n        function Container(_a) {\n            var element = _a.element, type = _a.type, classNames = _a.classNames, position = _a.position;\n            this.element = element;\n            this.classNames = classNames;\n            this.type = type;\n            this.position = position;\n            this.isOpen = false;\n            this.isFlipped = false;\n            this.isDisabled = false;\n            this.isLoading = false;\n        }\n        /**\n         * Determine whether container should be flipped based on passed\n         * dropdown position\n         */\n        Container.prototype.shouldFlip = function (dropdownPos, dropdownHeight) {\n            // If flip is enabled and the dropdown bottom position is\n            // greater than the window height flip the dropdown.\n            var shouldFlip = false;\n            if (this.position === 'auto') {\n                shouldFlip =\n                    this.element.getBoundingClientRect().top - dropdownHeight >= 0 &&\n                        !window.matchMedia(\"(min-height: \".concat(dropdownPos + 1, \"px)\")).matches;\n            }\n            else if (this.position === 'top') {\n                shouldFlip = true;\n            }\n            return shouldFlip;\n        };\n        Container.prototype.setActiveDescendant = function (activeDescendantID) {\n            this.element.setAttribute('aria-activedescendant', activeDescendantID);\n        };\n        Container.prototype.removeActiveDescendant = function () {\n            this.element.removeAttribute('aria-activedescendant');\n        };\n        Container.prototype.open = function (dropdownPos, dropdownHeight) {\n            addClassesToElement(this.element, this.classNames.openState);\n            this.element.setAttribute('aria-expanded', 'true');\n            this.isOpen = true;\n            if (this.shouldFlip(dropdownPos, dropdownHeight)) {\n                addClassesToElement(this.element, this.classNames.flippedState);\n                this.isFlipped = true;\n            }\n        };\n        Container.prototype.close = function () {\n            removeClassesFromElement(this.element, this.classNames.openState);\n            this.element.setAttribute('aria-expanded', 'false');\n            this.removeActiveDescendant();\n            this.isOpen = false;\n            // A dropdown flips if it does not have space within the page\n            if (this.isFlipped) {\n                removeClassesFromElement(this.element, this.classNames.flippedState);\n                this.isFlipped = false;\n            }\n        };\n        Container.prototype.addFocusState = function () {\n            addClassesToElement(this.element, this.classNames.focusState);\n        };\n        Container.prototype.removeFocusState = function () {\n            removeClassesFromElement(this.element, this.classNames.focusState);\n        };\n        Container.prototype.addInvalidState = function () {\n            addClassesToElement(this.element, this.classNames.invalidState);\n        };\n        Container.prototype.removeInvalidState = function () {\n            removeClassesFromElement(this.element, this.classNames.invalidState);\n        };\n        Container.prototype.enable = function () {\n            removeClassesFromElement(this.element, this.classNames.disabledState);\n            this.element.removeAttribute('aria-disabled');\n            if (this.type === PassedElementTypes.SelectOne) {\n                this.element.setAttribute('tabindex', '0');\n            }\n            this.isDisabled = false;\n        };\n        Container.prototype.disable = function () {\n            addClassesToElement(this.element, this.classNames.disabledState);\n            this.element.setAttribute('aria-disabled', 'true');\n            if (this.type === PassedElementTypes.SelectOne) {\n                this.element.setAttribute('tabindex', '-1');\n            }\n            this.isDisabled = true;\n        };\n        Container.prototype.wrap = function (element) {\n            var el = this.element;\n            var parentNode = element.parentNode;\n            if (parentNode) {\n                if (element.nextSibling) {\n                    parentNode.insertBefore(el, element.nextSibling);\n                }\n                else {\n                    parentNode.appendChild(el);\n                }\n            }\n            el.appendChild(element);\n        };\n        Container.prototype.unwrap = function (element) {\n            var el = this.element;\n            var parentNode = el.parentNode;\n            if (parentNode) {\n                // Move passed element outside this element\n                parentNode.insertBefore(element, el);\n                // Remove this element\n                parentNode.removeChild(el);\n            }\n        };\n        Container.prototype.addLoadingState = function () {\n            addClassesToElement(this.element, this.classNames.loadingState);\n            this.element.setAttribute('aria-busy', 'true');\n            this.isLoading = true;\n        };\n        Container.prototype.removeLoadingState = function () {\n            removeClassesFromElement(this.element, this.classNames.loadingState);\n            this.element.removeAttribute('aria-busy');\n            this.isLoading = false;\n        };\n        return Container;\n    }());\n\n    var Input = /** @class */ (function () {\n        function Input(_a) {\n            var element = _a.element, type = _a.type, classNames = _a.classNames, preventPaste = _a.preventPaste;\n            this.element = element;\n            this.type = type;\n            this.classNames = classNames;\n            this.preventPaste = preventPaste;\n            this.isFocussed = this.element.isEqualNode(document.activeElement);\n            this.isDisabled = element.disabled;\n            this._onPaste = this._onPaste.bind(this);\n            this._onInput = this._onInput.bind(this);\n            this._onFocus = this._onFocus.bind(this);\n            this._onBlur = this._onBlur.bind(this);\n        }\n        Object.defineProperty(Input.prototype, \"placeholder\", {\n            set: function (placeholder) {\n                this.element.placeholder = placeholder;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Input.prototype, \"value\", {\n            get: function () {\n                return this.element.value;\n            },\n            set: function (value) {\n                this.element.value = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Input.prototype.addEventListeners = function () {\n            var el = this.element;\n            el.addEventListener('paste', this._onPaste);\n            el.addEventListener('input', this._onInput, {\n                passive: true,\n            });\n            el.addEventListener('focus', this._onFocus, {\n                passive: true,\n            });\n            el.addEventListener('blur', this._onBlur, {\n                passive: true,\n            });\n        };\n        Input.prototype.removeEventListeners = function () {\n            var el = this.element;\n            el.removeEventListener('input', this._onInput);\n            el.removeEventListener('paste', this._onPaste);\n            el.removeEventListener('focus', this._onFocus);\n            el.removeEventListener('blur', this._onBlur);\n        };\n        Input.prototype.enable = function () {\n            var el = this.element;\n            el.removeAttribute('disabled');\n            this.isDisabled = false;\n        };\n        Input.prototype.disable = function () {\n            var el = this.element;\n            el.setAttribute('disabled', '');\n            this.isDisabled = true;\n        };\n        Input.prototype.focus = function () {\n            if (!this.isFocussed) {\n                this.element.focus();\n            }\n        };\n        Input.prototype.blur = function () {\n            if (this.isFocussed) {\n                this.element.blur();\n            }\n        };\n        Input.prototype.clear = function (setWidth) {\n            if (setWidth === void 0) { setWidth = true; }\n            this.element.value = '';\n            if (setWidth) {\n                this.setWidth();\n            }\n            return this;\n        };\n        /**\n         * Set the correct input width based on placeholder\n         * value or input value\n         */\n        Input.prototype.setWidth = function () {\n            // Resize input to contents or placeholder\n            var element = this.element;\n            element.style.minWidth = \"\".concat(element.placeholder.length + 1, \"ch\");\n            element.style.width = \"\".concat(element.value.length + 1, \"ch\");\n        };\n        Input.prototype.setActiveDescendant = function (activeDescendantID) {\n            this.element.setAttribute('aria-activedescendant', activeDescendantID);\n        };\n        Input.prototype.removeActiveDescendant = function () {\n            this.element.removeAttribute('aria-activedescendant');\n        };\n        Input.prototype._onInput = function () {\n            if (this.type !== PassedElementTypes.SelectOne) {\n                this.setWidth();\n            }\n        };\n        Input.prototype._onPaste = function (event) {\n            if (this.preventPaste) {\n                event.preventDefault();\n            }\n        };\n        Input.prototype._onFocus = function () {\n            this.isFocussed = true;\n        };\n        Input.prototype._onBlur = function () {\n            this.isFocussed = false;\n        };\n        return Input;\n    }());\n\n    var SCROLLING_SPEED = 4;\n\n    var List = /** @class */ (function () {\n        function List(_a) {\n            var element = _a.element;\n            this.element = element;\n            this.scrollPos = this.element.scrollTop;\n            this.height = this.element.offsetHeight;\n        }\n        List.prototype.prepend = function (node) {\n            var child = this.element.firstElementChild;\n            if (child) {\n                this.element.insertBefore(node, child);\n            }\n            else {\n                this.element.append(node);\n            }\n        };\n        List.prototype.scrollToTop = function () {\n            this.element.scrollTop = 0;\n        };\n        List.prototype.scrollToChildElement = function (element, direction) {\n            var _this = this;\n            if (!element) {\n                return;\n            }\n            var listHeight = this.element.offsetHeight;\n            // Scroll position of dropdown\n            var listScrollPosition = this.element.scrollTop + listHeight;\n            var elementHeight = element.offsetHeight;\n            // Distance from bottom of element to top of parent\n            var elementPos = element.offsetTop + elementHeight;\n            // Difference between the element and scroll position\n            var destination = direction > 0 ? this.element.scrollTop + elementPos - listScrollPosition : element.offsetTop;\n            requestAnimationFrame(function () {\n                _this._animateScroll(destination, direction);\n            });\n        };\n        List.prototype._scrollDown = function (scrollPos, strength, destination) {\n            var easing = (destination - scrollPos) / strength;\n            var distance = easing > 1 ? easing : 1;\n            this.element.scrollTop = scrollPos + distance;\n        };\n        List.prototype._scrollUp = function (scrollPos, strength, destination) {\n            var easing = (scrollPos - destination) / strength;\n            var distance = easing > 1 ? easing : 1;\n            this.element.scrollTop = scrollPos - distance;\n        };\n        List.prototype._animateScroll = function (destination, direction) {\n            var _this = this;\n            var strength = SCROLLING_SPEED;\n            var choiceListScrollTop = this.element.scrollTop;\n            var continueAnimation = false;\n            if (direction > 0) {\n                this._scrollDown(choiceListScrollTop, strength, destination);\n                if (choiceListScrollTop < destination) {\n                    continueAnimation = true;\n                }\n            }\n            else {\n                this._scrollUp(choiceListScrollTop, strength, destination);\n                if (choiceListScrollTop > destination) {\n                    continueAnimation = true;\n                }\n            }\n            if (continueAnimation) {\n                requestAnimationFrame(function () {\n                    _this._animateScroll(destination, direction);\n                });\n            }\n        };\n        return List;\n    }());\n\n    var WrappedElement = /** @class */ (function () {\n        function WrappedElement(_a) {\n            var element = _a.element, classNames = _a.classNames;\n            this.element = element;\n            this.classNames = classNames;\n            this.isDisabled = false;\n        }\n        Object.defineProperty(WrappedElement.prototype, \"isActive\", {\n            get: function () {\n                return this.element.dataset.choice === 'active';\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(WrappedElement.prototype, \"dir\", {\n            get: function () {\n                return this.element.dir;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(WrappedElement.prototype, \"value\", {\n            get: function () {\n                return this.element.value;\n            },\n            set: function (value) {\n                this.element.setAttribute('value', value);\n                this.element.value = value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WrappedElement.prototype.conceal = function () {\n            var el = this.element;\n            // Hide passed input\n            addClassesToElement(el, this.classNames.input);\n            el.hidden = true;\n            // Remove element from tab index\n            el.tabIndex = -1;\n            // Backup original styles if any\n            var origStyle = el.getAttribute('style');\n            if (origStyle) {\n                el.setAttribute('data-choice-orig-style', origStyle);\n            }\n            el.setAttribute('data-choice', 'active');\n        };\n        WrappedElement.prototype.reveal = function () {\n            var el = this.element;\n            // Reinstate passed element\n            removeClassesFromElement(el, this.classNames.input);\n            el.hidden = false;\n            el.removeAttribute('tabindex');\n            // Recover original styles if any\n            var origStyle = el.getAttribute('data-choice-orig-style');\n            if (origStyle) {\n                el.removeAttribute('data-choice-orig-style');\n                el.setAttribute('style', origStyle);\n            }\n            else {\n                el.removeAttribute('style');\n            }\n            el.removeAttribute('data-choice');\n        };\n        WrappedElement.prototype.enable = function () {\n            this.element.removeAttribute('disabled');\n            this.element.disabled = false;\n            this.isDisabled = false;\n        };\n        WrappedElement.prototype.disable = function () {\n            this.element.setAttribute('disabled', '');\n            this.element.disabled = true;\n            this.isDisabled = true;\n        };\n        WrappedElement.prototype.triggerEvent = function (eventType, data) {\n            dispatchEvent(this.element, eventType, data || {});\n        };\n        return WrappedElement;\n    }());\n\n    var WrappedInput = /** @class */ (function (_super) {\n        __extends(WrappedInput, _super);\n        function WrappedInput() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return WrappedInput;\n    }(WrappedElement));\n\n    var coerceBool = function (arg, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = true; }\n        return typeof arg === 'undefined' ? defaultValue : !!arg;\n    };\n    var stringToHtmlClass = function (input) {\n        if (typeof input === 'string') {\n            // eslint-disable-next-line no-param-reassign\n            input = input.split(' ').filter(function (s) { return s.length; });\n        }\n        if (Array.isArray(input) && input.length) {\n            return input;\n        }\n        return undefined;\n    };\n    var mapInputToChoice = function (value, allowGroup, allowRawString) {\n        if (allowRawString === void 0) { allowRawString = true; }\n        if (typeof value === 'string') {\n            var sanitisedValue = sanitise(value);\n            var userValue = allowRawString || sanitisedValue === value ? value : { escaped: sanitisedValue, raw: value };\n            var result_1 = mapInputToChoice({\n                value: value,\n                label: userValue,\n                selected: true,\n            }, false);\n            return result_1;\n        }\n        var groupOrChoice = value;\n        if ('choices' in groupOrChoice) {\n            if (!allowGroup) {\n                // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup\n                throw new TypeError(\"optGroup is not allowed\");\n            }\n            var group = groupOrChoice;\n            var choices = group.choices.map(function (e) { return mapInputToChoice(e, false); });\n            var result_2 = {\n                id: 0, // actual ID will be assigned during _addGroup\n                value: group.value,\n                label: unwrapStringForRaw(group.label) || group.value,\n                active: !!choices.length,\n                disabled: !!group.disabled,\n                choices: choices,\n            };\n            return result_2;\n        }\n        var choice = groupOrChoice;\n        var result = {\n            id: 0, // actual ID will be assigned during _addChoice\n            group: null, // actual group will be assigned during _addGroup but before _addChoice\n            score: 0, // used in search\n            rank: 0, // used in search, stable sort order\n            value: choice.value,\n            label: choice.label || choice.value,\n            active: coerceBool(choice.active),\n            selected: coerceBool(choice.selected, false),\n            disabled: coerceBool(choice.disabled, false),\n            placeholder: coerceBool(choice.placeholder, false),\n            highlighted: false,\n            labelClass: stringToHtmlClass(choice.labelClass),\n            labelDescription: choice.labelDescription,\n            customProperties: choice.customProperties,\n        };\n        return result;\n    };\n\n    var isHtmlInputElement = function (e) { return e.tagName === 'INPUT'; };\n    var isHtmlSelectElement = function (e) { return e.tagName === 'SELECT'; };\n    var isHtmlOption = function (e) { return e.tagName === 'OPTION'; };\n    var isHtmlOptgroup = function (e) { return e.tagName === 'OPTGROUP'; };\n\n    var WrappedSelect = /** @class */ (function (_super) {\n        __extends(WrappedSelect, _super);\n        function WrappedSelect(_a) {\n            var element = _a.element, classNames = _a.classNames, template = _a.template, extractPlaceholder = _a.extractPlaceholder;\n            var _this = _super.call(this, { element: element, classNames: classNames }) || this;\n            _this.template = template;\n            _this.extractPlaceholder = extractPlaceholder;\n            return _this;\n        }\n        Object.defineProperty(WrappedSelect.prototype, \"placeholderOption\", {\n            get: function () {\n                return (this.element.querySelector('option[value=\"\"]') ||\n                    // Backward compatibility layer for the non-standard placeholder attribute supported in older versions.\n                    this.element.querySelector('option[placeholder]'));\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WrappedSelect.prototype.addOptions = function (choices) {\n            var _this = this;\n            var fragment = document.createDocumentFragment();\n            choices.forEach(function (obj) {\n                var choice = obj;\n                if (choice.element) {\n                    return;\n                }\n                var option = _this.template(choice);\n                fragment.appendChild(option);\n                choice.element = option;\n            });\n            this.element.appendChild(fragment);\n        };\n        WrappedSelect.prototype.optionsAsChoices = function () {\n            var _this = this;\n            var choices = [];\n            this.element.querySelectorAll(':scope > option, :scope > optgroup').forEach(function (e) {\n                if (isHtmlOption(e)) {\n                    choices.push(_this._optionToChoice(e));\n                }\n                else if (isHtmlOptgroup(e)) {\n                    choices.push(_this._optgroupToChoice(e));\n                }\n                // todo: hr as empty optgroup, requires displaying empty opt-groups to be useful\n            });\n            return choices;\n        };\n        // eslint-disable-next-line class-methods-use-this\n        WrappedSelect.prototype._optionToChoice = function (option) {\n            // option.value returns the label if there is no value attribute, which can break legacy placeholder attribute support\n            if (!option.hasAttribute('value') && option.hasAttribute('placeholder')) {\n                option.setAttribute('value', '');\n                option.value = '';\n            }\n            return {\n                id: 0,\n                group: null,\n                score: 0,\n                rank: 0,\n                value: option.value,\n                // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option\n                // This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content (ie `innerText`).\n                label: option.label,\n                element: option,\n                active: true,\n                // this returns true if nothing is selected on initial load, which will break placeholder support\n                selected: this.extractPlaceholder ? option.selected : option.hasAttribute('selected'),\n                disabled: option.disabled,\n                highlighted: false,\n                placeholder: this.extractPlaceholder && (!option.value || option.hasAttribute('placeholder')),\n                labelClass: typeof option.dataset.labelClass !== 'undefined' ? stringToHtmlClass(option.dataset.labelClass) : undefined,\n                labelDescription: typeof option.dataset.labelDescription !== 'undefined'\n                    ? { trusted: option.dataset.labelDescription }\n                    : undefined,\n                customProperties: parseCustomProperties(option.dataset.customProperties),\n            };\n        };\n        WrappedSelect.prototype._optgroupToChoice = function (optgroup) {\n            var _this = this;\n            var options = optgroup.querySelectorAll('option');\n            var choices = Array.from(options).map(function (option) { return _this._optionToChoice(option); });\n            return {\n                id: 0,\n                label: optgroup.label || '',\n                value: optgroup.getAttribute('value') || '',\n                element: optgroup,\n                active: !!choices.length,\n                disabled: optgroup.disabled,\n                choices: choices,\n            };\n        };\n        return WrappedSelect;\n    }(WrappedElement));\n\n    var DEFAULT_CLASSNAMES = {\n        containerOuter: ['choices'],\n        containerInner: ['choices__inner'],\n        input: ['choices__input'],\n        inputCloned: ['choices__input--cloned', 'form-control'],\n        list: ['choices__list'],\n        listItems: ['choices__list--multiple'],\n        listSingle: ['choices__list--single'],\n        listDropdown: ['choices__list--dropdown'],\n        item: ['choices__item'],\n        itemSelectable: ['choices__item--selectable'],\n        itemDisabled: ['choices__item--disabled'],\n        itemChoice: ['choices__item--choice'],\n        description: ['choices__description'],\n        placeholder: ['choices__placeholder'],\n        group: ['choices__group'],\n        groupHeading: ['choices__heading'],\n        button: ['choices__button', 'btn-close'],\n        activeState: ['is-active'],\n        focusState: ['is-focused'],\n        openState: ['is-open'],\n        disabledState: ['is-disabled'],\n        highlightedState: ['is-highlighted'],\n        selectedState: ['is-selected'],\n        flippedState: ['is-flipped'],\n        loadingState: ['is-loading'],\n        notice: ['choices__notice'],\n        addChoice: ['choices__item--selectable', 'add-choice'],\n        noResults: ['has-no-results'],\n        noChoices: ['has-no-choices'],\n    };\n    var DEFAULT_CONFIG = {\n        items: [],\n        choices: [],\n        silent: false,\n        renderChoiceLimit: -1,\n        maxItemCount: -1,\n        closeDropdownOnSelect: 'auto',\n        singleModeForMultiSelect: false,\n        addChoices: false,\n        addItems: true,\n        addItemFilter: function (value) { return !!value && value !== ''; },\n        removeItems: true,\n        removeItemButton: false,\n        removeItemButtonAlignLeft: false,\n        editItems: false,\n        allowHTML: false,\n        allowHtmlUserInput: false,\n        duplicateItemsAllowed: true,\n        delimiter: ',',\n        paste: true,\n        searchEnabled: true,\n        searchChoices: true,\n        searchFloor: 1,\n        searchResultLimit: 4,\n        searchFields: ['label', 'value'],\n        position: 'auto',\n        resetScrollPosition: true,\n        shouldSort: true,\n        shouldSortItems: false,\n        sorter: sortByAlpha,\n        shadowRoot: null,\n        placeholder: true,\n        placeholderValue: null,\n        searchPlaceholderValue: null,\n        prependValue: null,\n        appendValue: null,\n        renderSelectedChoices: 'auto',\n        loadingText: 'Loading...',\n        noResultsText: 'No results found',\n        noChoicesText: 'No choices to choose from',\n        itemSelectText: 'Press to select',\n        uniqueItemText: 'Only unique values can be added',\n        customAddItemText: 'Only values matching specific conditions can be added',\n        addItemText: function (value) { return \"Press Enter to add <b>\\\"\".concat(value, \"\\\"</b>\"); },\n        removeItemIconText: function () { return \"Remove item\"; },\n        removeItemLabelText: function (value) { return \"Remove item: \".concat(value); },\n        maxItemText: function (maxItemCount) { return \"Only \".concat(maxItemCount, \" values can be added\"); },\n        valueComparer: function (value1, value2) { return value1 === value2; },\n        fuseOptions: {\n            includeScore: true,\n        },\n        labelId: '',\n        callbackOnInit: null,\n        callbackOnCreateTemplates: null,\n        classNames: DEFAULT_CLASSNAMES,\n        appendGroupInSearch: false,\n    };\n\n    var removeItem = function (item) {\n        var itemEl = item.itemEl;\n        if (itemEl) {\n            itemEl.remove();\n            item.itemEl = undefined;\n        }\n    };\n    function items(s, action, context) {\n        var state = s;\n        var update = true;\n        switch (action.type) {\n            case ActionType.ADD_ITEM: {\n                action.item.selected = true;\n                var el = action.item.element;\n                if (el) {\n                    el.selected = true;\n                    el.setAttribute('selected', '');\n                }\n                state.push(action.item);\n                break;\n            }\n            case ActionType.REMOVE_ITEM: {\n                action.item.selected = false;\n                var el = action.item.element;\n                if (el) {\n                    el.selected = false;\n                    el.removeAttribute('selected');\n                    // For a select-one, if all options are deselected, the first item is selected. To set a black value, select.value needs to be set\n                    var select = el.parentElement;\n                    if (select && isHtmlSelectElement(select) && select.type === PassedElementTypes.SelectOne) {\n                        select.value = '';\n                    }\n                }\n                // this is mixing concerns, but this is *so much faster*\n                removeItem(action.item);\n                state = state.filter(function (choice) { return choice.id !== action.item.id; });\n                break;\n            }\n            case ActionType.REMOVE_CHOICE: {\n                removeItem(action.choice);\n                state = state.filter(function (item) { return item.id !== action.choice.id; });\n                break;\n            }\n            case ActionType.HIGHLIGHT_ITEM: {\n                var highlighted = action.highlighted;\n                var item = state.find(function (obj) { return obj.id === action.item.id; });\n                if (item && item.highlighted !== highlighted) {\n                    item.highlighted = highlighted;\n                    if (context) {\n                        updateClassList(item, highlighted ? context.classNames.highlightedState : context.classNames.selectedState, highlighted ? context.classNames.selectedState : context.classNames.highlightedState);\n                    }\n                }\n                break;\n            }\n            default: {\n                update = false;\n                break;\n            }\n        }\n        return { state: state, update: update };\n    }\n\n    function groups(s, action) {\n        var state = s;\n        var update = true;\n        switch (action.type) {\n            case ActionType.ADD_GROUP: {\n                state.push(action.group);\n                break;\n            }\n            case ActionType.CLEAR_CHOICES: {\n                state = [];\n                break;\n            }\n            default: {\n                update = false;\n                break;\n            }\n        }\n        return { state: state, update: update };\n    }\n\n    /* eslint-disable */\n    function choices(s, action, context) {\n        var state = s;\n        var update = true;\n        switch (action.type) {\n            case ActionType.ADD_CHOICE: {\n                state.push(action.choice);\n                break;\n            }\n            case ActionType.REMOVE_CHOICE: {\n                action.choice.choiceEl = undefined;\n                if (action.choice.group) {\n                    action.choice.group.choices = action.choice.group.choices.filter(function (obj) { return obj.id !== action.choice.id; });\n                }\n                state = state.filter(function (obj) { return obj.id !== action.choice.id; });\n                break;\n            }\n            case ActionType.ADD_ITEM:\n            case ActionType.REMOVE_ITEM: {\n                action.item.choiceEl = undefined;\n                break;\n            }\n            case ActionType.FILTER_CHOICES: {\n                // avoid O(n^2) algorithm complexity when searching/filtering choices\n                var scoreLookup_1 = [];\n                action.results.forEach(function (result) {\n                    scoreLookup_1[result.item.id] = result;\n                });\n                state.forEach(function (choice) {\n                    var result = scoreLookup_1[choice.id];\n                    if (result !== undefined) {\n                        choice.score = result.score;\n                        choice.rank = result.rank;\n                        choice.active = true;\n                    }\n                    else {\n                        choice.score = 0;\n                        choice.rank = 0;\n                        choice.active = false;\n                    }\n                    if (context && context.appendGroupInSearch) {\n                        choice.choiceEl = undefined;\n                    }\n                });\n                break;\n            }\n            case ActionType.ACTIVATE_CHOICES: {\n                state.forEach(function (choice) {\n                    choice.active = action.active;\n                    if (context && context.appendGroupInSearch) {\n                        choice.choiceEl = undefined;\n                    }\n                });\n                break;\n            }\n            case ActionType.CLEAR_CHOICES: {\n                state = [];\n                break;\n            }\n            default: {\n                update = false;\n                break;\n            }\n        }\n        return { state: state, update: update };\n    }\n\n    var reducers = {\n        groups: groups,\n        items: items,\n        choices: choices,\n    };\n    var Store = /** @class */ (function () {\n        function Store(context) {\n            this._state = this.defaultState;\n            this._listeners = [];\n            this._txn = 0;\n            this._context = context;\n        }\n        Object.defineProperty(Store.prototype, \"defaultState\", {\n            // eslint-disable-next-line class-methods-use-this\n            get: function () {\n                return {\n                    groups: [],\n                    items: [],\n                    choices: [],\n                };\n            },\n            enumerable: false,\n            configurable: true\n        });\n        // eslint-disable-next-line class-methods-use-this\n        Store.prototype.changeSet = function (init) {\n            return {\n                groups: init,\n                items: init,\n                choices: init,\n            };\n        };\n        Store.prototype.reset = function () {\n            this._state = this.defaultState;\n            var changes = this.changeSet(true);\n            if (this._txn) {\n                this._changeSet = changes;\n            }\n            else {\n                this._listeners.forEach(function (l) { return l(changes); });\n            }\n        };\n        Store.prototype.subscribe = function (onChange) {\n            this._listeners.push(onChange);\n            return this;\n        };\n        Store.prototype.dispatch = function (action) {\n            var _this = this;\n            var state = this._state;\n            var hasChanges = false;\n            var changes = this._changeSet || this.changeSet(false);\n            Object.keys(reducers).forEach(function (key) {\n                var stateUpdate = reducers[key](state[key], action, _this._context);\n                if (stateUpdate.update) {\n                    hasChanges = true;\n                    changes[key] = true;\n                    state[key] = stateUpdate.state;\n                }\n            });\n            if (hasChanges) {\n                if (this._txn) {\n                    this._changeSet = changes;\n                }\n                else {\n                    this._listeners.forEach(function (l) { return l(changes); });\n                }\n            }\n        };\n        Store.prototype.withTxn = function (func) {\n            this._txn++;\n            try {\n                func();\n            }\n            finally {\n                this._txn = Math.max(0, this._txn - 1);\n                if (!this._txn) {\n                    var changeSet_1 = this._changeSet;\n                    if (changeSet_1) {\n                        this._changeSet = undefined;\n                        this._listeners.forEach(function (l) { return l(changeSet_1); });\n                    }\n                }\n            }\n        };\n        Object.defineProperty(Store.prototype, \"state\", {\n            /**\n             * Get store object\n             */\n            get: function () {\n                return this._state;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"items\", {\n            /**\n             * Get items from store\n             */\n            get: function () {\n                return this.state.items;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"highlightedActiveItems\", {\n            /**\n             * Get highlighted items from store\n             */\n            get: function () {\n                return this.items.filter(function (item) { return item.active && item.highlighted; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"choices\", {\n            /**\n             * Get choices from store\n             */\n            get: function () {\n                return this.state.choices;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"activeChoices\", {\n            /**\n             * Get active choices from store\n             */\n            get: function () {\n                return this.choices.filter(function (choice) { return choice.active; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"searchableChoices\", {\n            /**\n             * Get choices that can be searched (excluding placeholders or disabled choices)\n             */\n            get: function () {\n                var context = this._context;\n                return this.choices.filter(function (choice) { return !choice.placeholder && (context.searchDisabledChoices || !choice.disabled); });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"groups\", {\n            /**\n             * Get groups from store\n             */\n            get: function () {\n                return this.state.groups;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Store.prototype, \"activeGroups\", {\n            /**\n             * Get active groups from store\n             */\n            get: function () {\n                var _this = this;\n                return this.state.groups.filter(function (group) {\n                    var isActive = group.active && !group.disabled;\n                    var hasActiveOptions = _this.state.choices.some(function (choice) { return choice.active && !choice.disabled; });\n                    return isActive && hasActiveOptions;\n                }, []);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Store.prototype.inTxn = function () {\n            return this._txn > 0;\n        };\n        /**\n         * Get single choice by it's ID\n         */\n        Store.prototype.getChoiceById = function (id) {\n            return this.activeChoices.find(function (choice) { return choice.id === id; });\n        };\n        /**\n         * Get group by group id\n         */\n        Store.prototype.getGroupById = function (id) {\n            return this.groups.find(function (group) { return group.id === id; });\n        };\n        return Store;\n    }());\n\n    var NoticeTypes = {\n        noChoices: 'no-choices',\n        noResults: 'no-results',\n        addChoice: 'add-choice',\n        generic: '',\n    };\n\n    function _defineProperty(e, r, t) {\n      return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n        value: t,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      }) : e[r] = t, e;\n    }\n    function ownKeys(e, r) {\n      var t = Object.keys(e);\n      if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function (r) {\n          return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n      }\n      return t;\n    }\n    function _objectSpread2(e) {\n      for (var r = 1; r < arguments.length; r++) {\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n          _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n          Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n      }\n      return e;\n    }\n    function _toPrimitive(t, r) {\n      if (\"object\" != typeof t || !t) return t;\n      var e = t[Symbol.toPrimitive];\n      if (void 0 !== e) {\n        var i = e.call(t, r);\n        if (\"object\" != typeof i) return i;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n      }\n      return (\"string\" === r ? String : Number)(t);\n    }\n    function _toPropertyKey(t) {\n      var i = _toPrimitive(t, \"string\");\n      return \"symbol\" == typeof i ? i : i + \"\";\n    }\n\n    /**\n     * Fuse.js v7.1.0 - Lightweight fuzzy-search (http://fusejs.io)\n     *\n     * Copyright (c) 2025 Kiro Risk (http://kiro.me)\n     * All Rights Reserved. Apache Software License 2.0\n     *\n     * http://www.apache.org/licenses/LICENSE-2.0\n     */\n\n    function isArray(value) {\n      return !Array.isArray ? getTag(value) === '[object Array]' : Array.isArray(value);\n    }\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      let result = value + '';\n      return result == '0' && 1 / value == -Infinity ? '-0' : result;\n    }\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n    function isString(value) {\n      return typeof value === 'string';\n    }\n    function isNumber(value) {\n      return typeof value === 'number';\n    }\n\n    // Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\n    function isBoolean(value) {\n      return value === true || value === false || isObjectLike(value) && getTag(value) == '[object Boolean]';\n    }\n    function isObject(value) {\n      return typeof value === 'object';\n    }\n\n    // Checks if `value` is object-like.\n    function isObjectLike(value) {\n      return isObject(value) && value !== null;\n    }\n    function isDefined(value) {\n      return value !== undefined && value !== null;\n    }\n    function isBlank(value) {\n      return !value.trim().length;\n    }\n\n    // Gets the `toStringTag` of `value`.\n    // Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\n    function getTag(value) {\n      return value == null ? value === undefined ? '[object Undefined]' : '[object Null]' : Object.prototype.toString.call(value);\n    }\n    const INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n    const LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = key => `Invalid value for key ${key}`;\n    const PATTERN_LENGTH_TOO_LARGE = max => `Pattern length exceeds max of ${max}.`;\n    const MISSING_KEY_PROPERTY = name => `Missing ${name} property in key`;\n    const INVALID_KEY_WEIGHT_VALUE = key => `Property 'weight' in key '${key}' must be a positive integer`;\n    const hasOwn = Object.prototype.hasOwnProperty;\n    class KeyStore {\n      constructor(keys) {\n        this._keys = [];\n        this._keyMap = {};\n        let totalWeight = 0;\n        keys.forEach(key => {\n          let obj = createKey(key);\n          this._keys.push(obj);\n          this._keyMap[obj.id] = obj;\n          totalWeight += obj.weight;\n        });\n\n        // Normalize weights so that their sum is equal to 1\n        this._keys.forEach(key => {\n          key.weight /= totalWeight;\n        });\n      }\n      get(keyId) {\n        return this._keyMap[keyId];\n      }\n      keys() {\n        return this._keys;\n      }\n      toJSON() {\n        return JSON.stringify(this._keys);\n      }\n    }\n    function createKey(key) {\n      let path = null;\n      let id = null;\n      let src = null;\n      let weight = 1;\n      let getFn = null;\n      if (isString(key) || isArray(key)) {\n        src = key;\n        path = createKeyPath(key);\n        id = createKeyId(key);\n      } else {\n        if (!hasOwn.call(key, 'name')) {\n          throw new Error(MISSING_KEY_PROPERTY('name'));\n        }\n        const name = key.name;\n        src = name;\n        if (hasOwn.call(key, 'weight')) {\n          weight = key.weight;\n          if (weight <= 0) {\n            throw new Error(INVALID_KEY_WEIGHT_VALUE(name));\n          }\n        }\n        path = createKeyPath(name);\n        id = createKeyId(name);\n        getFn = key.getFn;\n      }\n      return {\n        path,\n        id,\n        weight,\n        src,\n        getFn\n      };\n    }\n    function createKeyPath(key) {\n      return isArray(key) ? key : key.split('.');\n    }\n    function createKeyId(key) {\n      return isArray(key) ? key.join('.') : key;\n    }\n    function get(obj, path) {\n      let list = [];\n      let arr = false;\n      const deepGet = (obj, path, index) => {\n        if (!isDefined(obj)) {\n          return;\n        }\n        if (!path[index]) {\n          // If there's no path left, we've arrived at the object we care about.\n          list.push(obj);\n        } else {\n          let key = path[index];\n          const value = obj[key];\n          if (!isDefined(value)) {\n            return;\n          }\n\n          // If we're at the last value in the path, and if it's a string/number/bool,\n          // add it to the list\n          if (index === path.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {\n            list.push(toString(value));\n          } else if (isArray(value)) {\n            arr = true;\n            // Search each item in the array.\n            for (let i = 0, len = value.length; i < len; i += 1) {\n              deepGet(value[i], path, index + 1);\n            }\n          } else if (path.length) {\n            // An object. Recurse further.\n            deepGet(value, path, index + 1);\n          }\n        }\n      };\n\n      // Backwards compatibility (since path used to be a string)\n      deepGet(obj, isString(path) ? path.split('.') : path, 0);\n      return arr ? list : list[0];\n    }\n    const MatchOptions = {\n      // Whether the matches should be included in the result set. When `true`, each record in the result\n      // set will include the indices of the matched characters.\n      // These can consequently be used for highlighting purposes.\n      includeMatches: false,\n      // When `true`, the matching function will continue to the end of a search pattern even if\n      // a perfect match has already been located in the string.\n      findAllMatches: false,\n      // Minimum number of characters that must be matched before a result is considered a match\n      minMatchCharLength: 1\n    };\n    const BasicOptions = {\n      // When `true`, the algorithm continues searching to the end of the input even if a perfect\n      // match is found before the end of the same input.\n      isCaseSensitive: false,\n      // When `true`, the algorithm will ignore diacritics (accents) in comparisons\n      ignoreDiacritics: false,\n      // When true, the matching function will continue to the end of a search pattern even if\n      includeScore: false,\n      // List of properties that will be searched. This also supports nested properties.\n      keys: [],\n      // Whether to sort the result list, by score\n      shouldSort: true,\n      // Default sort function: sort by ascending score, ascending index\n      sortFn: (a, b) => a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1\n    };\n    const FuzzyOptions = {\n      // Approximately where in the text is the pattern expected to be found?\n      location: 0,\n      // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n      // (of both letters and location), a threshold of '1.0' would match anything.\n      threshold: 0.6,\n      // Determines how close the match must be to the fuzzy location (specified above).\n      // An exact letter match which is 'distance' characters away from the fuzzy location\n      // would score as a complete mismatch. A distance of '0' requires the match be at\n      // the exact location specified, a threshold of '1000' would require a perfect match\n      // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n      distance: 100\n    };\n    const AdvancedOptions = {\n      // When `true`, it enables the use of unix-like search commands\n      useExtendedSearch: false,\n      // The get function to use when fetching an object's properties.\n      // The default will search nested paths *ie foo.bar.baz*\n      getFn: get,\n      // When `true`, search will ignore `location` and `distance`, so it won't matter\n      // where in the string the pattern appears.\n      // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n      ignoreLocation: false,\n      // When `true`, the calculation for the relevance score (used for sorting) will\n      // ignore the field-length norm.\n      // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n      ignoreFieldNorm: false,\n      // The weight to determine how much field length norm effects scoring.\n      fieldNormWeight: 1\n    };\n    var Config = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);\n    const SPACE = /[^ ]+/g;\n\n    // Field-length norm: the shorter the field, the higher the weight.\n    // Set to 3 decimals to reduce index size.\n    function norm(weight = 1, mantissa = 3) {\n      const cache = new Map();\n      const m = Math.pow(10, mantissa);\n      return {\n        get(value) {\n          const numTokens = value.match(SPACE).length;\n          if (cache.has(numTokens)) {\n            return cache.get(numTokens);\n          }\n\n          // Default function is 1/sqrt(x), weight makes that variable\n          const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n          // In place of `toFixed(mantissa)`, for faster computation\n          const n = parseFloat(Math.round(norm * m) / m);\n          cache.set(numTokens, n);\n          return n;\n        },\n        clear() {\n          cache.clear();\n        }\n      };\n    }\n    class FuseIndex {\n      constructor({\n        getFn = Config.getFn,\n        fieldNormWeight = Config.fieldNormWeight\n      } = {}) {\n        this.norm = norm(fieldNormWeight, 3);\n        this.getFn = getFn;\n        this.isCreated = false;\n        this.setIndexRecords();\n      }\n      setSources(docs = []) {\n        this.docs = docs;\n      }\n      setIndexRecords(records = []) {\n        this.records = records;\n      }\n      setKeys(keys = []) {\n        this.keys = keys;\n        this._keysMap = {};\n        keys.forEach((key, idx) => {\n          this._keysMap[key.id] = idx;\n        });\n      }\n      create() {\n        if (this.isCreated || !this.docs.length) {\n          return;\n        }\n        this.isCreated = true;\n\n        // List is Array<String>\n        if (isString(this.docs[0])) {\n          this.docs.forEach((doc, docIndex) => {\n            this._addString(doc, docIndex);\n          });\n        } else {\n          // List is Array<Object>\n          this.docs.forEach((doc, docIndex) => {\n            this._addObject(doc, docIndex);\n          });\n        }\n        this.norm.clear();\n      }\n      // Adds a doc to the end of the index\n      add(doc) {\n        const idx = this.size();\n        if (isString(doc)) {\n          this._addString(doc, idx);\n        } else {\n          this._addObject(doc, idx);\n        }\n      }\n      // Removes the doc at the specified index of the index\n      removeAt(idx) {\n        this.records.splice(idx, 1);\n\n        // Change ref index of every subsquent doc\n        for (let i = idx, len = this.size(); i < len; i += 1) {\n          this.records[i].i -= 1;\n        }\n      }\n      getValueForItemAtKeyId(item, keyId) {\n        return item[this._keysMap[keyId]];\n      }\n      size() {\n        return this.records.length;\n      }\n      _addString(doc, docIndex) {\n        if (!isDefined(doc) || isBlank(doc)) {\n          return;\n        }\n        let record = {\n          v: doc,\n          i: docIndex,\n          n: this.norm.get(doc)\n        };\n        this.records.push(record);\n      }\n      _addObject(doc, docIndex) {\n        let record = {\n          i: docIndex,\n          $: {}\n        };\n\n        // Iterate over every key (i.e, path), and fetch the value at that key\n        this.keys.forEach((key, keyIndex) => {\n          let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n          if (!isDefined(value)) {\n            return;\n          }\n          if (isArray(value)) {\n            let subRecords = [];\n            const stack = [{\n              nestedArrIndex: -1,\n              value\n            }];\n            while (stack.length) {\n              const {\n                nestedArrIndex,\n                value\n              } = stack.pop();\n              if (!isDefined(value)) {\n                continue;\n              }\n              if (isString(value) && !isBlank(value)) {\n                let subRecord = {\n                  v: value,\n                  i: nestedArrIndex,\n                  n: this.norm.get(value)\n                };\n                subRecords.push(subRecord);\n              } else if (isArray(value)) {\n                value.forEach((item, k) => {\n                  stack.push({\n                    nestedArrIndex: k,\n                    value: item\n                  });\n                });\n              } else ;\n            }\n            record.$[keyIndex] = subRecords;\n          } else if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              n: this.norm.get(value)\n            };\n            record.$[keyIndex] = subRecord;\n          }\n        });\n        this.records.push(record);\n      }\n      toJSON() {\n        return {\n          keys: this.keys,\n          records: this.records\n        };\n      }\n    }\n    function createIndex(keys, docs, {\n      getFn = Config.getFn,\n      fieldNormWeight = Config.fieldNormWeight\n    } = {}) {\n      const myIndex = new FuseIndex({\n        getFn,\n        fieldNormWeight\n      });\n      myIndex.setKeys(keys.map(createKey));\n      myIndex.setSources(docs);\n      myIndex.create();\n      return myIndex;\n    }\n    function parseIndex(data, {\n      getFn = Config.getFn,\n      fieldNormWeight = Config.fieldNormWeight\n    } = {}) {\n      const {\n        keys,\n        records\n      } = data;\n      const myIndex = new FuseIndex({\n        getFn,\n        fieldNormWeight\n      });\n      myIndex.setKeys(keys);\n      myIndex.setIndexRecords(records);\n      return myIndex;\n    }\n    function computeScore$1(pattern, {\n      errors = 0,\n      currentLocation = 0,\n      expectedLocation = 0,\n      distance = Config.distance,\n      ignoreLocation = Config.ignoreLocation\n    } = {}) {\n      const accuracy = errors / pattern.length;\n      if (ignoreLocation) {\n        return accuracy;\n      }\n      const proximity = Math.abs(expectedLocation - currentLocation);\n      if (!distance) {\n        // Dodge divide by zero error.\n        return proximity ? 1.0 : accuracy;\n      }\n      return accuracy + proximity / distance;\n    }\n    function convertMaskToIndices(matchmask = [], minMatchCharLength = Config.minMatchCharLength) {\n      let indices = [];\n      let start = -1;\n      let end = -1;\n      let i = 0;\n      for (let len = matchmask.length; i < len; i += 1) {\n        let match = matchmask[i];\n        if (match && start === -1) {\n          start = i;\n        } else if (!match && start !== -1) {\n          end = i - 1;\n          if (end - start + 1 >= minMatchCharLength) {\n            indices.push([start, end]);\n          }\n          start = -1;\n        }\n      }\n\n      // (i-1 - start) + 1 => i - start\n      if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n        indices.push([start, i - 1]);\n      }\n      return indices;\n    }\n\n    // Machine word size\n    const MAX_BITS = 32;\n    function search(text, pattern, patternAlphabet, {\n      location = Config.location,\n      distance = Config.distance,\n      threshold = Config.threshold,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      includeMatches = Config.includeMatches,\n      ignoreLocation = Config.ignoreLocation\n    } = {}) {\n      if (pattern.length > MAX_BITS) {\n        throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));\n      }\n      const patternLen = pattern.length;\n      // Set starting location at beginning text and initialize the alphabet.\n      const textLen = text.length;\n      // Handle the case when location > text.length\n      const expectedLocation = Math.max(0, Math.min(location, textLen));\n      // Highest score beyond which we give up.\n      let currentThreshold = threshold;\n      // Is there a nearby exact match? (speedup)\n      let bestLocation = expectedLocation;\n\n      // Performance: only computer matches when the minMatchCharLength > 1\n      // OR if `includeMatches` is true.\n      const computeMatches = minMatchCharLength > 1 || includeMatches;\n      // A mask of the matches, used for building the indices\n      const matchMask = computeMatches ? Array(textLen) : [];\n      let index;\n\n      // Get all exact matches, here for speed up\n      while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n        let score = computeScore$1(pattern, {\n          currentLocation: index,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n        currentThreshold = Math.min(score, currentThreshold);\n        bestLocation = index + patternLen;\n        if (computeMatches) {\n          let i = 0;\n          while (i < patternLen) {\n            matchMask[index + i] = 1;\n            i += 1;\n          }\n        }\n      }\n\n      // Reset the best location\n      bestLocation = -1;\n      let lastBitArr = [];\n      let finalScore = 1;\n      let binMax = patternLen + textLen;\n      const mask = 1 << patternLen - 1;\n      for (let i = 0; i < patternLen; i += 1) {\n        // Scan for the best match; each iteration allows for one more error.\n        // Run a binary search to determine how far from the match location we can stray\n        // at this error level.\n        let binMin = 0;\n        let binMid = binMax;\n        while (binMin < binMid) {\n          const score = computeScore$1(pattern, {\n            errors: i,\n            currentLocation: expectedLocation + binMid,\n            expectedLocation,\n            distance,\n            ignoreLocation\n          });\n          if (score <= currentThreshold) {\n            binMin = binMid;\n          } else {\n            binMax = binMid;\n          }\n          binMid = Math.floor((binMax - binMin) / 2 + binMin);\n        }\n\n        // Use the result from this iteration as the maximum for the next.\n        binMax = binMid;\n        let start = Math.max(1, expectedLocation - binMid + 1);\n        let finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n        // Initialize the bit array\n        let bitArr = Array(finish + 2);\n        bitArr[finish + 1] = (1 << i) - 1;\n        for (let j = finish; j >= start; j -= 1) {\n          let currentLocation = j - 1;\n          let charMatch = patternAlphabet[text.charAt(currentLocation)];\n          if (computeMatches) {\n            // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n            matchMask[currentLocation] = +!!charMatch;\n          }\n\n          // First pass: exact match\n          bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\n\n          // Subsequent passes: fuzzy match\n          if (i) {\n            bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n          }\n          if (bitArr[j] & mask) {\n            finalScore = computeScore$1(pattern, {\n              errors: i,\n              currentLocation,\n              expectedLocation,\n              distance,\n              ignoreLocation\n            });\n\n            // This match will almost certainly be better than any existing match.\n            // But check anyway.\n            if (finalScore <= currentThreshold) {\n              // Indeed it is\n              currentThreshold = finalScore;\n              bestLocation = currentLocation;\n\n              // Already passed `loc`, downhill from here on in.\n              if (bestLocation <= expectedLocation) {\n                break;\n              }\n\n              // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n              start = Math.max(1, 2 * expectedLocation - bestLocation);\n            }\n          }\n        }\n\n        // No hope for a (better) match at greater error levels.\n        const score = computeScore$1(pattern, {\n          errors: i + 1,\n          currentLocation: expectedLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n        if (score > currentThreshold) {\n          break;\n        }\n        lastBitArr = bitArr;\n      }\n      const result = {\n        isMatch: bestLocation >= 0,\n        // Count exact matches (those with a score of 0) to be \"almost\" exact\n        score: Math.max(0.001, finalScore)\n      };\n      if (computeMatches) {\n        const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n        if (!indices.length) {\n          result.isMatch = false;\n        } else if (includeMatches) {\n          result.indices = indices;\n        }\n      }\n      return result;\n    }\n    function createPatternAlphabet(pattern) {\n      let mask = {};\n      for (let i = 0, len = pattern.length; i < len; i += 1) {\n        const char = pattern.charAt(i);\n        mask[char] = (mask[char] || 0) | 1 << len - i - 1;\n      }\n      return mask;\n    }\n    const stripDiacritics = String.prototype.normalize ? str => str.normalize('NFD').replace(/[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C04\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00-\\u0D03\\u0D3B\\u0D3C\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF7-\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F]/g, '') : str => str;\n    class BitapSearch {\n      constructor(pattern, {\n        location = Config.location,\n        threshold = Config.threshold,\n        distance = Config.distance,\n        includeMatches = Config.includeMatches,\n        findAllMatches = Config.findAllMatches,\n        minMatchCharLength = Config.minMatchCharLength,\n        isCaseSensitive = Config.isCaseSensitive,\n        ignoreDiacritics = Config.ignoreDiacritics,\n        ignoreLocation = Config.ignoreLocation\n      } = {}) {\n        this.options = {\n          location,\n          threshold,\n          distance,\n          includeMatches,\n          findAllMatches,\n          minMatchCharLength,\n          isCaseSensitive,\n          ignoreDiacritics,\n          ignoreLocation\n        };\n        pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n        pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n        this.pattern = pattern;\n        this.chunks = [];\n        if (!this.pattern.length) {\n          return;\n        }\n        const addChunk = (pattern, startIndex) => {\n          this.chunks.push({\n            pattern,\n            alphabet: createPatternAlphabet(pattern),\n            startIndex\n          });\n        };\n        const len = this.pattern.length;\n        if (len > MAX_BITS) {\n          let i = 0;\n          const remainder = len % MAX_BITS;\n          const end = len - remainder;\n          while (i < end) {\n            addChunk(this.pattern.substr(i, MAX_BITS), i);\n            i += MAX_BITS;\n          }\n          if (remainder) {\n            const startIndex = len - MAX_BITS;\n            addChunk(this.pattern.substr(startIndex), startIndex);\n          }\n        } else {\n          addChunk(this.pattern, 0);\n        }\n      }\n      searchIn(text) {\n        const {\n          isCaseSensitive,\n          ignoreDiacritics,\n          includeMatches\n        } = this.options;\n        text = isCaseSensitive ? text : text.toLowerCase();\n        text = ignoreDiacritics ? stripDiacritics(text) : text;\n\n        // Exact match\n        if (this.pattern === text) {\n          let result = {\n            isMatch: true,\n            score: 0\n          };\n          if (includeMatches) {\n            result.indices = [[0, text.length - 1]];\n          }\n          return result;\n        }\n\n        // Otherwise, use Bitap algorithm\n        const {\n          location,\n          distance,\n          threshold,\n          findAllMatches,\n          minMatchCharLength,\n          ignoreLocation\n        } = this.options;\n        let allIndices = [];\n        let totalScore = 0;\n        let hasMatches = false;\n        this.chunks.forEach(({\n          pattern,\n          alphabet,\n          startIndex\n        }) => {\n          const {\n            isMatch,\n            score,\n            indices\n          } = search(text, pattern, alphabet, {\n            location: location + startIndex,\n            distance,\n            threshold,\n            findAllMatches,\n            minMatchCharLength,\n            includeMatches,\n            ignoreLocation\n          });\n          if (isMatch) {\n            hasMatches = true;\n          }\n          totalScore += score;\n          if (isMatch && indices) {\n            allIndices = [...allIndices, ...indices];\n          }\n        });\n        let result = {\n          isMatch: hasMatches,\n          score: hasMatches ? totalScore / this.chunks.length : 1\n        };\n        if (hasMatches && includeMatches) {\n          result.indices = allIndices;\n        }\n        return result;\n      }\n    }\n    class BaseMatch {\n      constructor(pattern) {\n        this.pattern = pattern;\n      }\n      static isMultiMatch(pattern) {\n        return getMatch(pattern, this.multiRegex);\n      }\n      static isSingleMatch(pattern) {\n        return getMatch(pattern, this.singleRegex);\n      }\n      search(/*text*/) {}\n    }\n    function getMatch(pattern, exp) {\n      const matches = pattern.match(exp);\n      return matches ? matches[1] : null;\n    }\n\n    // Token: 'file\n\n    class ExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'exact';\n      }\n      static get multiRegex() {\n        return /^=\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^=(.*)$/;\n      }\n      search(text) {\n        const isMatch = text === this.pattern;\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, this.pattern.length - 1]\n        };\n      }\n    }\n\n    // Token: !fire\n\n    class InverseExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'inverse-exact';\n      }\n      static get multiRegex() {\n        return /^!\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^!(.*)$/;\n      }\n      search(text) {\n        const index = text.indexOf(this.pattern);\n        const isMatch = index === -1;\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, text.length - 1]\n        };\n      }\n    }\n\n    // Token: ^file\n\n    class PrefixExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'prefix-exact';\n      }\n      static get multiRegex() {\n        return /^\\^\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^\\^(.*)$/;\n      }\n      search(text) {\n        const isMatch = text.startsWith(this.pattern);\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, this.pattern.length - 1]\n        };\n      }\n    }\n\n    // Token: !^fire\n\n    class InversePrefixExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'inverse-prefix-exact';\n      }\n      static get multiRegex() {\n        return /^!\\^\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^!\\^(.*)$/;\n      }\n      search(text) {\n        const isMatch = !text.startsWith(this.pattern);\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, text.length - 1]\n        };\n      }\n    }\n\n    // Token: .file$\n\n    class SuffixExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'suffix-exact';\n      }\n      static get multiRegex() {\n        return /^\"(.*)\"\\$$/;\n      }\n      static get singleRegex() {\n        return /^(.*)\\$$/;\n      }\n      search(text) {\n        const isMatch = text.endsWith(this.pattern);\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [text.length - this.pattern.length, text.length - 1]\n        };\n      }\n    }\n\n    // Token: !.file$\n\n    class InverseSuffixExactMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'inverse-suffix-exact';\n      }\n      static get multiRegex() {\n        return /^!\"(.*)\"\\$$/;\n      }\n      static get singleRegex() {\n        return /^!(.*)\\$$/;\n      }\n      search(text) {\n        const isMatch = !text.endsWith(this.pattern);\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices: [0, text.length - 1]\n        };\n      }\n    }\n    class FuzzyMatch extends BaseMatch {\n      constructor(pattern, {\n        location = Config.location,\n        threshold = Config.threshold,\n        distance = Config.distance,\n        includeMatches = Config.includeMatches,\n        findAllMatches = Config.findAllMatches,\n        minMatchCharLength = Config.minMatchCharLength,\n        isCaseSensitive = Config.isCaseSensitive,\n        ignoreDiacritics = Config.ignoreDiacritics,\n        ignoreLocation = Config.ignoreLocation\n      } = {}) {\n        super(pattern);\n        this._bitapSearch = new BitapSearch(pattern, {\n          location,\n          threshold,\n          distance,\n          includeMatches,\n          findAllMatches,\n          minMatchCharLength,\n          isCaseSensitive,\n          ignoreDiacritics,\n          ignoreLocation\n        });\n      }\n      static get type() {\n        return 'fuzzy';\n      }\n      static get multiRegex() {\n        return /^\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^(.*)$/;\n      }\n      search(text) {\n        return this._bitapSearch.searchIn(text);\n      }\n    }\n\n    // Token: 'file\n\n    class IncludeMatch extends BaseMatch {\n      constructor(pattern) {\n        super(pattern);\n      }\n      static get type() {\n        return 'include';\n      }\n      static get multiRegex() {\n        return /^'\"(.*)\"$/;\n      }\n      static get singleRegex() {\n        return /^'(.*)$/;\n      }\n      search(text) {\n        let location = 0;\n        let index;\n        const indices = [];\n        const patternLen = this.pattern.length;\n\n        // Get all exact matches\n        while ((index = text.indexOf(this.pattern, location)) > -1) {\n          location = index + patternLen;\n          indices.push([index, location - 1]);\n        }\n        const isMatch = !!indices.length;\n        return {\n          isMatch,\n          score: isMatch ? 0 : 1,\n          indices\n        };\n      }\n    }\n\n    // Order is important. DO NOT CHANGE.\n    const searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];\n    const searchersLen = searchers.length;\n\n    // Regex to split by spaces, but keep anything in quotes together\n    const SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\n    const OR_TOKEN = '|';\n\n    // Return a 2D array representation of the query, for simpler parsing.\n    // Example:\n    // \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\n    function parseQuery(pattern, options = {}) {\n      return pattern.split(OR_TOKEN).map(item => {\n        let query = item.trim().split(SPACE_RE).filter(item => item && !!item.trim());\n        let results = [];\n        for (let i = 0, len = query.length; i < len; i += 1) {\n          const queryItem = query[i];\n\n          // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n          let found = false;\n          let idx = -1;\n          while (!found && ++idx < searchersLen) {\n            const searcher = searchers[idx];\n            let token = searcher.isMultiMatch(queryItem);\n            if (token) {\n              results.push(new searcher(token, options));\n              found = true;\n            }\n          }\n          if (found) {\n            continue;\n          }\n\n          // 2. Handle single query matches (i.e, once that are *not* quoted)\n          idx = -1;\n          while (++idx < searchersLen) {\n            const searcher = searchers[idx];\n            let token = searcher.isSingleMatch(queryItem);\n            if (token) {\n              results.push(new searcher(token, options));\n              break;\n            }\n          }\n        }\n        return results;\n      });\n    }\n\n    // These extended matchers can return an array of matches, as opposed\n    // to a singl match\n    const MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n    /**\n     * Command-like searching\n     * ======================\n     *\n     * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n     * search in a given text.\n     *\n     * Search syntax:\n     *\n     * | Token       | Match type                 | Description                            |\n     * | ----------- | -------------------------- | -------------------------------------- |\n     * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n     * | `=scheme`   | exact-match                | Items that are `scheme`                |\n     * | `'python`   | include-match              | Items that include `python`            |\n     * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n     * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n     * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n     * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n     * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n     *\n     * A single pipe character acts as an OR operator. For example, the following\n     * query matches entries that start with `core` and end with either`go`, `rb`,\n     * or`py`.\n     *\n     * ```\n     * ^core go$ | rb$ | py$\n     * ```\n     */\n    class ExtendedSearch {\n      constructor(pattern, {\n        isCaseSensitive = Config.isCaseSensitive,\n        ignoreDiacritics = Config.ignoreDiacritics,\n        includeMatches = Config.includeMatches,\n        minMatchCharLength = Config.minMatchCharLength,\n        ignoreLocation = Config.ignoreLocation,\n        findAllMatches = Config.findAllMatches,\n        location = Config.location,\n        threshold = Config.threshold,\n        distance = Config.distance\n      } = {}) {\n        this.query = null;\n        this.options = {\n          isCaseSensitive,\n          ignoreDiacritics,\n          includeMatches,\n          minMatchCharLength,\n          findAllMatches,\n          ignoreLocation,\n          location,\n          threshold,\n          distance\n        };\n        pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n        pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n        this.pattern = pattern;\n        this.query = parseQuery(this.pattern, this.options);\n      }\n      static condition(_, options) {\n        return options.useExtendedSearch;\n      }\n      searchIn(text) {\n        const query = this.query;\n        if (!query) {\n          return {\n            isMatch: false,\n            score: 1\n          };\n        }\n        const {\n          includeMatches,\n          isCaseSensitive,\n          ignoreDiacritics\n        } = this.options;\n        text = isCaseSensitive ? text : text.toLowerCase();\n        text = ignoreDiacritics ? stripDiacritics(text) : text;\n        let numMatches = 0;\n        let allIndices = [];\n        let totalScore = 0;\n\n        // ORs\n        for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n          const searchers = query[i];\n\n          // Reset indices\n          allIndices.length = 0;\n          numMatches = 0;\n\n          // ANDs\n          for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n            const searcher = searchers[j];\n            const {\n              isMatch,\n              indices,\n              score\n            } = searcher.search(text);\n            if (isMatch) {\n              numMatches += 1;\n              totalScore += score;\n              if (includeMatches) {\n                const type = searcher.constructor.type;\n                if (MultiMatchSet.has(type)) {\n                  allIndices = [...allIndices, ...indices];\n                } else {\n                  allIndices.push(indices);\n                }\n              }\n            } else {\n              totalScore = 0;\n              numMatches = 0;\n              allIndices.length = 0;\n              break;\n            }\n          }\n\n          // OR condition, so if TRUE, return\n          if (numMatches) {\n            let result = {\n              isMatch: true,\n              score: totalScore / numMatches\n            };\n            if (includeMatches) {\n              result.indices = allIndices;\n            }\n            return result;\n          }\n        }\n\n        // Nothing was matched\n        return {\n          isMatch: false,\n          score: 1\n        };\n      }\n    }\n    const registeredSearchers = [];\n    function register(...args) {\n      registeredSearchers.push(...args);\n    }\n    function createSearcher(pattern, options) {\n      for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n        let searcherClass = registeredSearchers[i];\n        if (searcherClass.condition(pattern, options)) {\n          return new searcherClass(pattern, options);\n        }\n      }\n      return new BitapSearch(pattern, options);\n    }\n    const LogicalOperator = {\n      AND: '$and',\n      OR: '$or'\n    };\n    const KeyType = {\n      PATH: '$path',\n      PATTERN: '$val'\n    };\n    const isExpression = query => !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n    const isPath = query => !!query[KeyType.PATH];\n    const isLeaf = query => !isArray(query) && isObject(query) && !isExpression(query);\n    const convertToExplicit = query => ({\n      [LogicalOperator.AND]: Object.keys(query).map(key => ({\n        [key]: query[key]\n      }))\n    });\n\n    // When `auto` is `true`, the parse function will infer and initialize and add\n    // the appropriate `Searcher` instance\n    function parse(query, options, {\n      auto = true\n    } = {}) {\n      const next = query => {\n        let keys = Object.keys(query);\n        const isQueryPath = isPath(query);\n        if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n          return next(convertToExplicit(query));\n        }\n        if (isLeaf(query)) {\n          const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n          const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n          if (!isString(pattern)) {\n            throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));\n          }\n          const obj = {\n            keyId: createKeyId(key),\n            pattern\n          };\n          if (auto) {\n            obj.searcher = createSearcher(pattern, options);\n          }\n          return obj;\n        }\n        let node = {\n          children: [],\n          operator: keys[0]\n        };\n        keys.forEach(key => {\n          const value = query[key];\n          if (isArray(value)) {\n            value.forEach(item => {\n              node.children.push(next(item));\n            });\n          }\n        });\n        return node;\n      };\n      if (!isExpression(query)) {\n        query = convertToExplicit(query);\n      }\n      return next(query);\n    }\n\n    // Practical scoring function\n    function computeScore(results, {\n      ignoreFieldNorm = Config.ignoreFieldNorm\n    }) {\n      results.forEach(result => {\n        let totalScore = 1;\n        result.matches.forEach(({\n          key,\n          norm,\n          score\n        }) => {\n          const weight = key ? key.weight : null;\n          totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm));\n        });\n        result.score = totalScore;\n      });\n    }\n    function transformMatches(result, data) {\n      const matches = result.matches;\n      data.matches = [];\n      if (!isDefined(matches)) {\n        return;\n      }\n      matches.forEach(match => {\n        if (!isDefined(match.indices) || !match.indices.length) {\n          return;\n        }\n        const {\n          indices,\n          value\n        } = match;\n        let obj = {\n          indices,\n          value\n        };\n        if (match.key) {\n          obj.key = match.key.src;\n        }\n        if (match.idx > -1) {\n          obj.refIndex = match.idx;\n        }\n        data.matches.push(obj);\n      });\n    }\n    function transformScore(result, data) {\n      data.score = result.score;\n    }\n    function format(results, docs, {\n      includeMatches = Config.includeMatches,\n      includeScore = Config.includeScore\n    } = {}) {\n      const transformers = [];\n      if (includeMatches) transformers.push(transformMatches);\n      if (includeScore) transformers.push(transformScore);\n      return results.map(result => {\n        const {\n          idx\n        } = result;\n        const data = {\n          item: docs[idx],\n          refIndex: idx\n        };\n        if (transformers.length) {\n          transformers.forEach(transformer => {\n            transformer(result, data);\n          });\n        }\n        return data;\n      });\n    }\n    class Fuse {\n      constructor(docs, options = {}, index) {\n        this.options = _objectSpread2(_objectSpread2({}, Config), options);\n        if (this.options.useExtendedSearch && false) ;\n        this._keyStore = new KeyStore(this.options.keys);\n        this.setCollection(docs, index);\n      }\n      setCollection(docs, index) {\n        this._docs = docs;\n        if (index && !(index instanceof FuseIndex)) {\n          throw new Error(INCORRECT_INDEX_TYPE);\n        }\n        this._myIndex = index || createIndex(this.options.keys, this._docs, {\n          getFn: this.options.getFn,\n          fieldNormWeight: this.options.fieldNormWeight\n        });\n      }\n      add(doc) {\n        if (!isDefined(doc)) {\n          return;\n        }\n        this._docs.push(doc);\n        this._myIndex.add(doc);\n      }\n      remove(predicate = (/* doc, idx */) => false) {\n        const results = [];\n        for (let i = 0, len = this._docs.length; i < len; i += 1) {\n          const doc = this._docs[i];\n          if (predicate(doc, i)) {\n            this.removeAt(i);\n            i -= 1;\n            len -= 1;\n            results.push(doc);\n          }\n        }\n        return results;\n      }\n      removeAt(idx) {\n        this._docs.splice(idx, 1);\n        this._myIndex.removeAt(idx);\n      }\n      getIndex() {\n        return this._myIndex;\n      }\n      search(query, {\n        limit = -1\n      } = {}) {\n        const {\n          includeMatches,\n          includeScore,\n          shouldSort,\n          sortFn,\n          ignoreFieldNorm\n        } = this.options;\n        let results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);\n        computeScore(results, {\n          ignoreFieldNorm\n        });\n        if (shouldSort) {\n          results.sort(sortFn);\n        }\n        if (isNumber(limit) && limit > -1) {\n          results = results.slice(0, limit);\n        }\n        return format(results, this._docs, {\n          includeMatches,\n          includeScore\n        });\n      }\n      _searchStringList(query) {\n        const searcher = createSearcher(query, this.options);\n        const {\n          records\n        } = this._myIndex;\n        const results = [];\n\n        // Iterate over every string in the index\n        records.forEach(({\n          v: text,\n          i: idx,\n          n: norm\n        }) => {\n          if (!isDefined(text)) {\n            return;\n          }\n          const {\n            isMatch,\n            score,\n            indices\n          } = searcher.searchIn(text);\n          if (isMatch) {\n            results.push({\n              item: text,\n              idx,\n              matches: [{\n                score,\n                value: text,\n                norm,\n                indices\n              }]\n            });\n          }\n        });\n        return results;\n      }\n      _searchLogical(query) {\n        const expression = parse(query, this.options);\n        const evaluate = (node, item, idx) => {\n          if (!node.children) {\n            const {\n              keyId,\n              searcher\n            } = node;\n            const matches = this._findMatches({\n              key: this._keyStore.get(keyId),\n              value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n              searcher\n            });\n            if (matches && matches.length) {\n              return [{\n                idx,\n                item,\n                matches\n              }];\n            }\n            return [];\n          }\n          const res = [];\n          for (let i = 0, len = node.children.length; i < len; i += 1) {\n            const child = node.children[i];\n            const result = evaluate(child, item, idx);\n            if (result.length) {\n              res.push(...result);\n            } else if (node.operator === LogicalOperator.AND) {\n              return [];\n            }\n          }\n          return res;\n        };\n        const records = this._myIndex.records;\n        const resultMap = {};\n        const results = [];\n        records.forEach(({\n          $: item,\n          i: idx\n        }) => {\n          if (isDefined(item)) {\n            let expResults = evaluate(expression, item, idx);\n            if (expResults.length) {\n              // Dedupe when adding\n              if (!resultMap[idx]) {\n                resultMap[idx] = {\n                  idx,\n                  item,\n                  matches: []\n                };\n                results.push(resultMap[idx]);\n              }\n              expResults.forEach(({\n                matches\n              }) => {\n                resultMap[idx].matches.push(...matches);\n              });\n            }\n          }\n        });\n        return results;\n      }\n      _searchObjectList(query) {\n        const searcher = createSearcher(query, this.options);\n        const {\n          keys,\n          records\n        } = this._myIndex;\n        const results = [];\n\n        // List is Array<Object>\n        records.forEach(({\n          $: item,\n          i: idx\n        }) => {\n          if (!isDefined(item)) {\n            return;\n          }\n          let matches = [];\n\n          // Iterate over every key (i.e, path), and fetch the value at that key\n          keys.forEach((key, keyIndex) => {\n            matches.push(...this._findMatches({\n              key,\n              value: item[keyIndex],\n              searcher\n            }));\n          });\n          if (matches.length) {\n            results.push({\n              idx,\n              item,\n              matches\n            });\n          }\n        });\n        return results;\n      }\n      _findMatches({\n        key,\n        value,\n        searcher\n      }) {\n        if (!isDefined(value)) {\n          return [];\n        }\n        let matches = [];\n        if (isArray(value)) {\n          value.forEach(({\n            v: text,\n            i: idx,\n            n: norm\n          }) => {\n            if (!isDefined(text)) {\n              return;\n            }\n            const {\n              isMatch,\n              score,\n              indices\n            } = searcher.searchIn(text);\n            if (isMatch) {\n              matches.push({\n                score,\n                key,\n                value: text,\n                idx,\n                norm,\n                indices\n              });\n            }\n          });\n        } else {\n          const {\n            v: text,\n            n: norm\n          } = value;\n          const {\n            isMatch,\n            score,\n            indices\n          } = searcher.searchIn(text);\n          if (isMatch) {\n            matches.push({\n              score,\n              key,\n              value: text,\n              norm,\n              indices\n            });\n          }\n        }\n        return matches;\n      }\n    }\n    Fuse.version = '7.1.0';\n    Fuse.createIndex = createIndex;\n    Fuse.parseIndex = parseIndex;\n    Fuse.config = Config;\n    {\n      Fuse.parseQuery = parse;\n    }\n    {\n      register(ExtendedSearch);\n    }\n\n    var SearchByFuse = /** @class */ (function () {\n        function SearchByFuse(config) {\n            this._haystack = [];\n            this._fuseOptions = __assign(__assign({}, config.fuseOptions), { keys: __spreadArray([], config.searchFields, true), includeMatches: true });\n        }\n        SearchByFuse.prototype.index = function (data) {\n            this._haystack = data;\n            if (this._fuse) {\n                this._fuse.setCollection(data);\n            }\n        };\n        SearchByFuse.prototype.reset = function () {\n            this._haystack = [];\n            this._fuse = undefined;\n        };\n        SearchByFuse.prototype.isEmptyIndex = function () {\n            return !this._haystack.length;\n        };\n        SearchByFuse.prototype.search = function (needle) {\n            if (!this._fuse) {\n                {\n                    this._fuse = new Fuse(this._haystack, this._fuseOptions);\n                }\n            }\n            var results = this._fuse.search(needle);\n            return results.map(function (value, i) {\n                return {\n                    item: value.item,\n                    score: value.score || 0,\n                    rank: i + 1, // If value.score is used for sorting, this can create non-stable sorts!\n                };\n            });\n        };\n        return SearchByFuse;\n    }());\n\n    function getSearcher(config) {\n        {\n            return new SearchByFuse(config);\n        }\n    }\n\n    /**\n     * Helpers to create HTML elements used by Choices\n     * Can be overridden by providing `callbackOnCreateTemplates` option.\n     * `Choices.defaults.templates` allows access to the default template methods from `callbackOnCreateTemplates`\n     */\n    var isEmptyObject = function (obj) {\n        // eslint-disable-next-line no-restricted-syntax\n        for (var prop in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    var assignCustomProperties = function (el, choice, withCustomProperties) {\n        var dataset = el.dataset;\n        var customProperties = choice.customProperties, labelClass = choice.labelClass, labelDescription = choice.labelDescription;\n        if (labelClass) {\n            dataset.labelClass = getClassNames(labelClass).join(' ');\n        }\n        if (labelDescription) {\n            dataset.labelDescription = unwrapStringForRaw(labelDescription);\n        }\n        if (withCustomProperties && customProperties) {\n            if (typeof customProperties === 'string') {\n                dataset.customProperties = customProperties;\n            }\n            else if (typeof customProperties === 'object' && !isEmptyObject(customProperties)) {\n                dataset.customProperties = JSON.stringify(customProperties);\n            }\n        }\n    };\n    var addAriaLabel = function (docRoot, id, element) {\n        var label = id && docRoot.querySelector(\"label[for='\".concat(id, \"']\"));\n        var text = label && label.innerText;\n        if (text) {\n            element.setAttribute('aria-label', text);\n        }\n    };\n    var templates = {\n        containerOuter: function (_a, dir, isSelectElement, isSelectOneElement, searchEnabled, passedElementType, labelId) {\n            var containerOuter = _a.classNames.containerOuter;\n            var div = document.createElement('div');\n            addClassesToElement(div, containerOuter);\n            div.dataset.type = passedElementType;\n            if (dir) {\n                div.dir = dir;\n            }\n            if (isSelectOneElement) {\n                div.tabIndex = 0;\n            }\n            if (isSelectElement) {\n                div.setAttribute('role', searchEnabled ? 'combobox' : 'listbox');\n                if (searchEnabled) {\n                    div.setAttribute('aria-autocomplete', 'list');\n                }\n                else if (!labelId) {\n                    addAriaLabel(this._docRoot, this.passedElement.element.id, div);\n                }\n                div.setAttribute('aria-haspopup', 'true');\n                div.setAttribute('aria-expanded', 'false');\n            }\n            if (labelId) {\n                div.setAttribute('aria-labelledby', labelId);\n            }\n            return div;\n        },\n        containerInner: function (_a) {\n            var containerInner = _a.classNames.containerInner;\n            var div = document.createElement('div');\n            addClassesToElement(div, containerInner);\n            return div;\n        },\n        itemList: function (_a, isSelectOneElement) {\n            var searchEnabled = _a.searchEnabled, _b = _a.classNames, list = _b.list, listSingle = _b.listSingle, listItems = _b.listItems;\n            var div = document.createElement('div');\n            addClassesToElement(div, list);\n            addClassesToElement(div, isSelectOneElement ? listSingle : listItems);\n            if (this._isSelectElement && searchEnabled) {\n                div.setAttribute('role', 'listbox');\n            }\n            return div;\n        },\n        placeholder: function (_a, value) {\n            var allowHTML = _a.allowHTML, placeholder = _a.classNames.placeholder;\n            var div = document.createElement('div');\n            addClassesToElement(div, placeholder);\n            setElementHtml(div, allowHTML, value);\n            return div;\n        },\n        item: function (_a, choice, removeItemButton) {\n            var allowHTML = _a.allowHTML, removeItemButtonAlignLeft = _a.removeItemButtonAlignLeft, removeItemIconText = _a.removeItemIconText, removeItemLabelText = _a.removeItemLabelText, _b = _a.classNames, item = _b.item, button = _b.button, highlightedState = _b.highlightedState, itemSelectable = _b.itemSelectable, placeholder = _b.placeholder;\n            var rawValue = unwrapStringForRaw(choice.value);\n            var div = document.createElement('div');\n            addClassesToElement(div, item);\n            if (choice.labelClass) {\n                var spanLabel = document.createElement('span');\n                setElementHtml(spanLabel, allowHTML, choice.label);\n                addClassesToElement(spanLabel, choice.labelClass);\n                div.appendChild(spanLabel);\n            }\n            else {\n                setElementHtml(div, allowHTML, choice.label);\n            }\n            div.dataset.item = '';\n            div.dataset.id = choice.id;\n            div.dataset.value = rawValue;\n            assignCustomProperties(div, choice, true);\n            if (choice.disabled || this.containerOuter.isDisabled) {\n                div.setAttribute('aria-disabled', 'true');\n            }\n            if (this._isSelectElement) {\n                div.setAttribute('aria-selected', 'true');\n                div.setAttribute('role', 'option');\n            }\n            if (choice.placeholder) {\n                addClassesToElement(div, placeholder);\n                div.dataset.placeholder = '';\n            }\n            addClassesToElement(div, choice.highlighted ? highlightedState : itemSelectable);\n            if (removeItemButton) {\n                if (choice.disabled) {\n                    removeClassesFromElement(div, itemSelectable);\n                }\n                div.dataset.deletable = '';\n                var removeButton = document.createElement('button');\n                removeButton.type = 'button';\n                addClassesToElement(removeButton, button);\n                var eventChoice = getChoiceForOutput(choice);\n                setElementHtml(removeButton, true, resolveNoticeFunction(removeItemIconText, choice.value, eventChoice));\n                var REMOVE_ITEM_LABEL = resolveNoticeFunction(removeItemLabelText, choice.value, eventChoice);\n                if (REMOVE_ITEM_LABEL) {\n                    removeButton.setAttribute('aria-label', REMOVE_ITEM_LABEL);\n                }\n                removeButton.dataset.button = '';\n                if (removeItemButtonAlignLeft) {\n                    div.insertAdjacentElement('afterbegin', removeButton);\n                }\n                else {\n                    div.appendChild(removeButton);\n                }\n            }\n            return div;\n        },\n        choiceList: function (_a, isSelectOneElement) {\n            var list = _a.classNames.list;\n            var div = document.createElement('div');\n            addClassesToElement(div, list);\n            if (!isSelectOneElement) {\n                div.setAttribute('aria-multiselectable', 'true');\n            }\n            div.setAttribute('role', 'listbox');\n            return div;\n        },\n        choiceGroup: function (_a, _b) {\n            var allowHTML = _a.allowHTML, _c = _a.classNames, group = _c.group, groupHeading = _c.groupHeading, itemDisabled = _c.itemDisabled;\n            var id = _b.id, label = _b.label, disabled = _b.disabled;\n            var rawLabel = unwrapStringForRaw(label);\n            var div = document.createElement('div');\n            addClassesToElement(div, group);\n            if (disabled) {\n                addClassesToElement(div, itemDisabled);\n            }\n            div.setAttribute('role', 'group');\n            div.dataset.group = '';\n            div.dataset.id = id;\n            div.dataset.value = rawLabel;\n            if (disabled) {\n                div.setAttribute('aria-disabled', 'true');\n            }\n            var heading = document.createElement('div');\n            addClassesToElement(heading, groupHeading);\n            setElementHtml(heading, allowHTML, label || '');\n            div.appendChild(heading);\n            return div;\n        },\n        choice: function (_a, choice, selectText, groupName) {\n            var allowHTML = _a.allowHTML, _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, itemSelectable = _b.itemSelectable, selectedState = _b.selectedState, itemDisabled = _b.itemDisabled, description = _b.description, placeholder = _b.placeholder;\n            // eslint-disable-next-line prefer-destructuring\n            var label = choice.label;\n            var rawValue = unwrapStringForRaw(choice.value);\n            var div = document.createElement('div');\n            div.id = choice.elementId;\n            addClassesToElement(div, item);\n            addClassesToElement(div, itemChoice);\n            if (groupName && typeof label === 'string') {\n                label = escapeForTemplate(allowHTML, label);\n                label += \" (\".concat(groupName, \")\");\n                label = { trusted: label };\n            }\n            var describedBy = div;\n            if (choice.labelClass) {\n                var spanLabel = document.createElement('span');\n                setElementHtml(spanLabel, allowHTML, label);\n                addClassesToElement(spanLabel, choice.labelClass);\n                describedBy = spanLabel;\n                div.appendChild(spanLabel);\n            }\n            else {\n                setElementHtml(div, allowHTML, label);\n            }\n            if (choice.labelDescription) {\n                var descId = \"\".concat(choice.elementId, \"-description\");\n                describedBy.setAttribute('aria-describedby', descId);\n                var spanDesc = document.createElement('span');\n                setElementHtml(spanDesc, allowHTML, choice.labelDescription);\n                spanDesc.id = descId;\n                addClassesToElement(spanDesc, description);\n                div.appendChild(spanDesc);\n            }\n            if (choice.selected) {\n                addClassesToElement(div, selectedState);\n            }\n            if (choice.placeholder) {\n                addClassesToElement(div, placeholder);\n            }\n            div.setAttribute('role', choice.group ? 'treeitem' : 'option');\n            div.dataset.choice = '';\n            div.dataset.id = choice.id;\n            div.dataset.value = rawValue;\n            if (selectText) {\n                div.dataset.selectText = selectText;\n            }\n            if (choice.group) {\n                div.dataset.groupId = \"\".concat(choice.group.id);\n            }\n            assignCustomProperties(div, choice, false);\n            if (choice.disabled) {\n                addClassesToElement(div, itemDisabled);\n                div.dataset.choiceDisabled = '';\n                div.setAttribute('aria-disabled', 'true');\n            }\n            else {\n                addClassesToElement(div, itemSelectable);\n                div.dataset.choiceSelectable = '';\n                div.setAttribute('aria-selected', choice.selected ? 'true' : 'false');\n            }\n            return div;\n        },\n        input: function (_a, placeholderValue) {\n            var _b = _a.classNames, input = _b.input, inputCloned = _b.inputCloned, labelId = _a.labelId;\n            var inp = document.createElement('input');\n            inp.type = 'search';\n            addClassesToElement(inp, input);\n            addClassesToElement(inp, inputCloned);\n            inp.autocomplete = 'off';\n            inp.autocapitalize = 'off';\n            inp.spellcheck = false;\n            inp.name = 'search';\n            inp.setAttribute('aria-autocomplete', 'list');\n            if (placeholderValue) {\n                inp.setAttribute('aria-label', placeholderValue);\n            }\n            else if (!labelId) {\n                addAriaLabel(this._docRoot, this.passedElement.element.id, inp);\n            }\n            return inp;\n        },\n        dropdown: function (_a) {\n            var _b = _a.classNames, list = _b.list, listDropdown = _b.listDropdown;\n            var div = document.createElement('div');\n            addClassesToElement(div, list);\n            addClassesToElement(div, listDropdown);\n            div.setAttribute('aria-expanded', 'false');\n            return div;\n        },\n        notice: function (_a, innerHTML, type) {\n            var _b = _a.classNames, item = _b.item, itemChoice = _b.itemChoice, addChoice = _b.addChoice, noResults = _b.noResults, noChoices = _b.noChoices, noticeItem = _b.notice;\n            if (type === void 0) { type = NoticeTypes.generic; }\n            var notice = document.createElement('div');\n            setElementHtml(notice, true, innerHTML);\n            addClassesToElement(notice, item);\n            addClassesToElement(notice, itemChoice);\n            addClassesToElement(notice, noticeItem);\n            // eslint-disable-next-line default-case\n            switch (type) {\n                case NoticeTypes.addChoice:\n                    addClassesToElement(notice, addChoice);\n                    break;\n                case NoticeTypes.noResults:\n                    addClassesToElement(notice, noResults);\n                    break;\n                case NoticeTypes.noChoices:\n                    addClassesToElement(notice, noChoices);\n                    break;\n            }\n            if (type === NoticeTypes.addChoice) {\n                notice.dataset.choiceSelectable = '';\n                notice.dataset.choice = '';\n            }\n            return notice;\n        },\n        option: function (choice) {\n            // HtmlOptionElement's label value does not support HTML, so the avoid double escaping unwrap the untrusted string.\n            var labelValue = unwrapStringForRaw(choice.label);\n            var opt = new Option(labelValue, choice.value, false, choice.selected);\n            assignCustomProperties(opt, choice, true);\n            opt.disabled = choice.disabled;\n            if (choice.selected) {\n                opt.setAttribute('selected', '');\n            }\n            return opt;\n        },\n    };\n\n    /** @see {@link http://browserhacks.com/#hack-acea075d0ac6954f275a70023906050c} */\n    var IS_IE11 = '-ms-scroll-limit' in document.documentElement.style &&\n        '-ms-ime-align' in document.documentElement.style;\n    var USER_DEFAULTS = {};\n    var parseDataSetId = function (element) {\n        if (!element) {\n            return undefined;\n        }\n        return element.dataset.id ? parseInt(element.dataset.id, 10) : undefined;\n    };\n    var selectableChoiceIdentifier = '[data-choice-selectable]';\n    /**\n     * Choices\n     * @author Josh Johnson<josh@joshuajohnson.co.uk>\n     */\n    var Choices = /** @class */ (function () {\n        function Choices(element, userConfig) {\n            if (element === void 0) { element = '[data-choice]'; }\n            if (userConfig === void 0) { userConfig = {}; }\n            var _this = this;\n            this.initialisedOK = undefined;\n            this._hasNonChoicePlaceholder = false;\n            this._lastAddedChoiceId = 0;\n            this._lastAddedGroupId = 0;\n            var defaults = Choices.defaults;\n            this.config = __assign(__assign(__assign({}, defaults.allOptions), defaults.options), userConfig);\n            ObjectsInConfig.forEach(function (key) {\n                _this.config[key] = __assign(__assign(__assign({}, defaults.allOptions[key]), defaults.options[key]), userConfig[key]);\n            });\n            var config = this.config;\n            if (!config.silent) {\n                this._validateConfig();\n            }\n            var docRoot = config.shadowRoot || document.documentElement;\n            this._docRoot = docRoot;\n            var passedElement = typeof element === 'string' ? docRoot.querySelector(element) : element;\n            if (!passedElement ||\n                typeof passedElement !== 'object' ||\n                !(isHtmlInputElement(passedElement) || isHtmlSelectElement(passedElement))) {\n                if (!passedElement && typeof element === 'string') {\n                    throw TypeError(\"Selector \".concat(element, \" failed to find an element\"));\n                }\n                throw TypeError(\"Expected one of the following types text|select-one|select-multiple\");\n            }\n            var elementType = passedElement.type;\n            var isText = elementType === PassedElementTypes.Text;\n            if (isText || config.maxItemCount !== 1) {\n                config.singleModeForMultiSelect = false;\n            }\n            if (config.singleModeForMultiSelect) {\n                elementType = PassedElementTypes.SelectMultiple;\n            }\n            var isSelectOne = elementType === PassedElementTypes.SelectOne;\n            var isSelectMultiple = elementType === PassedElementTypes.SelectMultiple;\n            var isSelect = isSelectOne || isSelectMultiple;\n            this._elementType = elementType;\n            this._isTextElement = isText;\n            this._isSelectOneElement = isSelectOne;\n            this._isSelectMultipleElement = isSelectMultiple;\n            this._isSelectElement = isSelectOne || isSelectMultiple;\n            this._canAddUserChoices = (isText && config.addItems) || (isSelect && config.addChoices);\n            if (typeof config.renderSelectedChoices !== 'boolean') {\n                config.renderSelectedChoices = config.renderSelectedChoices === 'always' || isSelectOne;\n            }\n            if (config.closeDropdownOnSelect === 'auto') {\n                config.closeDropdownOnSelect = isText || isSelectOne || config.singleModeForMultiSelect;\n            }\n            else {\n                config.closeDropdownOnSelect = coerceBool(config.closeDropdownOnSelect);\n            }\n            if (config.placeholder) {\n                if (config.placeholderValue) {\n                    this._hasNonChoicePlaceholder = true;\n                }\n                else if (passedElement.dataset.placeholder) {\n                    this._hasNonChoicePlaceholder = true;\n                    config.placeholderValue = passedElement.dataset.placeholder;\n                }\n            }\n            if (userConfig.addItemFilter && typeof userConfig.addItemFilter !== 'function') {\n                var re = userConfig.addItemFilter instanceof RegExp ? userConfig.addItemFilter : new RegExp(userConfig.addItemFilter);\n                config.addItemFilter = re.test.bind(re);\n            }\n            if (this._isTextElement) {\n                this.passedElement = new WrappedInput({\n                    element: passedElement,\n                    classNames: config.classNames,\n                });\n            }\n            else {\n                var selectEl = passedElement;\n                this.passedElement = new WrappedSelect({\n                    element: selectEl,\n                    classNames: config.classNames,\n                    template: function (data) { return _this._templates.option(data); },\n                    extractPlaceholder: config.placeholder && !this._hasNonChoicePlaceholder,\n                });\n            }\n            this.initialised = false;\n            this._store = new Store(config);\n            this._currentValue = '';\n            config.searchEnabled = !isText && config.searchEnabled;\n            this._canSearch = config.searchEnabled;\n            this._isScrollingOnIe = false;\n            this._highlightPosition = 0;\n            this._wasTap = true;\n            this._placeholderValue = this._generatePlaceholderValue();\n            this._baseId = generateId(passedElement, 'choices-');\n            /**\n             * setting direction in cases where it's explicitly set on passedElement\n             * or when calculated direction is different from the document\n             */\n            this._direction = passedElement.dir;\n            if (!this._direction) {\n                var elementDirection = window.getComputedStyle(passedElement).direction;\n                var documentDirection = window.getComputedStyle(document.documentElement).direction;\n                if (elementDirection !== documentDirection) {\n                    this._direction = elementDirection;\n                }\n            }\n            this._idNames = {\n                itemChoice: 'item-choice',\n            };\n            this._templates = defaults.templates;\n            this._render = this._render.bind(this);\n            this._onFocus = this._onFocus.bind(this);\n            this._onBlur = this._onBlur.bind(this);\n            this._onKeyUp = this._onKeyUp.bind(this);\n            this._onKeyDown = this._onKeyDown.bind(this);\n            this._onInput = this._onInput.bind(this);\n            this._onClick = this._onClick.bind(this);\n            this._onTouchMove = this._onTouchMove.bind(this);\n            this._onTouchEnd = this._onTouchEnd.bind(this);\n            this._onMouseDown = this._onMouseDown.bind(this);\n            this._onMouseOver = this._onMouseOver.bind(this);\n            this._onFormReset = this._onFormReset.bind(this);\n            this._onSelectKey = this._onSelectKey.bind(this);\n            this._onEnterKey = this._onEnterKey.bind(this);\n            this._onEscapeKey = this._onEscapeKey.bind(this);\n            this._onDirectionKey = this._onDirectionKey.bind(this);\n            this._onDeleteKey = this._onDeleteKey.bind(this);\n            this._onChange = this._onChange.bind(this);\n            this._onInvalid = this._onInvalid.bind(this);\n            // If element has already been initialised with Choices, fail silently\n            if (this.passedElement.isActive) {\n                if (!config.silent) {\n                    console.warn('Trying to initialise Choices on element already initialised', { element: element });\n                }\n                this.initialised = true;\n                this.initialisedOK = false;\n                return;\n            }\n            // Let's go\n            this.init();\n            // preserve the selected item list after setup for form reset\n            this._initialItems = this._store.items.map(function (choice) { return choice.value; });\n        }\n        Object.defineProperty(Choices, \"defaults\", {\n            get: function () {\n                return Object.preventExtensions({\n                    get options() {\n                        return USER_DEFAULTS;\n                    },\n                    get allOptions() {\n                        return DEFAULT_CONFIG;\n                    },\n                    get templates() {\n                        return templates;\n                    },\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Choices.prototype.init = function () {\n            if (this.initialised || this.initialisedOK !== undefined) {\n                return;\n            }\n            this._searcher = getSearcher(this.config);\n            this._loadChoices();\n            this._createTemplates();\n            this._createElements();\n            this._createStructure();\n            if ((this._isTextElement && !this.config.addItems) ||\n                this.passedElement.element.hasAttribute('disabled') ||\n                !!this.passedElement.element.closest('fieldset:disabled')) {\n                this.disable();\n            }\n            else {\n                this.enable();\n                this._addEventListeners();\n            }\n            // should be triggered **after** disabled state to avoid additional re-draws\n            this._initStore();\n            this.initialised = true;\n            this.initialisedOK = true;\n            var callbackOnInit = this.config.callbackOnInit;\n            // Run callback if it is a function\n            if (typeof callbackOnInit === 'function') {\n                callbackOnInit.call(this);\n            }\n        };\n        Choices.prototype.destroy = function () {\n            if (!this.initialised) {\n                return;\n            }\n            this._removeEventListeners();\n            this.passedElement.reveal();\n            this.containerOuter.unwrap(this.passedElement.element);\n            this._store._listeners = []; // prevents select/input value being wiped\n            this.clearStore(false);\n            this._stopSearch();\n            this._templates = Choices.defaults.templates;\n            this.initialised = false;\n            this.initialisedOK = undefined;\n        };\n        Choices.prototype.enable = function () {\n            if (this.passedElement.isDisabled) {\n                this.passedElement.enable();\n            }\n            if (this.containerOuter.isDisabled) {\n                this._addEventListeners();\n                this.input.enable();\n                this.input.element.focus();\n                this.containerOuter.enable();\n            }\n            return this;\n        };\n        Choices.prototype.disable = function () {\n            if (!this.passedElement.isDisabled) {\n                this.passedElement.disable();\n            }\n            if (!this.containerOuter.isDisabled) {\n                this._removeEventListeners();\n                this.input.disable();\n                this.containerOuter.disable();\n            }\n            return this;\n        };\n        Choices.prototype.highlightItem = function (item, runEvent) {\n            if (runEvent === void 0) { runEvent = true; }\n            if (!item || !item.id) {\n                return this;\n            }\n            var choice = this._store.items.find(function (c) { return c.id === item.id; });\n            if (!choice || choice.highlighted) {\n                return this;\n            }\n            this._store.dispatch(highlightItem(choice, true));\n            if (runEvent) {\n                this.passedElement.triggerEvent(EventType.highlightItem, getChoiceForOutput(choice));\n            }\n            return this;\n        };\n        Choices.prototype.unhighlightItem = function (item, runEvent) {\n            if (runEvent === void 0) { runEvent = true; }\n            if (!item || !item.id) {\n                return this;\n            }\n            var choice = this._store.items.find(function (c) { return c.id === item.id; });\n            if (!choice || !choice.highlighted) {\n                return this;\n            }\n            this._store.dispatch(highlightItem(choice, false));\n            if (runEvent) {\n                this.passedElement.triggerEvent(EventType.unhighlightItem, getChoiceForOutput(choice));\n            }\n            return this;\n        };\n        Choices.prototype.highlightAll = function () {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this._store.items.forEach(function (item) {\n                    if (!item.highlighted) {\n                        _this._store.dispatch(highlightItem(item, true));\n                        _this.passedElement.triggerEvent(EventType.highlightItem, getChoiceForOutput(item));\n                    }\n                });\n            });\n            return this;\n        };\n        Choices.prototype.unhighlightAll = function () {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this._store.items.forEach(function (item) {\n                    if (item.highlighted) {\n                        _this._store.dispatch(highlightItem(item, false));\n                        _this.passedElement.triggerEvent(EventType.highlightItem, getChoiceForOutput(item));\n                    }\n                });\n            });\n            return this;\n        };\n        Choices.prototype.removeActiveItemsByValue = function (value) {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this._store.items.filter(function (item) { return item.value === value; }).forEach(function (item) { return _this._removeItem(item); });\n            });\n            return this;\n        };\n        Choices.prototype.removeActiveItems = function (excludedId) {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this._store.items.filter(function (_a) {\n                    var id = _a.id;\n                    return id !== excludedId;\n                }).forEach(function (item) { return _this._removeItem(item); });\n            });\n            return this;\n        };\n        Choices.prototype.removeHighlightedItems = function (runEvent) {\n            var _this = this;\n            if (runEvent === void 0) { runEvent = false; }\n            this._store.withTxn(function () {\n                _this._store.highlightedActiveItems.forEach(function (item) {\n                    _this._removeItem(item);\n                    // If this action was performed by the user\n                    // trigger the event\n                    if (runEvent) {\n                        _this._triggerChange(item.value);\n                    }\n                });\n            });\n            return this;\n        };\n        Choices.prototype.showDropdown = function (preventInputFocus) {\n            var _this = this;\n            if (this.dropdown.isActive) {\n                return this;\n            }\n            if (preventInputFocus === undefined) {\n                // eslint-disable-next-line no-param-reassign\n                preventInputFocus = !this._canSearch;\n            }\n            requestAnimationFrame(function () {\n                _this.dropdown.show();\n                var rect = _this.dropdown.element.getBoundingClientRect();\n                _this.containerOuter.open(rect.bottom, rect.height);\n                if (!preventInputFocus) {\n                    _this.input.focus();\n                }\n                _this.passedElement.triggerEvent(EventType.showDropdown);\n                var activeElement = _this.choiceList.element.querySelector(getClassNamesSelector(_this.config.classNames.selectedState));\n                if (activeElement !== null && !isScrolledIntoView(activeElement, _this.choiceList.element)) {\n                    // We use the native scrollIntoView function instead of choiceList.scrollToChildElement to avoid animated scroll.\n                    activeElement.scrollIntoView();\n                }\n            });\n            return this;\n        };\n        Choices.prototype.hideDropdown = function (preventInputBlur) {\n            var _this = this;\n            if (!this.dropdown.isActive) {\n                return this;\n            }\n            this._removeHighlightedChoices();\n            requestAnimationFrame(function () {\n                _this.dropdown.hide();\n                _this.containerOuter.close();\n                if (!preventInputBlur && _this._canSearch) {\n                    _this.input.removeActiveDescendant();\n                    _this.input.blur();\n                }\n                _this.passedElement.triggerEvent(EventType.hideDropdown);\n            });\n            return this;\n        };\n        Choices.prototype.getValue = function (valueOnly) {\n            var values = this._store.items.map(function (item) {\n                return (valueOnly ? item.value : getChoiceForOutput(item));\n            });\n            return this._isSelectOneElement || this.config.singleModeForMultiSelect ? values[0] : values;\n        };\n        Choices.prototype.setValue = function (items) {\n            var _this = this;\n            if (!this.initialisedOK) {\n                this._warnChoicesInitFailed('setValue');\n                return this;\n            }\n            this._store.withTxn(function () {\n                items.forEach(function (value) {\n                    if (value) {\n                        _this._addChoice(mapInputToChoice(value, false));\n                    }\n                });\n            });\n            // @todo integrate with Store\n            this._searcher.reset();\n            return this;\n        };\n        Choices.prototype.setChoiceByValue = function (value) {\n            var _this = this;\n            if (!this.initialisedOK) {\n                this._warnChoicesInitFailed('setChoiceByValue');\n                return this;\n            }\n            if (this._isTextElement) {\n                return this;\n            }\n            this._store.withTxn(function () {\n                // If only one value has been passed, convert to array\n                var choiceValue = Array.isArray(value) ? value : [value];\n                // Loop through each value and\n                choiceValue.forEach(function (val) { return _this._findAndSelectChoiceByValue(val); });\n                _this.unhighlightAll();\n            });\n            // @todo integrate with Store\n            this._searcher.reset();\n            return this;\n        };\n        /**\n         * Set choices of select input via an array of objects (or function that returns array of object or promise of it),\n         * a value field name and a label field name.\n         * This behaves the same as passing items via the choices option but can be called after initialising Choices.\n         * This can also be used to add groups of choices (see example 2); Optionally pass a true `replaceChoices` value to remove any existing choices.\n         * Optionally pass a `customProperties` object to add additional data to your choices (useful when searching/filtering etc).\n         *\n         * **Input types affected:** select-one, select-multiple\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices([\n         *   {value: 'One', label: 'Label One', disabled: true},\n         *   {value: 'Two', label: 'Label Two', selected: true},\n         *   {value: 'Three', label: 'Label Three'},\n         * ], 'value', 'label', false);\n         * ```\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices(async () => {\n         *   try {\n         *      const items = await fetch('/items');\n         *      return items.json()\n         *   } catch(err) {\n         *      console.error(err)\n         *   }\n         * });\n         * ```\n         *\n         * @example\n         * ```js\n         * const example = new Choices(element);\n         *\n         * example.setChoices([{\n         *   label: 'Group one',\n         *   id: 1,\n         *   disabled: false,\n         *   choices: [\n         *     {value: 'Child One', label: 'Child One', selected: true},\n         *     {value: 'Child Two', label: 'Child Two',  disabled: true},\n         *     {value: 'Child Three', label: 'Child Three'},\n         *   ]\n         * },\n         * {\n         *   label: 'Group two',\n         *   id: 2,\n         *   disabled: false,\n         *   choices: [\n         *     {value: 'Child Four', label: 'Child Four', disabled: true},\n         *     {value: 'Child Five', label: 'Child Five'},\n         *     {value: 'Child Six', label: 'Child Six', customProperties: {\n         *       description: 'Custom description about child six',\n         *       random: 'Another random custom property'\n         *     }},\n         *   ]\n         * }], 'value', 'label', false);\n         * ```\n         */\n        Choices.prototype.setChoices = function (choicesArrayOrFetcher, value, label, replaceChoices, clearSearchFlag, replaceItems) {\n            var _this = this;\n            if (choicesArrayOrFetcher === void 0) { choicesArrayOrFetcher = []; }\n            if (value === void 0) { value = 'value'; }\n            if (label === void 0) { label = 'label'; }\n            if (replaceChoices === void 0) { replaceChoices = false; }\n            if (clearSearchFlag === void 0) { clearSearchFlag = true; }\n            if (replaceItems === void 0) { replaceItems = false; }\n            if (!this.initialisedOK) {\n                this._warnChoicesInitFailed('setChoices');\n                return this;\n            }\n            if (!this._isSelectElement) {\n                throw new TypeError(\"setChoices can't be used with INPUT based Choices\");\n            }\n            if (typeof value !== 'string' || !value) {\n                throw new TypeError(\"value parameter must be a name of 'value' field in passed objects\");\n            }\n            if (typeof choicesArrayOrFetcher === 'function') {\n                // it's a choices fetcher function\n                var fetcher_1 = choicesArrayOrFetcher(this);\n                if (typeof Promise === 'function' && fetcher_1 instanceof Promise) {\n                    // that's a promise\n                    // eslint-disable-next-line no-promise-executor-return\n                    return new Promise(function (resolve) { return requestAnimationFrame(resolve); })\n                        .then(function () { return _this._handleLoadingState(true); })\n                        .then(function () { return fetcher_1; })\n                        .then(function (data) {\n                        return _this.setChoices(data, value, label, replaceChoices, clearSearchFlag, replaceItems);\n                    })\n                        .catch(function (err) {\n                        if (!_this.config.silent) {\n                            console.error(err);\n                        }\n                    })\n                        .then(function () { return _this._handleLoadingState(false); })\n                        .then(function () { return _this; });\n                }\n                // function returned something else than promise, let's check if it's an array of choices\n                if (!Array.isArray(fetcher_1)) {\n                    throw new TypeError(\".setChoices first argument function must return either array of choices or Promise, got: \".concat(typeof fetcher_1));\n                }\n                // recursion with results, it's sync and choices were cleared already\n                return this.setChoices(fetcher_1, value, label, false);\n            }\n            if (!Array.isArray(choicesArrayOrFetcher)) {\n                throw new TypeError(\".setChoices must be called either with array of choices with a function resulting into Promise of array of choices\");\n            }\n            this.containerOuter.removeLoadingState();\n            this._store.withTxn(function () {\n                if (clearSearchFlag) {\n                    _this._isSearching = false;\n                }\n                // Clear choices if needed\n                if (replaceChoices) {\n                    _this.clearChoices(true, replaceItems);\n                }\n                var isDefaultValue = value === 'value';\n                var isDefaultLabel = label === 'label';\n                choicesArrayOrFetcher.forEach(function (groupOrChoice) {\n                    if ('choices' in groupOrChoice) {\n                        var group = groupOrChoice;\n                        if (!isDefaultLabel) {\n                            group = __assign(__assign({}, group), { label: group[label], value: group[value] });\n                        }\n                        _this._addGroup(mapInputToChoice(group, true));\n                    }\n                    else {\n                        var choice = groupOrChoice;\n                        if (!isDefaultLabel || !isDefaultValue) {\n                            choice = __assign(__assign({}, choice), { value: choice[value], label: choice[label] });\n                        }\n                        var choiceFull = mapInputToChoice(choice, false);\n                        _this._addChoice(choiceFull);\n                        if (choiceFull.placeholder && !_this._hasNonChoicePlaceholder) {\n                            _this._placeholderValue = unwrapStringForEscaped(choiceFull.label);\n                        }\n                    }\n                });\n                _this.unhighlightAll();\n            });\n            // @todo integrate with Store\n            this._searcher.reset();\n            return this;\n        };\n        Choices.prototype.refresh = function (withEvents, selectFirstOption, deselectAll) {\n            var _this = this;\n            if (withEvents === void 0) { withEvents = false; }\n            if (selectFirstOption === void 0) { selectFirstOption = false; }\n            if (deselectAll === void 0) { deselectAll = false; }\n            if (!this._isSelectElement) {\n                if (!this.config.silent) {\n                    console.warn('refresh method can only be used on choices backed by a <select> element');\n                }\n                return this;\n            }\n            this._store.withTxn(function () {\n                var choicesFromOptions = _this.passedElement.optionsAsChoices();\n                // Build the list of items which require preserving\n                var existingItems = {};\n                if (!deselectAll) {\n                    _this._store.items.forEach(function (choice) {\n                        if (choice.id && choice.active && choice.selected) {\n                            existingItems[choice.value] = true;\n                        }\n                    });\n                }\n                _this.clearStore(false);\n                var updateChoice = function (choice) {\n                    if (deselectAll) {\n                        _this._store.dispatch(removeItem$1(choice));\n                    }\n                    else if (existingItems[choice.value]) {\n                        choice.selected = true;\n                    }\n                };\n                choicesFromOptions.forEach(function (groupOrChoice) {\n                    if ('choices' in groupOrChoice) {\n                        groupOrChoice.choices.forEach(updateChoice);\n                        return;\n                    }\n                    updateChoice(groupOrChoice);\n                });\n                /* @todo only generate add events for the added options instead of all\n                if (withEvents) {\n                  items.forEach((choice) => {\n                    if (existingItems[choice.value]) {\n                      this.passedElement.triggerEvent(\n                        EventType.removeItem,\n                        this._getChoiceForEvent(choice),\n                      );\n                    }\n                  });\n                }\n                */\n                // load new choices & items\n                _this._addPredefinedChoices(choicesFromOptions, selectFirstOption, withEvents);\n                // re-do search if required\n                if (_this._isSearching) {\n                    _this._searchChoices(_this.input.value);\n                }\n            });\n            return this;\n        };\n        Choices.prototype.removeChoice = function (value) {\n            var choice = this._store.choices.find(function (c) { return c.value === value; });\n            if (!choice) {\n                return this;\n            }\n            this._clearNotice();\n            this._store.dispatch(removeChoice(choice));\n            // @todo integrate with Store\n            this._searcher.reset();\n            if (choice.selected) {\n                this.passedElement.triggerEvent(EventType.removeItem, getChoiceForOutput(choice));\n            }\n            return this;\n        };\n        Choices.prototype.clearChoices = function (clearOptions, clearItems) {\n            var _this = this;\n            if (clearOptions === void 0) { clearOptions = true; }\n            if (clearItems === void 0) { clearItems = false; }\n            if (clearOptions) {\n                if (clearItems) {\n                    this.passedElement.element.replaceChildren('');\n                }\n                else {\n                    this.passedElement.element.querySelectorAll(':not([selected])').forEach(function (el) {\n                        el.remove();\n                    });\n                }\n            }\n            this.itemList.element.replaceChildren('');\n            this.choiceList.element.replaceChildren('');\n            this._clearNotice();\n            this._store.withTxn(function () {\n                var items = clearItems ? [] : _this._store.items;\n                _this._store.reset();\n                items.forEach(function (item) {\n                    _this._store.dispatch(addChoice(item));\n                    _this._store.dispatch(addItem(item));\n                });\n            });\n            // @todo integrate with Store\n            this._searcher.reset();\n            return this;\n        };\n        Choices.prototype.clearStore = function (clearOptions) {\n            if (clearOptions === void 0) { clearOptions = true; }\n            this.clearChoices(clearOptions, true);\n            this._stopSearch();\n            this._lastAddedChoiceId = 0;\n            this._lastAddedGroupId = 0;\n            return this;\n        };\n        Choices.prototype.clearInput = function () {\n            var shouldSetInputWidth = !this._isSelectOneElement;\n            this.input.clear(shouldSetInputWidth);\n            this._stopSearch();\n            return this;\n        };\n        Choices.prototype._validateConfig = function () {\n            var config = this.config;\n            var invalidConfigOptions = diff(config, DEFAULT_CONFIG);\n            if (invalidConfigOptions.length) {\n                console.warn('Unknown config option(s) passed', invalidConfigOptions.join(', '));\n            }\n            if (config.allowHTML && config.allowHtmlUserInput) {\n                if (config.addItems) {\n                    console.warn('Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks');\n                }\n                if (config.addChoices) {\n                    console.warn('Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks');\n                }\n            }\n        };\n        Choices.prototype._render = function (changes) {\n            if (changes === void 0) { changes = { choices: true, groups: true, items: true }; }\n            if (this._store.inTxn()) {\n                return;\n            }\n            if (this._isSelectElement) {\n                if (changes.choices || changes.groups) {\n                    this._renderChoices();\n                }\n            }\n            if (changes.items) {\n                this._renderItems();\n            }\n        };\n        Choices.prototype._renderChoices = function () {\n            var _this = this;\n            if (!this._canAddItems()) {\n                return; // block rendering choices if the input limit is reached.\n            }\n            var _a = this, config = _a.config, isSearching = _a._isSearching;\n            var _b = this._store, activeGroups = _b.activeGroups, activeChoices = _b.activeChoices;\n            var renderLimit = isSearching ? config.searchResultLimit : config.renderChoiceLimit;\n            if (this._isSelectElement) {\n                var backingOptions = activeChoices.filter(function (choice) { return !choice.element; });\n                if (backingOptions.length) {\n                    this.passedElement.addOptions(backingOptions);\n                }\n            }\n            var fragment = document.createDocumentFragment();\n            var renderableChoices = function (choices) {\n                return choices.filter(function (choice) {\n                    return !choice.placeholder &&\n                        (isSearching\n                            ? (config.searchRenderSelectedChoices || !choice.selected) && !!choice.rank\n                            : config.renderSelectedChoices || !choice.selected);\n                });\n            };\n            var showLabel = config.appendGroupInSearch && isSearching;\n            var selectableChoices = false;\n            var highlightedEl = null;\n            var renderChoices = function (choices, withinGroup) {\n                if (isSearching) {\n                    // sortByRank is used to ensure stable sorting, as scores are non-unique\n                    // this additionally ensures fuseOptions.sortFn is not ignored\n                    choices.sort(sortByRank);\n                }\n                else if (config.shouldSort) {\n                    choices.sort(config.sorter);\n                }\n                var choiceLimit = choices.length;\n                choiceLimit = !withinGroup && renderLimit > 0 && choiceLimit > renderLimit ? renderLimit : choiceLimit;\n                choiceLimit--;\n                choices.every(function (choice, index) {\n                    // choiceEl being empty signals the contents has probably significantly changed\n                    var dropdownItem = choice.choiceEl ||\n                        _this._templates.choice(config, choice, config.itemSelectText, showLabel && choice.group ? choice.group.label : undefined);\n                    choice.choiceEl = dropdownItem;\n                    fragment.appendChild(dropdownItem);\n                    if (isSearching || !choice.selected) {\n                        selectableChoices = true;\n                    }\n                    else if (!highlightedEl) {\n                        highlightedEl = dropdownItem;\n                    }\n                    return index < choiceLimit;\n                });\n            };\n            if (activeChoices.length) {\n                if (config.resetScrollPosition) {\n                    requestAnimationFrame(function () { return _this.choiceList.scrollToTop(); });\n                }\n                if (!this._hasNonChoicePlaceholder && !isSearching && this._isSelectOneElement) {\n                    // If we have a placeholder choice along with groups\n                    renderChoices(activeChoices.filter(function (choice) { return choice.placeholder && !choice.group; }), false);\n                }\n                // If we have grouped options\n                if (activeGroups.length && !isSearching) {\n                    if (config.shouldSort) {\n                        activeGroups.sort(config.sorter);\n                    }\n                    // render Choices without group first, regardless of sort, otherwise they won't be distinguishable\n                    // from the last group\n                    renderChoices(activeChoices.filter(function (choice) { return !choice.placeholder && !choice.group; }), false);\n                    activeGroups.forEach(function (group) {\n                        var groupChoices = renderableChoices(group.choices);\n                        if (groupChoices.length) {\n                            if (group.label) {\n                                var dropdownGroup = group.groupEl || _this._templates.choiceGroup(_this.config, group);\n                                group.groupEl = dropdownGroup;\n                                dropdownGroup.remove();\n                                fragment.appendChild(dropdownGroup);\n                            }\n                            renderChoices(groupChoices, true);\n                        }\n                    });\n                }\n                else {\n                    renderChoices(renderableChoices(activeChoices), false);\n                }\n            }\n            if (!selectableChoices && (isSearching || !fragment.children.length || !config.renderSelectedChoices)) {\n                if (!this._notice) {\n                    this._notice = {\n                        text: resolveStringFunction(isSearching ? config.noResultsText : config.noChoicesText),\n                        type: isSearching ? NoticeTypes.noResults : NoticeTypes.noChoices,\n                    };\n                }\n                fragment.replaceChildren('');\n            }\n            this._renderNotice(fragment);\n            this.choiceList.element.replaceChildren(fragment);\n            this._highlightChoice(highlightedEl);\n        };\n        Choices.prototype._renderItems = function () {\n            var _this = this;\n            var items = this._store.items || [];\n            var itemList = this.itemList.element;\n            var config = this.config;\n            var fragment = document.createDocumentFragment();\n            var itemFromList = function (item) {\n                return itemList.querySelector(\"[data-item][data-id=\\\"\".concat(item.id, \"\\\"]\"));\n            };\n            var addItemToFragment = function (item) {\n                var el = item.itemEl;\n                if (el && el.parentElement) {\n                    return;\n                }\n                el = itemFromList(item) || _this._templates.item(config, item, config.removeItemButton);\n                item.itemEl = el;\n                fragment.appendChild(el);\n            };\n            // new items\n            items.forEach(addItemToFragment);\n            var addedItems = !!fragment.childNodes.length;\n            if (this._isSelectOneElement) {\n                var existingItems = itemList.children.length;\n                if (addedItems || existingItems > 1) {\n                    var placeholder = itemList.querySelector(getClassNamesSelector(config.classNames.placeholder));\n                    if (placeholder) {\n                        placeholder.remove();\n                    }\n                }\n                else if (!addedItems && !existingItems && this._placeholderValue) {\n                    addedItems = true;\n                    addItemToFragment(mapInputToChoice({\n                        selected: true,\n                        value: '',\n                        label: this._placeholderValue,\n                        placeholder: true,\n                    }, false));\n                }\n            }\n            if (addedItems) {\n                itemList.append(fragment);\n                if (config.shouldSortItems && !this._isSelectOneElement) {\n                    items.sort(config.sorter);\n                    // push sorting into the DOM\n                    items.forEach(function (item) {\n                        var el = itemFromList(item);\n                        if (el) {\n                            el.remove();\n                            fragment.append(el);\n                        }\n                    });\n                    itemList.append(fragment);\n                }\n            }\n            if (this._isTextElement) {\n                // Update the value of the hidden input\n                this.passedElement.value = items.map(function (_a) {\n                    var value = _a.value;\n                    return value;\n                }).join(config.delimiter);\n            }\n        };\n        Choices.prototype._displayNotice = function (text, type, openDropdown) {\n            if (openDropdown === void 0) { openDropdown = true; }\n            var oldNotice = this._notice;\n            if (oldNotice &&\n                ((oldNotice.type === type && oldNotice.text === text) ||\n                    (oldNotice.type === NoticeTypes.addChoice &&\n                        (type === NoticeTypes.noResults || type === NoticeTypes.noChoices)))) {\n                if (openDropdown) {\n                    this.showDropdown(true);\n                }\n                return;\n            }\n            this._clearNotice();\n            this._notice = text\n                ? {\n                    text: text,\n                    type: type,\n                }\n                : undefined;\n            this._renderNotice();\n            if (openDropdown && text) {\n                this.showDropdown(true);\n            }\n        };\n        Choices.prototype._clearNotice = function () {\n            if (!this._notice) {\n                return;\n            }\n            var noticeElement = this.choiceList.element.querySelector(getClassNamesSelector(this.config.classNames.notice));\n            if (noticeElement) {\n                noticeElement.remove();\n            }\n            this._notice = undefined;\n        };\n        Choices.prototype._renderNotice = function (fragment) {\n            var noticeConf = this._notice;\n            if (noticeConf) {\n                var notice = this._templates.notice(this.config, noticeConf.text, noticeConf.type);\n                if (fragment) {\n                    fragment.append(notice);\n                }\n                else {\n                    this.choiceList.prepend(notice);\n                }\n            }\n        };\n        /**\n         * @deprecated Use utils.getChoiceForOutput\n         */\n        // eslint-disable-next-line class-methods-use-this\n        Choices.prototype._getChoiceForOutput = function (choice, keyCode) {\n            return getChoiceForOutput(choice, keyCode);\n        };\n        Choices.prototype._triggerChange = function (value) {\n            if (value === undefined || value === null) {\n                return;\n            }\n            this.passedElement.triggerEvent(EventType.change, {\n                value: value,\n            });\n        };\n        Choices.prototype._handleButtonAction = function (element) {\n            var _this = this;\n            var items = this._store.items;\n            if (!items.length || !this.config.removeItems || !this.config.removeItemButton) {\n                return;\n            }\n            var id = element && parseDataSetId(element.closest('[data-id]'));\n            var itemToRemove = id && items.find(function (item) { return item.id === id; });\n            if (!itemToRemove) {\n                return;\n            }\n            this._store.withTxn(function () {\n                // Remove item associated with button\n                _this._removeItem(itemToRemove);\n                _this._triggerChange(itemToRemove.value);\n                if (_this._isSelectOneElement && !_this._hasNonChoicePlaceholder) {\n                    var placeholderChoice = (_this.config.shouldSort ? _this._store.choices.reverse() : _this._store.choices).find(function (choice) { return choice.placeholder; });\n                    if (placeholderChoice) {\n                        _this._addItem(placeholderChoice);\n                        _this.unhighlightAll();\n                        if (placeholderChoice.value) {\n                            _this._triggerChange(placeholderChoice.value);\n                        }\n                    }\n                }\n            });\n        };\n        Choices.prototype._handleItemAction = function (element, hasShiftKey) {\n            var _this = this;\n            if (hasShiftKey === void 0) { hasShiftKey = false; }\n            var items = this._store.items;\n            if (!items.length || !this.config.removeItems || this._isSelectOneElement) {\n                return;\n            }\n            var id = parseDataSetId(element);\n            if (!id) {\n                return;\n            }\n            // We only want to select one item with a click\n            // so we deselect any items that aren't the target\n            // unless shift is being pressed\n            items.forEach(function (item) {\n                if (item.id === id && !item.highlighted) {\n                    _this.highlightItem(item);\n                }\n                else if (!hasShiftKey && item.highlighted) {\n                    _this.unhighlightItem(item);\n                }\n            });\n            // Focus input as without focus, a user cannot do anything with a\n            // highlighted item\n            this.input.focus();\n        };\n        Choices.prototype._handleChoiceAction = function (element) {\n            var _this = this;\n            // If we are clicking on an option\n            var id = parseDataSetId(element);\n            var choice = id && this._store.getChoiceById(id);\n            if (!choice || choice.disabled) {\n                return false;\n            }\n            var hasActiveDropdown = this.dropdown.isActive;\n            if (!choice.selected) {\n                if (!this._canAddItems()) {\n                    return true; // causes _onEnterKey to early out\n                }\n                this._store.withTxn(function () {\n                    _this._addItem(choice, true, true);\n                    _this.clearInput();\n                    _this.unhighlightAll();\n                });\n                this._triggerChange(choice.value);\n            }\n            // We want to close the dropdown if we are dealing with a single select box\n            if (hasActiveDropdown && this.config.closeDropdownOnSelect) {\n                this.hideDropdown(true);\n                this.containerOuter.element.focus();\n            }\n            return true;\n        };\n        Choices.prototype._handleBackspace = function (items) {\n            var config = this.config;\n            if (!config.removeItems || !items.length) {\n                return;\n            }\n            var lastItem = items[items.length - 1];\n            var hasHighlightedItems = items.some(function (item) { return item.highlighted; });\n            // If editing the last item is allowed and there are not other selected items,\n            // we can edit the item value. Otherwise if we can remove items, remove all selected items\n            if (config.editItems && !hasHighlightedItems && lastItem) {\n                this.input.value = lastItem.value;\n                this.input.setWidth();\n                this._removeItem(lastItem);\n                this._triggerChange(lastItem.value);\n            }\n            else {\n                if (!hasHighlightedItems) {\n                    // Highlight last item if none already highlighted\n                    this.highlightItem(lastItem, false);\n                }\n                this.removeHighlightedItems(true);\n            }\n        };\n        Choices.prototype._loadChoices = function () {\n            var _a;\n            var _this = this;\n            var config = this.config;\n            if (this._isTextElement) {\n                // Assign preset items from passed object first\n                this._presetChoices = config.items.map(function (e) { return mapInputToChoice(e, false); });\n                // Add any values passed from attribute\n                if (this.passedElement.value) {\n                    var elementItems = this.passedElement.value\n                        .split(config.delimiter)\n                        .map(function (e) { return mapInputToChoice(e, false, _this.config.allowHtmlUserInput); });\n                    this._presetChoices = this._presetChoices.concat(elementItems);\n                }\n                this._presetChoices.forEach(function (choice) {\n                    choice.selected = true;\n                });\n            }\n            else if (this._isSelectElement) {\n                // Assign preset choices from passed object\n                this._presetChoices = config.choices.map(function (e) { return mapInputToChoice(e, true); });\n                // Create array of choices from option elements\n                var choicesFromOptions = this.passedElement.optionsAsChoices();\n                if (choicesFromOptions) {\n                    (_a = this._presetChoices).push.apply(_a, choicesFromOptions);\n                }\n            }\n        };\n        Choices.prototype._handleLoadingState = function (setLoading) {\n            if (setLoading === void 0) { setLoading = true; }\n            var el = this.itemList.element;\n            if (setLoading) {\n                this.disable();\n                this.containerOuter.addLoadingState();\n                if (this._isSelectOneElement) {\n                    el.replaceChildren(this._templates.placeholder(this.config, this.config.loadingText));\n                }\n                else {\n                    this.input.placeholder = this.config.loadingText;\n                }\n            }\n            else {\n                this.enable();\n                this.containerOuter.removeLoadingState();\n                if (this._isSelectOneElement) {\n                    el.replaceChildren('');\n                    this._render();\n                }\n                else {\n                    this.input.placeholder = this._placeholderValue || '';\n                }\n            }\n        };\n        Choices.prototype._handleSearch = function (value) {\n            if (!this.input.isFocussed) {\n                return;\n            }\n            // Check that we have a value to search and the input was an alphanumeric character\n            if (value !== null && typeof value !== 'undefined' && value.length >= this.config.searchFloor) {\n                var resultCount = this.config.searchChoices ? this._searchChoices(value) : 0;\n                if (resultCount !== null) {\n                    // Trigger search event\n                    this.passedElement.triggerEvent(EventType.search, {\n                        value: value,\n                        resultCount: resultCount,\n                    });\n                }\n            }\n            else if (this._store.choices.some(function (option) { return !option.active; })) {\n                this._stopSearch();\n            }\n        };\n        Choices.prototype._canAddItems = function () {\n            var config = this.config;\n            var maxItemCount = config.maxItemCount, maxItemText = config.maxItemText;\n            if (!config.singleModeForMultiSelect && maxItemCount > 0 && maxItemCount <= this._store.items.length) {\n                this.choiceList.element.replaceChildren('');\n                this._notice = undefined;\n                this._displayNotice(typeof maxItemText === 'function' ? maxItemText(maxItemCount) : maxItemText, NoticeTypes.addChoice);\n                return false;\n            }\n            if (this._notice && this._notice.type === NoticeTypes.addChoice) {\n                this._clearNotice();\n            }\n            return true;\n        };\n        Choices.prototype._canCreateItem = function (value) {\n            var config = this.config;\n            var canAddItem = true;\n            var notice = '';\n            if (canAddItem && typeof config.addItemFilter === 'function' && !config.addItemFilter(value)) {\n                canAddItem = false;\n                notice = resolveNoticeFunction(config.customAddItemText, value, undefined);\n            }\n            if (canAddItem) {\n                var foundChoice = this._store.choices.find(function (choice) { return config.valueComparer(choice.value, value); });\n                if (foundChoice) {\n                    if (this._isSelectElement) {\n                        // for exact matches, do not prompt to add it as a custom choice\n                        this._displayNotice('', NoticeTypes.addChoice);\n                        return false;\n                    }\n                    if (!config.duplicateItemsAllowed) {\n                        canAddItem = false;\n                        notice = resolveNoticeFunction(config.uniqueItemText, value, undefined);\n                    }\n                }\n            }\n            if (canAddItem) {\n                notice = resolveNoticeFunction(config.addItemText, value, undefined);\n            }\n            if (notice) {\n                this._displayNotice(notice, NoticeTypes.addChoice);\n            }\n            return canAddItem;\n        };\n        Choices.prototype._searchChoices = function (value) {\n            var newValue = value.trim().replace(/\\s{2,}/, ' ');\n            // signal input didn't change search\n            if (!newValue.length || newValue === this._currentValue) {\n                return null;\n            }\n            var searcher = this._searcher;\n            if (searcher.isEmptyIndex()) {\n                searcher.index(this._store.searchableChoices);\n            }\n            // If new value matches the desired length and is not the same as the current value with a space\n            var results = searcher.search(newValue);\n            this._currentValue = newValue;\n            this._highlightPosition = 0;\n            this._isSearching = true;\n            var notice = this._notice;\n            var noticeType = notice && notice.type;\n            if (noticeType !== NoticeTypes.addChoice) {\n                if (!results.length) {\n                    this._displayNotice(resolveStringFunction(this.config.noResultsText), NoticeTypes.noResults);\n                }\n                else {\n                    this._clearNotice();\n                }\n            }\n            this._store.dispatch(filterChoices(results));\n            return results.length;\n        };\n        Choices.prototype._stopSearch = function () {\n            if (this._isSearching) {\n                this._currentValue = '';\n                this._isSearching = false;\n                this._clearNotice();\n                this._store.dispatch(activateChoices(true));\n                this.passedElement.triggerEvent(EventType.search, {\n                    value: '',\n                    resultCount: 0,\n                });\n            }\n        };\n        Choices.prototype._addEventListeners = function () {\n            var documentElement = this._docRoot;\n            var outerElement = this.containerOuter.element;\n            var inputElement = this.input.element;\n            var passedElement = this.passedElement.element;\n            // capture events - can cancel event processing or propagation\n            documentElement.addEventListener('touchend', this._onTouchEnd, true);\n            outerElement.addEventListener('keydown', this._onKeyDown, true);\n            outerElement.addEventListener('mousedown', this._onMouseDown, true);\n            // passive events - doesn't call `preventDefault` or `stopPropagation`\n            documentElement.addEventListener('click', this._onClick, { passive: true });\n            documentElement.addEventListener('touchmove', this._onTouchMove, {\n                passive: true,\n            });\n            this.dropdown.element.addEventListener('mouseover', this._onMouseOver, {\n                passive: true,\n            });\n            if (this._isSelectOneElement) {\n                outerElement.addEventListener('focus', this._onFocus, {\n                    passive: true,\n                });\n                outerElement.addEventListener('blur', this._onBlur, {\n                    passive: true,\n                });\n            }\n            inputElement.addEventListener('keyup', this._onKeyUp, {\n                passive: true,\n            });\n            inputElement.addEventListener('input', this._onInput, {\n                passive: true,\n            });\n            inputElement.addEventListener('focus', this._onFocus, {\n                passive: true,\n            });\n            inputElement.addEventListener('blur', this._onBlur, {\n                passive: true,\n            });\n            if (inputElement.form) {\n                inputElement.form.addEventListener('reset', this._onFormReset, {\n                    passive: true,\n                });\n            }\n            if (passedElement.hasAttribute('required')) {\n                passedElement.addEventListener('change', this._onChange, {\n                    passive: true,\n                });\n                passedElement.addEventListener('invalid', this._onInvalid, {\n                    passive: true,\n                });\n            }\n            this.input.addEventListeners();\n        };\n        Choices.prototype._removeEventListeners = function () {\n            var documentElement = this._docRoot;\n            var outerElement = this.containerOuter.element;\n            var inputElement = this.input.element;\n            var passedElement = this.passedElement.element;\n            documentElement.removeEventListener('touchend', this._onTouchEnd, true);\n            outerElement.removeEventListener('keydown', this._onKeyDown, true);\n            outerElement.removeEventListener('mousedown', this._onMouseDown, true);\n            documentElement.removeEventListener('click', this._onClick);\n            documentElement.removeEventListener('touchmove', this._onTouchMove);\n            this.dropdown.element.removeEventListener('mouseover', this._onMouseOver);\n            if (this._isSelectOneElement) {\n                outerElement.removeEventListener('focus', this._onFocus);\n                outerElement.removeEventListener('blur', this._onBlur);\n            }\n            inputElement.removeEventListener('keyup', this._onKeyUp);\n            inputElement.removeEventListener('input', this._onInput);\n            inputElement.removeEventListener('focus', this._onFocus);\n            inputElement.removeEventListener('blur', this._onBlur);\n            if (inputElement.form) {\n                inputElement.form.removeEventListener('reset', this._onFormReset);\n            }\n            if (passedElement.hasAttribute('required')) {\n                passedElement.removeEventListener('change', this._onChange);\n                passedElement.removeEventListener('invalid', this._onInvalid);\n            }\n            this.input.removeEventListeners();\n        };\n        Choices.prototype._onKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var hasActiveDropdown = this.dropdown.isActive;\n            /*\n            See:\n            https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n            https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\n            https://en.wikipedia.org/wiki/UTF-16#Code_points_from_U+010000_to_U+10FFFF - UTF-16 surrogate pairs\n            https://stackoverflow.com/a/70866532 - \"Unidentified\" for mobile\n            http://www.unicode.org/versions/Unicode5.2.0/ch16.pdf#G19635 - U+FFFF is reserved (Section 16.7)\n        \n            Logic: when a key event is sent, `event.key` represents its printable value _or_ one\n            of a large list of special values indicating meta keys/functionality. In addition,\n            key events for compose functionality contain a value of `Dead` when mid-composition.\n        \n            I can't quite verify it, but non-English IMEs may also be able to generate key codes\n            for code points in the surrogate-pair range, which could potentially be seen as having\n            key.length > 1. Since `Fn` is one of the special keys, we can't distinguish by that\n            alone.\n        \n            Here, key.length === 1 means we know for sure the input was printable and not a special\n            `key` value. When the length is greater than 1, it could be either a printable surrogate\n            pair or a special `key` value. We can tell the difference by checking if the _character\n            code_ value (not code point!) is in the \"surrogate pair\" range or not.\n        \n            We don't use .codePointAt because an invalid code point would return 65535, which wouldn't\n            pass the >= 0x10000 check we would otherwise use.\n        \n            > ...The Unicode Standard sets aside 66 noncharacter code points. The last two code points\n            > of each plane are noncharacters: U+FFFE and U+FFFF on the BMP...\n            */\n            var wasPrintableChar = event.key.length === 1 ||\n                (event.key.length === 2 && event.key.charCodeAt(0) >= 0xd800) ||\n                event.key === 'Unidentified';\n            /*\n              We do not show the dropdown if focusing out with esc or navigating through input fields.\n              An activated search can still be opened with any other key.\n             */\n            if (!this._isTextElement &&\n                !hasActiveDropdown &&\n                keyCode !== KeyCodeMap.ESC_KEY &&\n                keyCode !== KeyCodeMap.TAB_KEY &&\n                keyCode !== KeyCodeMap.SHIFT_KEY) {\n                this.showDropdown();\n                if (!this.input.isFocussed && wasPrintableChar) {\n                    /*\n                      We update the input value with the pressed key as\n                      the input was not focussed at the time of key press\n                      therefore does not have the value of the key.\n                    */\n                    this.input.value += event.key;\n                    // browsers interpret a space as pagedown\n                    if (event.key === ' ') {\n                        event.preventDefault();\n                    }\n                }\n            }\n            switch (keyCode) {\n                case KeyCodeMap.A_KEY:\n                    return this._onSelectKey(event, this.itemList.element.hasChildNodes());\n                case KeyCodeMap.ENTER_KEY:\n                    return this._onEnterKey(event, hasActiveDropdown);\n                case KeyCodeMap.ESC_KEY:\n                    return this._onEscapeKey(event, hasActiveDropdown);\n                case KeyCodeMap.UP_KEY:\n                case KeyCodeMap.PAGE_UP_KEY:\n                case KeyCodeMap.DOWN_KEY:\n                case KeyCodeMap.PAGE_DOWN_KEY:\n                    return this._onDirectionKey(event, hasActiveDropdown);\n                case KeyCodeMap.DELETE_KEY:\n                case KeyCodeMap.BACK_KEY:\n                    return this._onDeleteKey(event, this._store.items, this.input.isFocussed);\n            }\n        };\n        Choices.prototype._onKeyUp = function ( /* event: KeyboardEvent */) {\n            this._canSearch = this.config.searchEnabled;\n        };\n        Choices.prototype._onInput = function ( /* event: InputEvent */) {\n            var value = this.input.value;\n            if (!value) {\n                if (this._isTextElement) {\n                    this.hideDropdown(true);\n                }\n                else {\n                    this._stopSearch();\n                }\n                return;\n            }\n            if (!this._canAddItems()) {\n                return;\n            }\n            if (this._canSearch) {\n                // do the search even if the entered text can not be added\n                this._handleSearch(value);\n            }\n            if (!this._canAddUserChoices) {\n                return;\n            }\n            // determine if a notice needs to be displayed for why a search result can't be added\n            this._canCreateItem(value);\n            if (this._isSelectElement) {\n                this._highlightPosition = 0; // reset to select the notice and/or exact match\n                this._highlightChoice();\n            }\n        };\n        Choices.prototype._onSelectKey = function (event, hasItems) {\n            // If CTRL + A or CMD + A have been pressed and there are items to select\n            if ((event.ctrlKey || event.metaKey) && hasItems) {\n                this._canSearch = false;\n                var shouldHightlightAll = this.config.removeItems && !this.input.value && this.input.element === document.activeElement;\n                if (shouldHightlightAll) {\n                    this.highlightAll();\n                }\n            }\n        };\n        Choices.prototype._onEnterKey = function (event, hasActiveDropdown) {\n            var _this = this;\n            var value = this.input.value;\n            var target = event.target;\n            event.preventDefault();\n            if (target && target.hasAttribute('data-button')) {\n                this._handleButtonAction(target);\n                return;\n            }\n            if (!hasActiveDropdown) {\n                if (this._isSelectElement || this._notice) {\n                    this.showDropdown();\n                }\n                return;\n            }\n            var highlightedChoice = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n            if (highlightedChoice && this._handleChoiceAction(highlightedChoice)) {\n                return;\n            }\n            if (!target || !value) {\n                this.hideDropdown(true);\n                return;\n            }\n            if (!this._canAddItems()) {\n                return;\n            }\n            var addedItem = false;\n            this._store.withTxn(function () {\n                addedItem = _this._findAndSelectChoiceByValue(value, true);\n                if (!addedItem) {\n                    if (!_this._canAddUserChoices) {\n                        return;\n                    }\n                    if (!_this._canCreateItem(value)) {\n                        return;\n                    }\n                    _this._addChoice(mapInputToChoice(value, false, _this.config.allowHtmlUserInput), true, true);\n                    addedItem = true;\n                }\n                _this.clearInput();\n                _this.unhighlightAll();\n            });\n            if (!addedItem) {\n                return;\n            }\n            this._triggerChange(value);\n            if (this.config.closeDropdownOnSelect) {\n                this.hideDropdown(true);\n            }\n        };\n        Choices.prototype._onEscapeKey = function (event, hasActiveDropdown) {\n            if (hasActiveDropdown) {\n                event.stopPropagation();\n                this.hideDropdown(true);\n                this._stopSearch();\n                this.containerOuter.element.focus();\n            }\n        };\n        Choices.prototype._onDirectionKey = function (event, hasActiveDropdown) {\n            var keyCode = event.keyCode;\n            // If up or down key is pressed, traverse through options\n            if (hasActiveDropdown || this._isSelectOneElement) {\n                this.showDropdown();\n                this._canSearch = false;\n                var directionInt = keyCode === KeyCodeMap.DOWN_KEY || keyCode === KeyCodeMap.PAGE_DOWN_KEY ? 1 : -1;\n                var skipKey = event.metaKey || keyCode === KeyCodeMap.PAGE_DOWN_KEY || keyCode === KeyCodeMap.PAGE_UP_KEY;\n                var nextEl = void 0;\n                if (skipKey) {\n                    if (directionInt > 0) {\n                        nextEl = this.dropdown.element.querySelector(\"\".concat(selectableChoiceIdentifier, \":last-of-type\"));\n                    }\n                    else {\n                        nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                    }\n                }\n                else {\n                    var currentEl = this.dropdown.element.querySelector(getClassNamesSelector(this.config.classNames.highlightedState));\n                    if (currentEl) {\n                        nextEl = getAdjacentEl(currentEl, selectableChoiceIdentifier, directionInt);\n                    }\n                    else {\n                        nextEl = this.dropdown.element.querySelector(selectableChoiceIdentifier);\n                    }\n                }\n                if (nextEl) {\n                    // We prevent default to stop the cursor moving\n                    // when pressing the arrow\n                    if (!isScrolledIntoView(nextEl, this.choiceList.element, directionInt)) {\n                        this.choiceList.scrollToChildElement(nextEl, directionInt);\n                    }\n                    this._highlightChoice(nextEl);\n                }\n                // Prevent default to maintain cursor position whilst\n                // traversing dropdown options\n                event.preventDefault();\n            }\n        };\n        Choices.prototype._onDeleteKey = function (event, items, hasFocusedInput) {\n            // If backspace or delete key is pressed and the input has no value\n            if (!this._isSelectOneElement && !event.target.value && hasFocusedInput) {\n                this._handleBackspace(items);\n                event.preventDefault();\n            }\n        };\n        Choices.prototype._onTouchMove = function () {\n            if (this._wasTap) {\n                this._wasTap = false;\n            }\n        };\n        Choices.prototype._onTouchEnd = function (event) {\n            var target = (event || event.touches[0]).target;\n            var touchWasWithinContainer = this._wasTap && this.containerOuter.element.contains(target);\n            if (touchWasWithinContainer) {\n                var containerWasExactTarget = target === this.containerOuter.element || target === this.containerInner.element;\n                if (containerWasExactTarget) {\n                    if (this._isTextElement) {\n                        this.input.focus();\n                    }\n                    else if (this._isSelectMultipleElement) {\n                        this.showDropdown();\n                    }\n                }\n                // Prevents focus event firing\n                event.stopPropagation();\n            }\n            this._wasTap = true;\n        };\n        /**\n         * Handles mousedown event in capture mode for containetOuter.element\n         */\n        Choices.prototype._onMouseDown = function (event) {\n            var target = event.target;\n            if (!(target instanceof Element)) {\n                return;\n            }\n            // If we have our mouse down on the scrollbar and are on IE11...\n            if (IS_IE11 && this.choiceList.element.contains(target)) {\n                // check if click was on a scrollbar area\n                var firstChoice = this.choiceList.element.firstElementChild;\n                this._isScrollingOnIe =\n                    this._direction === 'ltr' ? event.offsetX >= firstChoice.offsetWidth : event.offsetX < firstChoice.offsetLeft;\n            }\n            if (target === this.input.element) {\n                return;\n            }\n            var item = target.closest('[data-button],[data-item],[data-choice]');\n            if (item instanceof HTMLElement) {\n                if ('button' in item.dataset) {\n                    this._handleButtonAction(item);\n                }\n                else if ('item' in item.dataset) {\n                    this._handleItemAction(item, event.shiftKey);\n                }\n                else if ('choice' in item.dataset) {\n                    this._handleChoiceAction(item);\n                }\n            }\n            event.preventDefault();\n        };\n        /**\n         * Handles mouseover event over this.dropdown\n         * @param {MouseEvent} event\n         */\n        Choices.prototype._onMouseOver = function (_a) {\n            var target = _a.target;\n            if (target instanceof HTMLElement && 'choice' in target.dataset) {\n                this._highlightChoice(target);\n            }\n        };\n        Choices.prototype._onClick = function (_a) {\n            var target = _a.target;\n            var containerOuter = this.containerOuter;\n            var clickWasWithinContainer = containerOuter.element.contains(target);\n            if (clickWasWithinContainer) {\n                if (!this.dropdown.isActive && !containerOuter.isDisabled) {\n                    if (this._isTextElement) {\n                        if (document.activeElement !== this.input.element) {\n                            this.input.focus();\n                        }\n                    }\n                    else {\n                        this.showDropdown();\n                        containerOuter.element.focus();\n                    }\n                }\n                else if (this._isSelectOneElement &&\n                    target !== this.input.element &&\n                    !this.dropdown.element.contains(target)) {\n                    this.hideDropdown();\n                }\n            }\n            else {\n                containerOuter.removeFocusState();\n                this.hideDropdown(true);\n                this.unhighlightAll();\n            }\n        };\n        Choices.prototype._onFocus = function (_a) {\n            var target = _a.target;\n            var containerOuter = this.containerOuter;\n            var focusWasWithinContainer = target && containerOuter.element.contains(target);\n            if (!focusWasWithinContainer) {\n                return;\n            }\n            var targetIsInput = target === this.input.element;\n            if (this._isTextElement) {\n                if (targetIsInput) {\n                    containerOuter.addFocusState();\n                }\n            }\n            else if (this._isSelectMultipleElement) {\n                if (targetIsInput) {\n                    this.showDropdown(true);\n                    // If element is a select box, the focused element is the container and the dropdown\n                    // isn't already open, focus and show dropdown\n                    containerOuter.addFocusState();\n                }\n            }\n            else {\n                containerOuter.addFocusState();\n                if (targetIsInput) {\n                    this.showDropdown(true);\n                }\n            }\n        };\n        Choices.prototype._onBlur = function (_a) {\n            var target = _a.target;\n            var containerOuter = this.containerOuter;\n            var blurWasWithinContainer = target && containerOuter.element.contains(target);\n            if (blurWasWithinContainer && !this._isScrollingOnIe) {\n                if (target === this.input.element) {\n                    containerOuter.removeFocusState();\n                    this.hideDropdown(true);\n                    if (this._isTextElement || this._isSelectMultipleElement) {\n                        this.unhighlightAll();\n                    }\n                }\n                else if (target === this.containerOuter.element) {\n                    // Remove the focus state when the past outerContainer was the target\n                    containerOuter.removeFocusState();\n                    // Also close the dropdown if search is disabled\n                    if (!this.config.searchEnabled) {\n                        this.hideDropdown(true);\n                    }\n                }\n            }\n            else {\n                // On IE11, clicking the scollbar blurs our input and thus\n                // closes the dropdown. To stop this, we refocus our input\n                // if we know we are on IE *and* are scrolling.\n                this._isScrollingOnIe = false;\n                this.input.element.focus();\n            }\n        };\n        Choices.prototype._onFormReset = function () {\n            var _this = this;\n            this._store.withTxn(function () {\n                _this.clearInput();\n                _this.hideDropdown();\n                _this.refresh(false, false, true);\n                if (_this._initialItems.length) {\n                    _this.setChoiceByValue(_this._initialItems);\n                }\n            });\n        };\n        Choices.prototype._onChange = function (event) {\n            if (!event.target.checkValidity()) {\n                return;\n            }\n            this.containerOuter.removeInvalidState();\n        };\n        Choices.prototype._onInvalid = function () {\n            this.containerOuter.addInvalidState();\n        };\n        /**\n         * Removes any highlighted choice options\n         */\n        Choices.prototype._removeHighlightedChoices = function () {\n            var highlightedState = this.config.classNames.highlightedState;\n            var highlightedChoices = Array.from(this.dropdown.element.querySelectorAll(getClassNamesSelector(highlightedState)));\n            // Remove any highlighted choices\n            highlightedChoices.forEach(function (choice) {\n                removeClassesFromElement(choice, highlightedState);\n                choice.setAttribute('aria-selected', 'false');\n            });\n        };\n        Choices.prototype._highlightChoice = function (el) {\n            if (el === void 0) { el = null; }\n            var choices = Array.from(this.dropdown.element.querySelectorAll(selectableChoiceIdentifier));\n            if (!choices.length) {\n                return;\n            }\n            var passedEl = el;\n            var highlightedState = this.config.classNames.highlightedState;\n            this._removeHighlightedChoices();\n            if (passedEl) {\n                this._highlightPosition = choices.indexOf(passedEl);\n            }\n            else {\n                // Highlight choice based on last known highlight location\n                if (choices.length > this._highlightPosition) {\n                    // If we have an option to highlight\n                    passedEl = choices[this._highlightPosition];\n                }\n                else {\n                    // Otherwise highlight the option before\n                    passedEl = choices[choices.length - 1];\n                }\n                if (!passedEl) {\n                    passedEl = choices[0];\n                }\n            }\n            addClassesToElement(passedEl, highlightedState);\n            passedEl.setAttribute('aria-selected', 'true');\n            this.passedElement.triggerEvent(EventType.highlightChoice, {\n                el: passedEl,\n            });\n            if (this.dropdown.isActive) {\n                // IE11 ignores aria-label and blocks virtual keyboard\n                // if aria-activedescendant is set without a dropdown\n                this.input.setActiveDescendant(passedEl.id);\n                this.containerOuter.setActiveDescendant(passedEl.id);\n            }\n        };\n        Choices.prototype._addItem = function (item, withEvents, userTriggered) {\n            if (withEvents === void 0) { withEvents = true; }\n            if (userTriggered === void 0) { userTriggered = false; }\n            if (!item.id) {\n                throw new TypeError('item.id must be set before _addItem is called for a choice/item');\n            }\n            if (this.config.singleModeForMultiSelect || this._isSelectOneElement) {\n                this.removeActiveItems(item.id);\n            }\n            this._store.dispatch(addItem(item));\n            if (withEvents) {\n                var eventChoice = getChoiceForOutput(item);\n                this.passedElement.triggerEvent(EventType.addItem, eventChoice);\n                if (userTriggered) {\n                    this.passedElement.triggerEvent(EventType.choice, eventChoice);\n                }\n            }\n        };\n        Choices.prototype._removeItem = function (item) {\n            if (!item.id) {\n                return;\n            }\n            this._store.dispatch(removeItem$1(item));\n            var notice = this._notice;\n            if (notice && notice.type === NoticeTypes.noChoices) {\n                this._clearNotice();\n            }\n            this.passedElement.triggerEvent(EventType.removeItem, getChoiceForOutput(item));\n        };\n        Choices.prototype._addChoice = function (choice, withEvents, userTriggered) {\n            if (withEvents === void 0) { withEvents = true; }\n            if (userTriggered === void 0) { userTriggered = false; }\n            if (choice.id) {\n                throw new TypeError('Can not re-add a choice which has already been added');\n            }\n            var config = this.config;\n            if (!config.duplicateItemsAllowed && this._store.choices.find(function (c) { return config.valueComparer(c.value, choice.value); })) {\n                return;\n            }\n            // Generate unique id, in-place update is required so chaining _addItem works as expected\n            this._lastAddedChoiceId++;\n            choice.id = this._lastAddedChoiceId;\n            choice.elementId = \"\".concat(this._baseId, \"-\").concat(this._idNames.itemChoice, \"-\").concat(choice.id);\n            var prependValue = config.prependValue, appendValue = config.appendValue;\n            if (prependValue) {\n                choice.value = prependValue + choice.value;\n            }\n            if (appendValue) {\n                choice.value += appendValue.toString();\n            }\n            if ((prependValue || appendValue) && choice.element) {\n                choice.element.value = choice.value;\n            }\n            this._clearNotice();\n            this._store.dispatch(addChoice(choice));\n            if (choice.selected) {\n                this._addItem(choice, withEvents, userTriggered);\n            }\n        };\n        Choices.prototype._addGroup = function (group, withEvents) {\n            var _this = this;\n            if (withEvents === void 0) { withEvents = true; }\n            if (group.id) {\n                throw new TypeError('Can not re-add a group which has already been added');\n            }\n            this._store.dispatch(addGroup(group));\n            if (!group.choices) {\n                return;\n            }\n            // add unique id for the group(s), and do not store the full list of choices in this group\n            this._lastAddedGroupId++;\n            group.id = this._lastAddedGroupId;\n            group.choices.forEach(function (item) {\n                item.group = group;\n                if (group.disabled) {\n                    item.disabled = true;\n                }\n                _this._addChoice(item, withEvents);\n            });\n        };\n        Choices.prototype._createTemplates = function () {\n            var _this = this;\n            var callbackOnCreateTemplates = this.config.callbackOnCreateTemplates;\n            var userTemplates = {};\n            if (typeof callbackOnCreateTemplates === 'function') {\n                userTemplates = callbackOnCreateTemplates.call(this, strToEl, escapeForTemplate, getClassNames);\n            }\n            var templating = {};\n            Object.keys(this._templates).forEach(function (name) {\n                if (name in userTemplates) {\n                    templating[name] = userTemplates[name].bind(_this);\n                }\n                else {\n                    templating[name] = _this._templates[name].bind(_this);\n                }\n            });\n            this._templates = templating;\n        };\n        Choices.prototype._createElements = function () {\n            var templating = this._templates;\n            var _a = this, config = _a.config, isSelectOneElement = _a._isSelectOneElement;\n            var position = config.position, classNames = config.classNames;\n            var elementType = this._elementType;\n            this.containerOuter = new Container({\n                element: templating.containerOuter(config, this._direction, this._isSelectElement, isSelectOneElement, config.searchEnabled, elementType, config.labelId),\n                classNames: classNames,\n                type: elementType,\n                position: position,\n            });\n            this.containerInner = new Container({\n                element: templating.containerInner(config),\n                classNames: classNames,\n                type: elementType,\n                position: position,\n            });\n            this.input = new Input({\n                element: templating.input(config, this._placeholderValue),\n                classNames: classNames,\n                type: elementType,\n                preventPaste: !config.paste,\n            });\n            this.choiceList = new List({\n                element: templating.choiceList(config, isSelectOneElement),\n            });\n            this.itemList = new List({\n                element: templating.itemList(config, isSelectOneElement),\n            });\n            this.dropdown = new Dropdown({\n                element: templating.dropdown(config),\n                classNames: classNames,\n                type: elementType,\n            });\n        };\n        Choices.prototype._createStructure = function () {\n            var _a = this, containerInner = _a.containerInner, containerOuter = _a.containerOuter, passedElement = _a.passedElement;\n            var dropdownElement = this.dropdown.element;\n            // Hide original element\n            passedElement.conceal();\n            // Wrap input in container preserving DOM ordering\n            containerInner.wrap(passedElement.element);\n            // Wrapper inner container with outer container\n            containerOuter.wrap(containerInner.element);\n            containerOuter.element.appendChild(containerInner.element);\n            containerOuter.element.appendChild(dropdownElement);\n            containerInner.element.appendChild(this.itemList.element);\n            dropdownElement.appendChild(this.choiceList.element);\n            if (this._isSelectOneElement) {\n                this.input.placeholder = this.config.searchPlaceholderValue || '';\n                if (this.config.searchEnabled) {\n                    dropdownElement.insertBefore(this.input.element, dropdownElement.firstChild);\n                }\n            }\n            else {\n                if (!this._isSelectMultipleElement || this.config.searchEnabled) {\n                    containerInner.element.appendChild(this.input.element);\n                }\n                if (this._placeholderValue) {\n                    this.input.placeholder = this._placeholderValue;\n                }\n                this.input.setWidth();\n            }\n            this._highlightPosition = 0;\n            this._isSearching = false;\n        };\n        Choices.prototype._initStore = function () {\n            var _this = this;\n            this._store.subscribe(this._render).withTxn(function () {\n                _this._addPredefinedChoices(_this._presetChoices, _this._isSelectOneElement && !_this._hasNonChoicePlaceholder, false);\n            });\n            if (!this._store.choices.length || (this._isSelectOneElement && this._hasNonChoicePlaceholder)) {\n                this._render();\n            }\n        };\n        Choices.prototype._addPredefinedChoices = function (choices, selectFirstOption, withEvents) {\n            var _this = this;\n            if (selectFirstOption === void 0) { selectFirstOption = false; }\n            if (withEvents === void 0) { withEvents = true; }\n            if (selectFirstOption) {\n                /**\n                 * If there is a selected choice already or the choice is not the first in\n                 * the array, add each choice normally.\n                 *\n                 * Otherwise we pre-select the first enabled choice in the array (\"select-one\" only)\n                 */\n                var noSelectedChoices = choices.findIndex(function (choice) { return choice.selected; }) === -1;\n                if (noSelectedChoices) {\n                    choices.some(function (choice) {\n                        if (choice.disabled || 'choices' in choice) {\n                            return false;\n                        }\n                        choice.selected = true;\n                        return true;\n                    });\n                }\n            }\n            choices.forEach(function (item) {\n                if ('choices' in item) {\n                    if (_this._isSelectElement) {\n                        _this._addGroup(item, withEvents);\n                    }\n                }\n                else {\n                    _this._addChoice(item, withEvents);\n                }\n            });\n        };\n        Choices.prototype._findAndSelectChoiceByValue = function (value, userTriggered) {\n            var _this = this;\n            if (userTriggered === void 0) { userTriggered = false; }\n            // Check 'value' property exists and the choice isn't already selected\n            var foundChoice = this._store.choices.find(function (choice) { return _this.config.valueComparer(choice.value, value); });\n            if (foundChoice && !foundChoice.disabled && !foundChoice.selected) {\n                this._addItem(foundChoice, true, userTriggered);\n                return true;\n            }\n            return false;\n        };\n        Choices.prototype._generatePlaceholderValue = function () {\n            var config = this.config;\n            if (!config.placeholder) {\n                return null;\n            }\n            if (this._hasNonChoicePlaceholder) {\n                return config.placeholderValue;\n            }\n            if (this._isSelectElement) {\n                var placeholderOption = this.passedElement.placeholderOption;\n                return placeholderOption ? placeholderOption.text : null;\n            }\n            return null;\n        };\n        Choices.prototype._warnChoicesInitFailed = function (caller) {\n            if (this.config.silent) {\n                return;\n            }\n            if (!this.initialised) {\n                throw new TypeError(\"\".concat(caller, \" called on a non-initialised instance of Choices\"));\n            }\n            else if (!this.initialisedOK) {\n                throw new TypeError(\"\".concat(caller, \" called for an element which has multiple instances of Choices initialised on it\"));\n            }\n        };\n        Choices.version = '11.2.0';\n        return Choices;\n    }());\n\n    return Choices;\n\n}));\n","module.exports = bootstrap;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Choices from './assets/scripts/choices.js';\nimport * as bootstrap from 'bootstrap';\nconst _global = (window /* browser */ || global /* node */);\n_global.Choices = Choices;\n// Generic Functions\ndocument.addEventListener('DOMContentLoaded', () => {\n    _global.loadSelectMenus();\n});\n_global.loadSelectMenus = () => {\n    document.querySelectorAll('[data-bs-toggle=\"tooltip\"]').forEach(toolTip => {\n        return new bootstrap.Tooltip(toolTip);\n    });\n    document.querySelectorAll('.yafnet .select2-select').forEach(select => {\n        const choice = new Choices(select, {\n            allowHTML: true,\n            shouldSort: false,\n            placeholderValue: select.getAttribute('placeholder') || '',\n            classNames: { containerOuter: ['choices', 'w-100'] }\n        });\n    });\n    document.querySelectorAll('.yafnet .select2-image-select').forEach(select => {\n        var selectedValue = select.value;\n        var groups = new Array();\n        document.querySelectorAll('.yafnet .select2-image-select option[data-category]').forEach(option => {\n            var group = option.dataset.category.trim();\n            if (groups.indexOf(group) === -1) {\n                groups.push(group);\n            }\n        });\n        groups.forEach(group => {\n            document.querySelectorAll('.yafnet .select2-image-select').forEach(s => {\n                var optionGroups = new Array();\n                s.querySelectorAll(`option[data-category='${group}']`).forEach(option => {\n                    if (optionGroups.indexOf(option) === -1) {\n                        optionGroups.push(option);\n                    }\n                });\n                const optionGroupElement = document.createElement('optgroup');\n                optionGroupElement.label = group;\n                optionGroups.forEach(option => {\n                    option.replaceWith(optionGroupElement);\n                    optionGroupElement.appendChild(option);\n                });\n            });\n        });\n        select.value = selectedValue;\n        const choice = new Choices(select, {\n            classNames: { containerOuter: ['choices', 'w-100'] },\n            allowHTML: true,\n            shouldSort: false,\n            removeItemButton: select.dataset.allowClear === 'true',\n            placeholderValue: select.getAttribute('placeholder'),\n            callbackOnCreateTemplates: function (template) {\n                var itemSelectText = this.config.itemSelectText;\n                const removeItemButton = this.config.removeItemButton;\n                return {\n                    item({ classNames }, data) {\n                        let label = data.label;\n                        if (data.customProperties) {\n                            let json;\n                            try {\n                                json = JSON.parse(data.customProperties);\n                            }\n                            catch (e) {\n                                json = data.customProperties;\n                            }\n                            label = json.label === undefined ? data.label : json.label;\n                        }\n                        return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(data.highlighted\n                            ? classNames.highlightedState\n                            : classNames.itemSelectable)} ${String(data.placeholder ? classNames.placeholder : '')}\"\r\n                                      data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(removeItemButton ? 'data-deletable' : '')}\r\n                                      ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                            ? 'aria-disabled=\"true\"'\n                            : '')}>\r\n                                    ${String(label)}\r\n                                    ${String(removeItemButton\n                            ? `<button type=\"button\" class=\"${String(classNames.button.join(' '))}\" aria-label=\"Remove item: '${String(data.value)}'\" data-button=\"\">Remove item</button>`\n                            : '')}\r\n                                 </div>\r\n                                `);\n                    },\n                    choice({ classNames }, data) {\n                        let label = data.label;\n                        if (data.customProperties) {\n                            let json;\n                            try {\n                                json = JSON.parse(data.customProperties);\n                            }\n                            catch (e) {\n                                json = data.customProperties;\n                            }\n                            label = json.label === undefined ? data.label : json.label;\n                        }\n                        return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(classNames.itemChoice)} ${String(data.disabled ? classNames.itemDisabled : classNames.itemSelectable)}\"\r\n                                      data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                            ? 'data-choice-disabled aria-disabled=\"true\"'\n                            : 'data-choice-selectable')}\r\n                                      data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                                      ${String(label)}\r\n                                 </div>\r\n                                 `);\n                    }\n                };\n            }\n        });\n        choice.passedElement.element.addEventListener('choice', (event) => {\n            var _a;\n            const customEvent = event;\n            if ((_a = customEvent.detail) === null || _a === void 0 ? void 0 : _a.customProperties) {\n                let json;\n                try {\n                    json = JSON.parse(customEvent.detail.customProperties);\n                }\n                catch (e) {\n                    json = customEvent.detail.customProperties;\n                }\n                if (json.url !== undefined) {\n                    window.location.href = json.url;\n                }\n            }\n        });\n    });\n};\n_global.createTagsSelectTemplates = function (template) {\n    const config = this.config;\n    const removeItemButton = config.removeItemButton;\n    return {\n        item({ classNames }, data) {\n            let label = data.label;\n            if (data.customProperties) {\n                let json;\n                try {\n                    json = JSON.parse(data.customProperties);\n                }\n                catch (e) {\n                    json = data.customProperties;\n                }\n                label = json.label === undefined ? data.label : json.label;\n            }\n            return template(`\r\n                     <div class=\"${String(classNames.item)} ${String(data.highlighted\n                ? classNames.highlightedState\n                : classNames.itemSelectable)} badge text-bg-primary fs-6 m-1\"\r\n                          data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                          ${String(removeItemButton ? 'data-deletable' : '')}\r\n                          ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                ? 'aria-disabled=\"true\"'\n                : '')}>\r\n                        <i class=\"fas fa-tag align-middle me-1\"></i>${String(label)}\r\n                        ${String(removeItemButton ? `<button type=\"button\" class=\"${String(classNames.button.join(' '))}\" aria-label=\"Remove item: '${String(data.value)}'\" data-button=\"\">Remove item</button>` : '')}\r\n                     </div>\r\n                    `);\n        }\n    };\n};\n_global.createForumSelectTemplates = function (template) {\n    const config = this.config;\n    const itemSelectText = config.itemSelectText;\n    return {\n        item({ classNames }, data) {\n            return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(data.highlighted\n                ? classNames.highlightedState\n                : classNames.itemSelectable)} ${String(data.placeholder ? classNames.placeholder : '')}\"\r\n                                      data-item data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.active ? 'aria-selected=\"true\"' : '')} ${String(data.disabled\n                ? 'aria-disabled=\"true\"'\n                : '')}>\r\n                                    <span><i class=\"fas fa-comments text-secondary me-1\"></i>${String(data.label)}</span>\r\n                                 </div>\r\n                                `);\n        },\n        choice({ classNames }, data) {\n            return template(`\r\n                                 <div class=\"${String(classNames.item)} ${String(classNames.itemChoice)} ${String(data.disabled ? classNames.itemDisabled : classNames.itemSelectable)}\"\r\n                                      data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                ? 'data-choice-disabled aria-disabled=\"true\"'\n                : 'data-choice-selectable')}\r\n                                      data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                                      ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                                      <span><i class=\"fas fa-comments text-secondary me-1\"></i>${String(data.label)}</span>\r\n                                 </div>\r\n                                 `);\n        },\n        choiceGroup({ classNames }, data) {\n            return template(`\r\n                     <div class=\"${String(classNames.item)} fw-bold text-secondary\"\r\n                          data-select-text=\"${String(itemSelectText)}\" data-choice ${String(data.disabled\n                ? 'data-choice-disabled aria-disabled=\"true\"'\n                : 'data-choice-selectable')}\r\n                          data-id=\"${String(data.id)}\" data-value=\"${String(data.value)}\"\r\n                          ${String(data.groupId > 0 ? 'role=\"treeitem\"' : 'role=\"option\"')}>\r\n                          <span><i class=\"fas fa-folder text-warning me-1\"></i>${String(data.label)}</span>\r\n                     </div>\r\n                     `);\n        }\n    };\n};\n_global.loadForumChoiceOptions = (params, url, selectedForumId) => fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(params),\n    headers: {\n        \"RequestVerificationToken\": document.querySelector('input[name=\"__RequestVerificationToken\"]').value,\n        \"Accept\": 'application/json',\n        \"Content-Type\": 'application/json;charset=utf-8'\n    }\n}).then(response => response.json())\n    .then(data => data.results.map((group) => ({\n    value: group.id,\n    label: group.text,\n    choices: group.children.map((forum) => {\n        const selectedId = parseInt(selectedForumId);\n        return {\n            value: forum.id,\n            label: forum.text,\n            selected: selectedId > 0 && selectedForumId == forum.id,\n            customProperties: {\n                page: params.Page,\n                total: data.total,\n                url: forum.url\n            }\n        };\n    })\n})));\n_global.loadChoiceOptions = (params, url) => fetch(url, {\n    method: 'POST',\n    body: JSON.stringify(params),\n    headers: {\n        \"RequestVerificationToken\": document.querySelector('input[name=\"__RequestVerificationToken\"]').value,\n        \"Accept\": 'application/json',\n        \"Content-Type\": 'application/json;charset=utf-8'\n    }\n}).then(response => response.json())\n    .then(data => data.results.map((result) => ({\n    value: result.id,\n    label: result.text,\n    customProperties: {\n        page: params.Page,\n        total: data.total\n    }\n})));\n"],"names":["module","exports","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","ar","l","slice","concat","SuppressedError","tmpEl","ActionType","ADD_CHOICE","REMOVE_CHOICE","FILTER_CHOICES","ACTIVATE_CHOICES","CLEAR_CHOICES","ADD_GROUP","ADD_ITEM","REMOVE_ITEM","HIGHLIGHT_ITEM","EventType","showDropdown","hideDropdown","change","choice","search","addItem","removeItem","highlightItem","highlightChoice","unhighlightItem","KeyCodeMap","TAB_KEY","SHIFT_KEY","BACK_KEY","DELETE_KEY","ENTER_KEY","A_KEY","ESC_KEY","UP_KEY","DOWN_KEY","PAGE_UP_KEY","PAGE_DOWN_KEY","ObjectsInConfig","PassedElementTypes","Text","SelectOne","SelectMultiple","addChoice","type","removeChoice","filterChoices","results","activateChoices","active","addGroup","group","item","removeItem$1","highlighted","getRandomNumber","min","max","Math","floor","random","generateChars","toString","join","generateId","element","prefix","id","name","replace","getAdjacentEl","startEl","selector","direction","prop","sibling","matches","isScrolledIntoView","parent","scrollTop","offsetHeight","offsetTop","sanitise","value","raw","trusted","strToEl","document","createElement","str","innerHTML","trim","firstChild","children","removeChild","resolveStringFunction","fn","unwrapStringForRaw","unwrapStringForEscaped","escaped","getChoiceForOutput","keyCode","labelClass","labelDescription","customProperties","disabled","label","placeholder","groupValue","undefined","resolveNoticeFunction","escapeForTemplate","allowHTML","setElementHtml","el","allowHtml","html","sortByAlpha","_a","_b","_c","value2","_d","label2","localeCompare","sensitivity","ignorePunctuation","numeric","sortByRank","a","rank","dispatchEvent","customArgs","event","CustomEvent","detail","bubbles","cancelable","diff","aKeys","keys","sort","bKeys","filter","indexOf","getClassNames","ClassNames","isArray","getClassNamesSelector","option","map","addClassesToElement","className","classList","add","removeClassesFromElement","remove","parseCustomProperties","JSON","parse","e","updateClassList","itemEl","Dropdown","classNames","isActive","show","activeState","setAttribute","hide","Container","position","isOpen","isFlipped","isDisabled","isLoading","shouldFlip","dropdownPos","dropdownHeight","getBoundingClientRect","top","window","matchMedia","setActiveDescendant","activeDescendantID","removeActiveDescendant","removeAttribute","open","openState","flippedState","close","addFocusState","focusState","removeFocusState","addInvalidState","invalidState","removeInvalidState","enable","disabledState","disable","wrap","parentNode","nextSibling","insertBefore","appendChild","unwrap","addLoadingState","loadingState","removeLoadingState","Input","preventPaste","isFocussed","isEqualNode","activeElement","_onPaste","bind","_onInput","_onFocus","_onBlur","defineProperty","set","enumerable","configurable","get","addEventListeners","addEventListener","passive","removeEventListeners","removeEventListener","focus","blur","clear","setWidth","style","minWidth","width","preventDefault","SCROLLING_SPEED","List","scrollPos","height","prepend","node","child","firstElementChild","append","scrollToTop","scrollToChildElement","_this","listHeight","listScrollPosition","elementHeight","elementPos","destination","requestAnimationFrame","_animateScroll","_scrollDown","strength","easing","distance","_scrollUp","choiceListScrollTop","continueAnimation","WrappedElement","dataset","dir","conceal","input","hidden","tabIndex","origStyle","getAttribute","reveal","triggerEvent","eventType","data","WrappedInput","_super","coerceBool","arg","defaultValue","stringToHtmlClass","split","mapInputToChoice","allowGroup","allowRawString","sanitisedValue","selected","groupOrChoice","choices","score","isHtmlInputElement","tagName","isHtmlSelectElement","isHtmlOption","isHtmlOptgroup","WrappedSelect","template","extractPlaceholder","querySelector","addOptions","fragment","createDocumentFragment","forEach","obj","optionsAsChoices","querySelectorAll","push","_optionToChoice","_optgroupToChoice","hasAttribute","optgroup","options","DEFAULT_CONFIG","items","silent","renderChoiceLimit","maxItemCount","closeDropdownOnSelect","singleModeForMultiSelect","addChoices","addItems","addItemFilter","removeItems","removeItemButton","removeItemButtonAlignLeft","editItems","allowHtmlUserInput","duplicateItemsAllowed","delimiter","paste","searchEnabled","searchChoices","searchFloor","searchResultLimit","searchFields","resetScrollPosition","shouldSort","shouldSortItems","sorter","shadowRoot","placeholderValue","searchPlaceholderValue","prependValue","appendValue","renderSelectedChoices","loadingText","noResultsText","noChoicesText","itemSelectText","uniqueItemText","customAddItemText","addItemText","removeItemIconText","removeItemLabelText","maxItemText","valueComparer","value1","fuseOptions","includeScore","labelId","callbackOnInit","callbackOnCreateTemplates","containerOuter","containerInner","inputCloned","list","listItems","listSingle","listDropdown","itemSelectable","itemDisabled","itemChoice","description","groupHeading","button","highlightedState","selectedState","notice","noResults","noChoices","appendGroupInSearch","action","context","state","update","select","parentElement","find","groups","choiceEl","scoreLookup_1","result","reducers","Store","_state","defaultState","_listeners","_txn","_context","changeSet","init","reset","changes","_changeSet","subscribe","onChange","dispatch","hasChanges","key","stateUpdate","withTxn","func","changeSet_1","searchDisabledChoices","hasActiveOptions","some","inTxn","getChoiceById","activeChoices","getGroupById","NoticeTypes","generic","_defineProperty","r","_toPropertyKey","writable","ownKeys","getOwnPropertySymbols","o","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_toPrimitive","Symbol","toPrimitive","Number","getTag","baseToString","isString","isNumber","isBoolean","isObjectLike","isObject","isDefined","isBlank","INCORRECT_INDEX_TYPE","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","PATTERN_LENGTH_TOO_LARGE","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","KeyStore","_keys","_keyMap","totalWeight","createKey","weight","keyId","toJSON","stringify","path","src","getFn","createKeyPath","createKeyId","Error","arr","deepGet","index","len","MatchOptions","includeMatches","findAllMatches","minMatchCharLength","FuzzyOptions","location","threshold","AdvancedOptions","useExtendedSearch","ignoreLocation","ignoreFieldNorm","fieldNormWeight","Config","isCaseSensitive","ignoreDiacritics","sortFn","idx","SPACE","norm","mantissa","cache","Map","m","pow","numTokens","match","has","parseFloat","round","FuseIndex","isCreated","setIndexRecords","setSources","docs","records","setKeys","_keysMap","doc","docIndex","_addString","_addObject","size","removeAt","splice","getValueForItemAtKeyId","record","v","$","keyIndex","subRecords","stack","nestedArrIndex","pop","subRecord","k","createIndex","myIndex","parseIndex","computeScore$1","pattern","errors","currentLocation","expectedLocation","accuracy","proximity","abs","convertMaskToIndices","matchmask","indices","start","end","MAX_BITS","text","patternAlphabet","patternLen","textLen","currentThreshold","bestLocation","computeMatches","matchMask","lastBitArr","finalScore","binMax","mask","binMin","binMid","finish","bitArr","j","charMatch","charAt","isMatch","createPatternAlphabet","char","stripDiacritics","normalize","BitapSearch","toLowerCase","chunks","addChunk","startIndex","alphabet","remainder","substr","searchIn","allIndices","totalScore","hasMatches","BaseMatch","isMultiMatch","getMatch","multiRegex","isSingleMatch","singleRegex","exp","ExactMatch","super","InverseExactMatch","PrefixExactMatch","startsWith","InversePrefixExactMatch","SuffixExactMatch","endsWith","InverseSuffixExactMatch","FuzzyMatch","_bitapSearch","IncludeMatch","searchers","searchersLen","SPACE_RE","OR_TOKEN","parseQuery","query","queryItem","found","searcher","token","MultiMatchSet","Set","ExtendedSearch","condition","_","numMatches","qLen","pLen","registeredSearchers","register","args","createSearcher","searcherClass","LogicalOperator","AND","OR","KeyType","PATH","PATTERN","isExpression","isPath","isLeaf","convertToExplicit","auto","next","isQueryPath","operator","computeScore","EPSILON","transformMatches","refIndex","transformScore","format","transformers","transformer","Fuse","_keyStore","setCollection","_docs","_myIndex","predicate","getIndex","limit","_searchStringList","_searchObjectList","_searchLogical","expression","evaluate","_findMatches","res","resultMap","expResults","version","config","SearchByFuse","_haystack","_fuseOptions","_fuse","isEmptyIndex","needle","getSearcher","isEmptyObject","assignCustomProperties","withCustomProperties","addAriaLabel","docRoot","innerText","templates","isSelectElement","isSelectOneElement","passedElementType","div","_docRoot","passedElement","itemList","_isSelectElement","rawValue","spanLabel","deletable","removeButton","eventChoice","REMOVE_ITEM_LABEL","insertAdjacentElement","choiceList","choiceGroup","rawLabel","heading","selectText","groupName","elementId","describedBy","descId","spanDesc","groupId","choiceDisabled","choiceSelectable","inp","autocomplete","autocapitalize","spellcheck","dropdown","noticeItem","labelValue","opt","Option","IS_IE11","documentElement","USER_DEFAULTS","parseDataSetId","parseInt","selectableChoiceIdentifier","Choices","userConfig","initialisedOK","_hasNonChoicePlaceholder","_lastAddedChoiceId","_lastAddedGroupId","defaults","allOptions","_validateConfig","elementType","isText","isSelectOne","isSelectMultiple","isSelect","_elementType","_isTextElement","_isSelectOneElement","_isSelectMultipleElement","_canAddUserChoices","re","RegExp","test","selectEl","_templates","initialised","_store","_currentValue","_canSearch","_isScrollingOnIe","_highlightPosition","_wasTap","_placeholderValue","_generatePlaceholderValue","_baseId","_direction","elementDirection","getComputedStyle","_idNames","_render","_onKeyUp","_onKeyDown","_onClick","_onTouchMove","_onTouchEnd","_onMouseDown","_onMouseOver","_onFormReset","_onSelectKey","_onEnterKey","_onEscapeKey","_onDirectionKey","_onDeleteKey","_onChange","_onInvalid","console","warn","_initialItems","preventExtensions","_searcher","_loadChoices","_createTemplates","_createElements","_createStructure","closest","_addEventListeners","_initStore","destroy","_removeEventListeners","clearStore","_stopSearch","runEvent","c","highlightAll","unhighlightAll","removeActiveItemsByValue","_removeItem","removeActiveItems","excludedId","removeHighlightedItems","highlightedActiveItems","_triggerChange","preventInputFocus","rect","bottom","scrollIntoView","preventInputBlur","_removeHighlightedChoices","getValue","valueOnly","values","setValue","_addChoice","_warnChoicesInitFailed","setChoiceByValue","val","_findAndSelectChoiceByValue","setChoices","choicesArrayOrFetcher","replaceChoices","clearSearchFlag","replaceItems","fetcher_1","Promise","resolve","then","_handleLoadingState","catch","err","error","_isSearching","clearChoices","isDefaultValue","isDefaultLabel","_addGroup","choiceFull","refresh","withEvents","selectFirstOption","deselectAll","choicesFromOptions","existingItems","updateChoice","_addPredefinedChoices","_searchChoices","_clearNotice","clearOptions","clearItems","replaceChildren","clearInput","shouldSetInputWidth","invalidConfigOptions","_renderChoices","_renderItems","_canAddItems","isSearching","activeGroups","renderLimit","backingOptions","renderableChoices","searchRenderSelectedChoices","showLabel","selectableChoices","highlightedEl","renderChoices","withinGroup","choiceLimit","every","dropdownItem","groupChoices","dropdownGroup","groupEl","_notice","_renderNotice","_highlightChoice","itemFromList","addItemToFragment","addedItems","childNodes","_displayNotice","openDropdown","oldNotice","noticeElement","noticeConf","_getChoiceForOutput","_handleButtonAction","itemToRemove","placeholderChoice","reverse","_addItem","_handleItemAction","hasShiftKey","_handleChoiceAction","hasActiveDropdown","_handleBackspace","lastItem","hasHighlightedItems","_presetChoices","elementItems","setLoading","_handleSearch","resultCount","_canCreateItem","canAddItem","newValue","searchableChoices","outerElement","inputElement","form","wasPrintableChar","charCodeAt","hasChildNodes","hasItems","ctrlKey","metaKey","target","highlightedChoice","addedItem","stopPropagation","directionInt","nextEl","currentEl","hasFocusedInput","touches","contains","Element","firstChoice","offsetX","offsetWidth","offsetLeft","HTMLElement","shiftKey","targetIsInput","checkValidity","passedEl","userTriggered","userTemplates","templating","dropdownElement","findIndex","foundChoice","placeholderOption","caller","factory","bootstrap","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","code","getter","__esModule","definition","g","globalThis","Function","toStringTag","_global","loadSelectMenus","toolTip","selectedValue","category","optionGroups","optionGroupElement","replaceWith","allowClear","json","customEvent","url","href","createTagsSelectTemplates","createForumSelectTemplates","loadForumChoiceOptions","params","selectedForumId","fetch","method","body","headers","response","forum","selectedId","page","Page","total","loadChoiceOptions"],"ignoreList":[],"sourceRoot":""}