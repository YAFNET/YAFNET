/*!
 * Lightbox for Bootstrap 5 vundefined (https://trvswgnr.github.io/bs5-lightbox/)
 * Copyright 2023 Travis Aaron Wagner (https://github.com/trvswgnr/)
 * Licensed under MIT (https://github.com/trvswgnr/bs5-lightbox/blob/main/LICENSE)
 */!function(){"use strict";var t={d:function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{default:function(){return d}});var n=window.bootstrap;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,l(a.key),a)}}function l(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}var c={Modal:n.Modal,Carousel:n.Carousel},u=function(){function t(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hash=this.randomHash(),this.settings=Object.assign(Object.assign(Object.assign({},c.Modal.Default),c.Carousel.Default),{interval:!1,target:'[data-toggle="lightbox"]',gallery:"",size:"xl",constrain:!0}),this.settings=Object.assign(Object.assign({},this.settings),a),this.modalOptions=n.setOptionsFromSettings(c.Modal.Default),this.carouselOptions=n.setOptionsFromSettings(c.Carousel.Default),"string"==typeof e&&(this.settings.target=e,e=document.querySelector(this.settings.target)),this.el=e,this.type=e.dataset.type||"",this.src=this.getSrc(e),this.sources=this.getGalleryItems(),this.createCarousel(),this.createModal()}var e,n,a;return e=t,n=[{key:"show",value:function(){document.body.appendChild(this.modalElement),this.modal.show()}},{key:"hide",value:function(){this.modal.hide()}},{key:"setOptionsFromSettings",value:function(t){var e=this;return Object.keys(t).reduce((function(t,n){return Object.assign(t,function(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,e.settings[n]))}),{})}},{key:"getSrc",value:function(t){var e=t.dataset.src||t.dataset.remote||t.href||"http://via.placeholder.com/1600x900";if("html"===t.dataset.type)return e;/\:\/\//.test(e)||(e=window.location.origin+e);var n=new URL(e);return(t.dataset.footer||t.dataset.caption)&&n.searchParams.set("caption",t.dataset.footer||t.dataset.caption),n.toString()}},{key:"getGalleryItems",value:function(){var t,e=this;if(this.settings.gallery){if(Array.isArray(this.settings.gallery))return this.settings.gallery;t=this.settings.gallery}else this.el.dataset.gallery&&(t=this.el.dataset.gallery);return t?o(new Set(Array.from(document.querySelectorAll('[data-gallery="'.concat(t,'"]')),(function(t){return"".concat(t.dataset.type?t.dataset.type:"").concat(e.getSrc(t))})))):["".concat(this.type?this.type:"").concat(this.src)]}},{key:"getYoutubeId",value:function(t){if(!t)return!1;var e=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return!(!e||11!==e[2].length)&&e[2]}},{key:"getYoutubeLink",value:function(t){var e=this.getYoutubeId(t);if(!e)return!1;var n=t.split("?"),a=n.length>1?"?"+n[1]:"";return"https://www.youtube.com/embed/".concat(e).concat(a)}},{key:"getInstagramEmbed",value:function(t){if(/instagram/.test(t))return t+=/\/embed$/.test(t)?"":"/embed",'<iframe src="'.concat(t,'" class="start-50 translate-middle-x" style="max-width: 500px" frameborder="0" scrolling="no" allowtransparency="true"></iframe>')}},{key:"isEmbed",value:function(e){var n=new RegExp("("+t.allowedEmbedTypes.join("|")+")").test(e),a=/\.(png|jpe?g|gif|svg|webp)/i.test(e)||"image"===this.el.dataset.type;return n||!a}},{key:"createCarousel",value:function(){var e=this,n=document.createElement("template"),a=t.allowedMediaTypes.join("|"),o=this.sources.map((function(t,n){t=t.replace(/\/$/,"");var o=new RegExp("^(".concat(a,")"),"i"),r=/^html/.test(t),i=/^image/.test(t);o.test(t)&&(t=t.replace(o,""));var s=e.settings.constrain?"mw-100 mh-100 h-auto w-auto m-auto top-0 end-0 bottom-0 start-0":"h-100 w-100",l=new URLSearchParams(t.split("?")[1]),c="",u=t;if(l.get("caption")){try{(u=new URL(t)).searchParams.delete("caption"),u=u.toString()}catch(e){u=t}c='<div class="carousel-caption d-none d-md-block" style="z-index:2"><p class="bg-secondary rounded">'.concat(l.get("caption"),"</p></div>")}var d='<img src="'.concat(u,'" class="d-block ').concat(s,' img-fluid" style="z-index: 1; object-fit: contain;" />'),h="",m=e.getInstagramEmbed(t),f=e.getYoutubeLink(t);return e.isEmbed(t)&&!i&&(f&&(t=f,h='title="YouTube video player" frameborder="0" allow="accelerometer autoplay clipboard-write encrypted-media gyroscope picture-in-picture"'),d=m||'<img src="'.concat(t,'" ').concat(h,' class="d-block w-100" style="object-fit-cover;height:auto" />')),r&&(d=t),'\n\t\t\t\t<div class="carousel-item '.concat(n?"":"active",'" style="min-height: 100px">\n\t\t\t\t\t').concat('<div class="position-absolute top-50 start-50 translate-middle text-white"><div class="spinner-border" style="width: 3rem height: 3rem" role="status"></div></div>','\n\t\t\t\t\t<div class="ratio ratio-16x9" style="background-color: #000;">').concat(d,"</div>\n\t\t\t\t\t").concat(c,"\n\t\t\t\t</div>")})).join(""),r=this.sources.length<2?"":'\n\t\t\t<button id="#lightboxCarousel-'.concat(this.hash,'-prev" class="carousel-control carousel-control-prev h-75 m-auto" style="left:-110px" type="button" data-bs-target="#lightboxCarousel-').concat(this.hash,'" data-bs-slide="prev">\n\t\t\t\t<span class="carousel-control-prev-icon" aria-hidden="true"></span>\n\t\t\t\t<span class="visually-hidden">Previous</span>\n\t\t\t</button>\n\t\t\t<button id="#lightboxCarousel-').concat(this.hash,'-next" class="carousel-control carousel-control-next h-75 m-auto" style="right:-110px" type="button" data-bs-target="#lightboxCarousel-').concat(this.hash,'" data-bs-slide="next">\n\t\t\t\t<span class="carousel-control-next-icon" aria-hidden="true"></span>\n\t\t\t\t<span class="visually-hidden">Next</span>\n\t\t\t</button>'),i="lightbox-carousel carousel slide";"fullscreen"===this.settings.size&&(i+=" position-absolute w-100 translate-middle top-50 start-50");var s='\n\t\t\t<div class="carousel-indicators" style="bottom: -40px">\n\t\t\t\t'.concat(this.sources.map((function(t,n){return'\n\t\t\t\t\t<button type="button" data-bs-target="#lightboxCarousel-'.concat(e.hash,'" data-bs-slide-to="').concat(n,'" class="').concat(0===n?"active":"",'" aria-current="').concat(0===n?"true":"false",'" aria-label="Slide ').concat(n+1,'"></button>\n\t\t\t\t')})).join(""),"\n\t\t\t</div>"),l='\n\t\t\t<div id="lightboxCarousel-'.concat(this.hash,'" class="').concat(i,'" data-bs-ride="carousel" data-bs-interval="').concat(this.carouselOptions.interval,'">\n\t\t\t    <div class="carousel-inner">\n\t\t\t\t\t').concat(o,"\n\t\t\t\t</div>\n\t\t\t    ").concat(s,"\n\t\t\t\t").concat(r,"\n\t\t\t</div>");n.innerHTML=l.trim(),this.carouselElement=n.content.firstChild;var u=Object.assign(Object.assign({},this.carouselOptions),{keyboard:!1});this.carousel=new c.Carousel(this.carouselElement,u);var d=this.type&&"image"!==this.type?this.type+this.src:this.src;return this.carousel.to(this.findGalleryItemIndex(this.sources,d)),!0===this.carouselOptions.keyboard&&document.addEventListener("keydown",(function(t){if("ArrowLeft"===t.code){var n=document.getElementById("#lightboxCarousel-".concat(e.hash,"-prev"));return n&&n.click(),!1}if("ArrowRight"===t.code){var a=document.getElementById("#lightboxCarousel-".concat(e.hash,"-next"));return a&&a.click(),!1}})),this.carousel}},{key:"findGalleryItemIndex",value:function(t,e){var n,a=0,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}(t);try{for(o.s();!(n=o.n()).done;){if(n.value.includes(e))return a;a++}}catch(t){o.e(t)}finally{o.f()}return 0}},{key:"createModal",value:function(){var t=this,e=document.createElement("template"),n='\n\t\t\t<div class="modal lightbox fade" id="lightboxModal-'.concat(this.hash,'" tabindex="-1" aria-hidden="true">\n\t\t\t\t<div class="modal-dialog modal-dialog-centered modal-').concat(this.settings.size,'">\n\t\t\t\t\t<div class="modal-content border-0 bg-transparent">\n\t\t\t\t\t\t<div class="modal-body p-0">\n\t\t\t\t\t\t\t<button type="button" class="btn-close position-absolute top-0 end-0 p-3" data-bs-dismiss="modal" aria-label="Close" style="z-index: 2; background: none;">').concat('<svg xmlns="http://www.w3.org/2000/svg" style="position: relative; top: -15px;right:-40px" viewBox="0 0 16 16" fill="#fff"><path d="M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"/></svg>',"</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>");return e.innerHTML=n.trim(),this.modalElement=e.content.firstChild,this.modalElement.querySelector(".modal-body").appendChild(this.carouselElement),this.modalElement.addEventListener("hidden.bs.modal",(function(){return t.modalElement.remove()})),this.modalElement.querySelector("[data-bs-dismiss]").addEventListener("click",(function(){return t.modal.hide()})),this.modal=new c.Modal(this.modalElement,this.modalOptions),this.modal}},{key:"randomHash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return Array.from({length:t},(function(){return Math.floor(36*Math.random()).toString(36)})).join("")}}],n&&s(e.prototype,n),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();u.allowedEmbedTypes=["embed","youtube","vimeo","instagram","url"],u.allowedMediaTypes=[].concat(o(u.allowedEmbedTypes),["image","html"]),u.defaultSelector='[data-toggle="lightbox"]',u.initialize=function(t){t.preventDefault(),new u(this).show()},document.querySelectorAll(u.defaultSelector).forEach((function(t){return t.addEventListener("click",u.initialize)})),"undefined"!=typeof window&&window.bootstrap&&(window.bootstrap.Lightbox=u);var d=u;window.Lightbox=e.default}();
//# sourceMappingURL=index.bundle.min.js.map