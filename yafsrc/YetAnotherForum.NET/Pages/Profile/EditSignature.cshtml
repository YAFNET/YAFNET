@page "{handler?}"

@using YAF.Core.Context
@using YAF.Web.HtmlHelpers
@using YAF.Types.Constants
@using YAF.Types.Extensions

@model YAF.Pages.Profile.EditSignatureModel

@inject BoardContext Current

<div class="row">
    <div class="col-sm-auto">
        <profileMenu></profileMenu>
    </div>
    <div class="col">
        <h4>
            @Html.LocalizedText("EDIT_SIGNATURE", "SIGNATURE_PREVIEW")
        </h4>
        <form method="post">
            <signature display-user-id="@Model.PageBoardContext.PageUserID"
                       signature="@Model.Signature"></signature>
            
            <textarea asp-for="Signature"
                      class="form-control"
                      rows="15"
                      cols="100"
                      title="editor"
                      editor-mode="Basic"
                      users-can-upload="false"
                      maxlength="@Model.AllowedNumberOfCharacters"
                      max-characters="@Model.AllowedNumberOfCharacters"></textarea>

            <div class="text-lg-center mt-3">
                <button type="submit"
                        asp-page-handler="Preview"
                        button-style="Secondary"
                        icon="image"
                        class="me-2"
                        text-localized-page="COMMON"
                        text-localized-tag="PREVIEW"></button>
                <button type="submit"
                        asp-page-handler="Save"
                        button-style="Primary"
                        icon="save"
                        class="me-2"
                        text-localized-page="COMMON"
                        text-localized-tag="SAVE"></button>
                <a role="button"
                   asp-page="@ForumPages.MyAccount.GetPageName()"
                   button-style="Secondary"
                   icon="reply"
                   text-localized-page="COMMON"
                   text-localized-tag="CANCEL"></a>
            </div>
        </form>
    </div>
</div>


@section Scripts {
    @await Html.PartialAsync("_EditorScriptsPartial")
}